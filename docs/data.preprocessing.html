---

title: Data preprocessing


keywords: fastai
sidebar: home_sidebar

summary: "Functions used to preprocess time series (both X and y)."
description: "Functions used to preprocess time series (both X and y)."
nb_path: "nbs/016_data.preprocessing.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/016_data.preprocessing.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">tsai.data.external</span> <span class="kn">import</span> <span class="n">get_UCR_data</span>
<span class="n">dsid</span> <span class="o">=</span> <span class="s1">&#39;NATOPS&#39;</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">splits</span> <span class="o">=</span> <span class="n">get_UCR_data</span><span class="p">(</span><span class="n">dsid</span><span class="p">,</span> <span class="n">return_split</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">tfms</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Categorize</span><span class="p">()]</span>
<span class="n">dsets</span> <span class="o">=</span> <span class="n">TSDatasets</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">tfms</span><span class="o">=</span><span class="n">tfms</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">splits</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ToNumpyCategory" class="doc_header"><code>class</code> <code>ToNumpyCategory</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L24" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ToNumpyCategory</code>(<strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Categorize a numpy batch</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">ToNumpyCategory</span><span class="p">()</span>
<span class="n">y_cat</span> <span class="o">=</span> <span class="n">t</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">y_cat</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([3, 2, 2, 3, 2, 4, 0, 5, 2, 1])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">tensor</span><span class="p">(</span><span class="n">y_cat</span><span class="p">)),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">y_cat</span><span class="p">)),</span> <span class="n">y</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="OneHot" class="doc_header"><code>class</code> <code>OneHot</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L45" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>OneHot</code>(<strong><code>n_classes</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>One-hot encode/ decode a batch</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">oh_encoder</span> <span class="o">=</span> <span class="n">OneHot</span><span class="p">()</span>
<span class="n">y_cat</span> <span class="o">=</span> <span class="n">ToNumpyCategory</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">oht</span> <span class="o">=</span> <span class="n">oh_encoder</span><span class="p">(</span><span class="n">y_cat</span><span class="p">)</span>
<span class="n">oht</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([[0., 0., 0., 1., 0., 0.],
       [0., 0., 1., 0., 0., 0.],
       [0., 0., 1., 0., 0., 0.],
       [0., 0., 0., 1., 0., 0.],
       [0., 0., 1., 0., 0., 0.],
       [0., 0., 0., 0., 1., 0.],
       [1., 0., 0., 0., 0., 0.],
       [0., 0., 0., 0., 0., 1.],
       [0., 0., 1., 0., 0., 0.],
       [0., 1., 0., 0., 0., 0.]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_classes</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">n_samples</span> <span class="o">=</span> <span class="mi">100</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">,</span> <span class="p">(</span><span class="n">n_samples</span><span class="p">,))</span>
<span class="n">oh_encoder</span> <span class="o">=</span> <span class="n">OneHot</span><span class="p">()</span>
<span class="n">oht</span> <span class="o">=</span> <span class="n">oh_encoder</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">oht</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="p">(</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">oht</span><span class="p">,</span> <span class="n">dim</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span> <span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">oh_encoder</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">oht</span><span class="p">),</span> <span class="n">t</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_classes</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">n_samples</span> <span class="o">=</span> <span class="mi">100</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">,</span> <span class="p">(</span><span class="n">n_samples</span><span class="p">,))</span>
<span class="n">oh_encoder</span> <span class="o">=</span> <span class="n">OneHot</span><span class="p">()</span>
<span class="n">oha</span> <span class="o">=</span> <span class="n">oh_encoder</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">oha</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="p">(</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">oha</span><span class="p">,</span> <span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span> <span class="n">a</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">oh_encoder</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">oha</span><span class="p">),</span> <span class="n">a</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSNan2Value" class="doc_header"><code>class</code> <code>TSNan2Value</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L62" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSNan2Value</code>(<strong><code>value</code></strong>=<em><code>0</code></em>, <strong><code>median</code></strong>=<em><code>False</code></em>, <strong><code>by_sample_and_var</code></strong>=<em><code>True</code></em>, <strong><code>sel_vars</code></strong>=<em><code>None</code></em>) :: <code>Transform</code></p>
</blockquote>
<p>Replaces any nan values by a predefined value or median</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">o</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">o</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">o</span><span class="p">[</span><span class="n">o</span> <span class="o">&gt;</span> <span class="mf">.9</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">o</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">15</span><span class="p">],</span> <span class="p">:,</span> <span class="o">-</span><span class="mi">20</span><span class="p">:]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">nan_vals1</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">o</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">o2</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">TSNan2Value</span><span class="p">(),</span> <span class="n">split_idx</span><span class="o">=</span><span class="mi">0</span><span class="p">)(</span><span class="n">o</span><span class="o">.</span><span class="n">clone</span><span class="p">())</span>
<span class="n">o3</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">TSNan2Value</span><span class="p">(</span><span class="n">median</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_sample_and_var</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">split_idx</span><span class="o">=</span><span class="mi">0</span><span class="p">)(</span><span class="n">o</span><span class="o">.</span><span class="n">clone</span><span class="p">())</span>
<span class="n">o4</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">TSNan2Value</span><span class="p">(</span><span class="n">median</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_sample_and_var</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="n">split_idx</span><span class="o">=</span><span class="mi">0</span><span class="p">)(</span><span class="n">o</span><span class="o">.</span><span class="n">clone</span><span class="p">())</span>
<span class="n">nan_vals2</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">o2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">nan_vals3</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">o3</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">nan_vals4</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">o4</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">nan_vals1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">nan_vals2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">nan_vals3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">nan_vals4</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">o</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">o</span><span class="p">[</span><span class="n">o</span> <span class="o">&gt;</span> <span class="mf">.9</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">o</span> <span class="o">=</span> <span class="n">TSNan2Value</span><span class="p">(</span><span class="n">median</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sel_vars</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])(</span><span class="n">o</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">o</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">item</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSStandardize" class="doc_header"><code>class</code> <code>TSStandardize</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L96" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSStandardize</code>(<strong><code>mean</code></strong>=<em><code>None</code></em>, <strong><code>std</code></strong>=<em><code>None</code></em>, <strong><code>by_sample</code></strong>=<em><code>False</code></em>, <strong><code>by_var</code></strong>=<em><code>False</code></em>, <strong><code>by_step</code></strong>=<em><code>False</code></em>, <strong><code>eps</code></strong>=<em><code>1e-08</code></em>, <strong><code>use_single_batch</code></strong>=<em><code>True</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Standardizes batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a></p>
<p>Args:</p>

<pre><code>- mean: you can pass a precalculated mean value as a torch tensor which is the one that will be used, or leave as None, in which case
    it will be estimated using a batch.
- std: you can pass a precalculated std value as a torch tensor which is the one that will be used, or leave as None, in which case
    it will be estimated using a batch. If both mean and std values are passed when instantiating TSStandardize, the rest of arguments won't be used.
- by_sample: if True, it will calculate mean and std for each individual sample. Otherwise based on the entire batch.
- by_var:
    * False: mean and std will be the same for all variables.
    * True: a mean and std will be be different for each variable.
    * a list of ints: (like [0,1,3]) a different mean and std will be set for each variable on the list. Variables not included in the list
    won't be standardized.
    * a list that contains a list/lists: (like[0, [1,3]]) a different mean and std will be set for each element of the list. If multiple elements are
    included in a list, the same mean and std will be set for those variable in the sublist/s. (in the example a mean and std is determined for
    variable 0, and another one for variables 1 &amp; 3 - the same one). Variables not included in the list won't be standardized.
- by_step: if False, it will standardize values for each time step.
- eps: it avoids dividing by 0
- use_single_batch: if True a single training batch will be used to calculate mean &amp; std. Else the entire training set will be used.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span><span class="o">=</span><span class="p">[</span><span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_var</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">tsai.data.validation</span> <span class="kn">import</span> <span class="n">TimeSplitter</span>
<span class="n">X_nan</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">idxs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">X_nan</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">X_nan</span><span class="p">)</span><span class="o">*</span><span class="mf">.5</span><span class="p">),</span> <span class="kc">False</span><span class="p">)</span>
<span class="n">X_nan</span><span class="p">[</span><span class="n">idxs</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">idxs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">X_nan</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">X_nan</span><span class="p">)</span><span class="o">*</span><span class="mf">.5</span><span class="p">),</span> <span class="kc">False</span><span class="p">)</span>
<span class="n">X_nan</span><span class="p">[</span><span class="n">idxs</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">:]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">batch_tfms</span> <span class="o">=</span> <span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_var</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">get_ts_dls</span><span class="p">(</span><span class="n">X_nan</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">TimeSplitter</span><span class="p">(</span><span class="n">show_plot</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="n">range_of</span><span class="p">(</span><span class="n">X_nan</span><span class="p">)))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">after_batch</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">after_batch</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">xb</span> <span class="o">=</span> <span class="n">first</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">xb</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">xb</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">xb</span><span class="p">)</span><span class="o">.</span><span class="n">numel</span><span class="p">())</span>
<span class="n">batch_tfms</span> <span class="o">=</span> <span class="p">[</span><span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_var</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">Nan2Value</span><span class="p">()]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">get_ts_dls</span><span class="p">(</span><span class="n">X_nan</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">TimeSplitter</span><span class="p">(</span><span class="n">show_plot</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="n">range_of</span><span class="p">(</span><span class="n">X_nan</span><span class="p">)))</span>
<span class="n">xb</span> <span class="o">=</span> <span class="n">first</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">xb</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span><span class="o">=</span><span class="p">[</span><span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_var</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">valid</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tfms</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">TSClassification</span><span class="p">()]</span>
<span class="n">batch_tfms</span> <span class="o">=</span> <span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">get_ts_dls</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">splits</span><span class="p">,</span> <span class="n">tfms</span><span class="o">=</span><span class="n">tfms</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="p">[</span><span class="mi">64</span><span class="p">,</span> <span class="mi">128</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="o">.</span><span class="n">one_batch</span><span class="p">()</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="n">dls</span><span class="o">.</span><span class="n">valid</span><span class="o">.</span><span class="n">one_batch</span><span class="p">()</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tfms</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">TSClassification</span><span class="p">()]</span>
<span class="n">batch_tfms</span> <span class="o">=</span> <span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_var</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">get_ts_dls</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">splits</span><span class="p">,</span> <span class="n">tfms</span><span class="o">=</span><span class="n">tfms</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="p">[</span><span class="mi">64</span><span class="p">,</span> <span class="mi">128</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="o">.</span><span class="n">one_batch</span><span class="p">()</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="n">dls</span><span class="o">.</span><span class="n">valid</span><span class="o">.</span><span class="n">one_batch</span><span class="p">()</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Tensor.mul_min" class="doc_header"><code>Tensor.mul_min</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L194" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Tensor.mul_min</code>(<strong><code>x</code></strong>:<code>(Tensor, TSTensor, NumpyTensor)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="TSTensor.mul_min" class="doc_header"><code>TSTensor.mul_min</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L194" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>TSTensor.mul_min</code>(<strong><code>x</code></strong>:<code>(Tensor, TSTensor, NumpyTensor)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="NumpyTensor.mul_min" class="doc_header"><code>NumpyTensor.mul_min</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L194" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>NumpyTensor.mul_min</code>(<strong><code>x</code></strong>:<code>(Tensor, TSTensor, NumpyTensor)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Tensor.mul_max" class="doc_header"><code>Tensor.mul_max</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L203" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Tensor.mul_max</code>(<strong><code>x</code></strong>:<code>(Tensor, TSTensor, NumpyTensor)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="TSTensor.mul_max" class="doc_header"><code>TSTensor.mul_max</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L203" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>TSTensor.mul_max</code>(<strong><code>x</code></strong>:<code>(Tensor, TSTensor, NumpyTensor)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="NumpyTensor.mul_max" class="doc_header"><code>NumpyTensor.mul_max</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L203" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>NumpyTensor.mul_max</code>(<strong><code>x</code></strong>:<code>(Tensor, TSTensor, NumpyTensor)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSNormalize" class="doc_header"><code>class</code> <code>TSNormalize</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L212" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSNormalize</code>(<strong><code>min</code></strong>=<em><code>None</code></em>, <strong><code>max</code></strong>=<em><code>None</code></em>, <strong><code>range</code></strong>=<em><code>(-1, 1)</code></em>, <strong><code>by_sample</code></strong>=<em><code>False</code></em>, <strong><code>by_var</code></strong>=<em><code>False</code></em>, <strong><code>by_step</code></strong>=<em><code>False</code></em>, <strong><code>clip_values</code></strong>=<em><code>True</code></em>, <strong><code>use_single_batch</code></strong>=<em><code>True</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Normalizes batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span> <span class="o">=</span> <span class="p">[</span><span class="n">TSNormalize</span><span class="p">()]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span><span class="o">=</span><span class="p">[</span><span class="n">TSNormalize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_var</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span> <span class="o">=</span> <span class="p">[</span><span class="n">TSNormalize</span><span class="p">(</span><span class="n">by_var</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span> <span class="n">use_single_batch</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">clip_values</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">xb</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">xb</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSClipOutliers" class="doc_header"><code>class</code> <code>TSClipOutliers</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L292" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSClipOutliers</code>(<strong><code>min</code></strong>=<em><code>None</code></em>, <strong><code>max</code></strong>=<em><code>None</code></em>, <strong><code>by_sample</code></strong>=<em><code>False</code></em>, <strong><code>by_var</code></strong>=<em><code>False</code></em>, <strong><code>use_single_batch</code></strong>=<em><code>False</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Clip outliers batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a> based on the IQR</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span><span class="o">=</span><span class="p">[</span><span class="n">TSClipOutliers</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">valid</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>TSClipOutliers min=-1, max=1

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSClip" class="doc_header"><code>class</code> <code>TSClip</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L335" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSClip</code>(<strong><code>min</code></strong>=<em><code>-6</code></em>, <strong><code>max</code></strong>=<em><code>6</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Clip  batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span><span class="p">)</span>
<span class="n">test_le</span><span class="p">(</span><span class="n">TSClip</span><span class="p">()(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">.</span><span class="n">item</span><span class="p">(),</span> <span class="mi">6</span><span class="p">)</span>
<span class="n">test_ge</span><span class="p">(</span><span class="n">TSClip</span><span class="p">()(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="o">.</span><span class="n">item</span><span class="p">(),</span> <span class="o">-</span><span class="mi">6</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSSelfMissingness" class="doc_header"><code>class</code> <code>TSSelfMissingness</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L348" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSSelfMissingness</code>(<strong><code>sel_vars</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Applies missingness from samples in a batch to random samples in the batch for selected variables</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">t</span><span class="p">[</span><span class="n">t</span><span class="o">&gt;</span><span class="mf">.8</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">TSSelfMissingness</span><span class="p">()(</span><span class="n">t</span><span class="o">.</span><span class="n">clone</span><span class="p">())</span>
<span class="n">t3</span> <span class="o">=</span> <span class="n">TSSelfMissingness</span><span class="p">(</span><span class="n">sel_vars</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">])(</span><span class="n">t</span><span class="o">.</span><span class="n">clone</span><span class="p">())</span>
<span class="k">assert</span> <span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">t2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span> <span class="ow">and</span> <span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">t2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">&gt;</span>  <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">t3</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSRobustScale" class="doc_header"><code>class</code> <code>TSRobustScale</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L365" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSRobustScale</code>(<strong><code>median</code></strong>=<em><code>None</code></em>, <strong><code>iqr</code></strong>=<em><code>None</code></em>, <strong><code>quantile_range</code></strong>=<em><code>(25.0, 75.0)</code></em>, <strong><code>use_single_batch</code></strong>=<em><code>True</code></em>, <strong><code>eps</code></strong>=<em><code>1e-08</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>This Scaler removes the median and scales the data according to the quantile range (defaults to IQR: Interquartile Range)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span> <span class="o">=</span> <span class="n">TSRobustScale</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">use_single_batch</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>TSRobustScale median=torch.Size([1, 24, 1]) iqr=torch.Size([1, 24, 1])
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>TSTensor([-2.248924493789673], device=cpu, dtype=torch.float32)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_stats_with_uncertainty" class="doc_header"><code>get_stats_with_uncertainty</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L405" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_stats_with_uncertainty</code>(<strong><code>o</code></strong>, <strong><code>sel_vars</code></strong>=<em><code>None</code></em>, <strong><code>sel_vars_zero_mean_unit_var</code></strong>=<em><code>False</code></em>, <strong><code>bs</code></strong>=<em><code>64</code></em>, <strong><code>n_trials</code></strong>=<em><code>None</code></em>, <strong><code>axis</code></strong>=<em><code>(0, 2)</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_random_stats" class="doc_header"><code>get_random_stats</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L439" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_random_stats</code>(<strong><code>E_mean</code></strong>, <strong><code>S_mean</code></strong>, <strong><code>E_std</code></strong>, <strong><code>S_std</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSGaussianStandardize" class="doc_header"><code>class</code> <code>TSGaussianStandardize</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L446" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSGaussianStandardize</code>(<strong><code>E_mean</code></strong>:<code>ndarray</code>, <strong><code>S_mean</code></strong>:<code>ndarray</code>, <strong><code>E_std</code></strong>:<code>ndarray</code>, <strong><code>S_std</code></strong>:<code>ndarray</code>, <strong><code>eps</code></strong>=<em><code>1e-08</code></em>, <strong><code>split_idx</code></strong>=<em><code>0</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Scales each batch using modeled mean and std based on UNCERTAINTY MODELING FOR OUT-OF-DISTRIBUTION GENERALIZATION <a href="https://arxiv.org/abs/2202.03958">https://arxiv.org/abs/2202.03958</a></p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>E_mean</code></strong></td>
<td><code>ndarray</code></td>
<td></td>
<td>Mean expected value</td>
</tr>
<tr>
<td><strong><code>S_mean</code></strong></td>
<td><code>ndarray</code></td>
<td></td>
<td>Uncertainty (standard deviation) of the mean</td>
</tr>
<tr>
<td><strong><code>E_std</code></strong></td>
<td><code>ndarray</code></td>
<td></td>
<td>Standard deviation expected value</td>
</tr>
<tr>
<td><strong><code>S_std</code></strong></td>
<td><code>ndarray</code></td>
<td></td>
<td>Uncertainty (standard deviation) of the standard deviation</td>
</tr>
<tr>
<td><strong><code>eps</code></strong></td>
<td><code>float</code></td>
<td><code>1e-08</code></td>
<td>(epsilon) small amount added to standard deviation to avoid deviding by zero</td>
</tr>
<tr>
<td><strong><code>split_idx</code></strong></td>
<td><code>int</code></td>
<td><code>0</code></td>
<td>Flag to indicate to which set is this transofrm applied. 0: training, 1:validation, None:both</td>
</tr>
<tr>
<td><strong><code>kwargs</code></strong></td>
<td></td>
<td></td>
<td><em>No Content</em></td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">E_mean</span><span class="p">,</span> <span class="n">S_mean</span><span class="p">,</span> <span class="n">E_std</span><span class="p">,</span> <span class="n">S_std</span> <span class="o">=</span> <span class="n">get_stats_with_uncertainty</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">sel_vars</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">n_trials</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">new_mean</span><span class="p">,</span> <span class="n">new_std</span> <span class="o">=</span> <span class="n">get_random_stats</span><span class="p">(</span><span class="n">E_mean</span><span class="p">,</span> <span class="n">S_mean</span><span class="p">,</span> <span class="n">E_std</span><span class="p">,</span> <span class="n">S_std</span><span class="p">)</span>
<span class="n">new_mean2</span><span class="p">,</span> <span class="n">new_std2</span> <span class="o">=</span> <span class="n">get_random_stats</span><span class="p">(</span><span class="n">E_mean</span><span class="p">,</span> <span class="n">S_mean</span><span class="p">,</span> <span class="n">E_std</span><span class="p">,</span> <span class="n">S_std</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">new_mean</span><span class="p">,</span> <span class="n">new_mean2</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">new_std</span><span class="p">,</span> <span class="n">new_std2</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">new_mean</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">new_std</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">new_mean</span><span class="p">,</span> <span class="n">new_std</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
    <div>
        <style>
            /* Turns off some styling */
            progress {
                /* gets rid of default border in Firefox and Opera. */
                border: none;
                /* Needs to be in here for Safari polyfill so background images work as expected. */
                background-size: auto;
            }
            .progress-bar-interrupted, .progress-bar-interrupted::-webkit-progress-bar {
                background: #F44336;
            }
        </style>
      <progress value='15' class='' max='15' style='width:300px; height:20px; vertical-align: middle;'></progress>
      100.00% [15/15 00:00<00:00]
    </div>
    </div>

</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(array([[[0.49863287],
         [0.50076695]]]),
 array([[[0.28762922],
         [0.28786749]]]))</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>TSGaussianStandardize can be used jointly with TSStandardized in the following way:</p>
<div class="highlight"><pre><span></span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">splits</span> <span class="o">=</span> <span class="n">get_UCR_data</span><span class="p">(</span><span class="s1">&#39;LSST&#39;</span><span class="p">,</span> <span class="n">split_data</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">tfms</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">TSClassification</span><span class="p">()]</span>
<span class="n">E_mean</span><span class="p">,</span> <span class="n">S_mean</span><span class="p">,</span> <span class="n">E_std</span><span class="p">,</span> <span class="n">S_std</span> <span class="o">=</span> <span class="n">get_stats_with_uncertainty</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">sel_vars</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">n_trials</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">batch_tfms</span> <span class="o">=</span> <span class="p">[</span><span class="n">TSGaussianStandardize</span><span class="p">(</span><span class="n">E_mean</span><span class="p">,</span> <span class="n">S_mean</span><span class="p">,</span> <span class="n">E_std</span><span class="p">,</span> <span class="n">S_std</span><span class="p">,</span> <span class="n">split_idx</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="n">TSStandardize</span><span class="p">(</span><span class="n">E_mean</span><span class="p">,</span> <span class="n">S_mean</span><span class="p">,</span> <span class="n">split_idx</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">get_ts_dls</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">splits</span><span class="p">,</span> <span class="n">tfms</span><span class="o">=</span><span class="n">tfms</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="p">[</span><span class="mi">32</span><span class="p">,</span> <span class="mi">64</span><span class="p">])</span>
<span class="n">learn</span> <span class="o">=</span> <span class="n">ts_learner</span><span class="p">(</span><span class="n">dls</span><span class="p">,</span> <span class="n">InceptionTimePlus</span><span class="p">,</span> <span class="n">metrics</span><span class="o">=</span><span class="n">accuracy</span><span class="p">,</span> <span class="n">cbs</span><span class="o">=</span><span class="p">[</span><span class="n">ShowGraph</span><span class="p">()])</span>
<span class="n">learn</span><span class="o">.</span><span class="n">fit_one_cycle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">1e-2</span><span class="p">)</span>
</pre></div>
<p>In this way the train batches are scaled based on mean and standard deviation distributions while the valid batches are scaled with a fixed mean and standard deviation values.</p>
<p>The intent is to improve out-of-distribution performance. This method is inspired by UNCERTAINTY MODELING FOR OUT-OF-DISTRIBUTION GENERALIZATION <a href="https://arxiv.org/abs/2202.03958">https://arxiv.org/abs/2202.03958</a>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSDiff" class="doc_header"><code>class</code> <code>TSDiff</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L473" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSDiff</code>(<strong><code>lag</code></strong>=<em><code>1</code></em>, <strong><code>pad</code></strong>=<em><code>True</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Differences batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">TSDiff</span><span class="p">()(</span><span class="n">t</span><span class="p">)[</span><span class="o">...</span><span class="p">,</span> <span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">float</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">TSDiff</span><span class="p">(</span><span class="n">lag</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">float</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSLog" class="doc_header"><code>class</code> <code>TSLog</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L486" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSLog</code>(<strong><code>ex</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Log transforms batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a> + 1. Accepts positive and negative numbers</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span> 
<span class="n">tfm</span> <span class="o">=</span> <span class="n">TSLog</span><span class="p">()</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">tfm</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">enc_t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">tfm</span><span class="o">.</span><span class="n">decodes</span><span class="p">(</span><span class="n">enc_t</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSCyclicalPosition" class="doc_header"><code>class</code> <code>TSCyclicalPosition</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L507" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSCyclicalPosition</code>(<strong><code>cyclical_var</code></strong>=<em><code>None</code></em>, <strong><code>magnitude</code></strong>=<em><code>None</code></em>, <strong><code>drop_var</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Concatenates the position along the sequence as 2 additional variables (sine and cosine)</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>cyclical_var</code></strong></td>
<td></td>
<td><code>None</code></td>
<td>Optional variable to indicate the steps withing the cycle (ie minute of the day)</td>
</tr>
<tr>
<td><strong><code>magnitude</code></strong></td>
<td></td>
<td><code>None</code></td>
<td>Added for compatibility. It's not used.</td>
</tr>
<tr>
<td><strong><code>drop_var</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>Flag to indicate if the cyclical var is removed</td>
</tr>
<tr>
<td><strong><code>kwargs</code></strong></td>
<td></td>
<td></td>
<td><em>No Content</em></td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">))</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSCyclicalPosition</span><span class="p">()(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">enc_t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">2</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enc_t</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">cpu</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">)</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">seq_len</span><span class="p">)</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t2</span><span class="p">[</span><span class="mi">35</span><span class="p">:],</span> <span class="n">t2</span><span class="p">[:</span><span class="mi">35</span><span class="p">]])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">],</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">rand_like</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">.8</span>
<span class="n">t</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSCyclicalPosition</span><span class="p">(</span><span class="mi">3</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">enc_t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">2</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enc_t</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">cpu</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSLinearPosition" class="doc_header"><code>class</code> <code>TSLinearPosition</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L537" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSLinearPosition</code>(<strong><code>linear_var</code></strong>:<code>int</code>=<em><code>None</code></em>, <strong><code>var_range</code></strong>:<code>tuple</code>=<em><code>None</code></em>, <strong><code>magnitude</code></strong>=<em><code>None</code></em>, <strong><code>drop_var</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>lin_range</code></strong>:<code>tuple</code>=<em><code>(-1, 1)</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Concatenates the position along the sequence as 1 additional variable</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>linear_var</code></strong></td>
<td><code>int</code></td>
<td><code>None</code></td>
<td>Optional variable to indicate the steps withing the cycle (ie minute of the day)</td>
</tr>
<tr>
<td><strong><code>var_range</code></strong></td>
<td><code>tuple</code></td>
<td><code>None</code></td>
<td>Optional range indicating min and max values of the linear variable</td>
</tr>
<tr>
<td><strong><code>magnitude</code></strong></td>
<td></td>
<td><code>None</code></td>
<td>Added for compatibility. It's not used.</td>
</tr>
<tr>
<td><strong><code>drop_var</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>Flag to indicate if the cyclical var is removed</td>
</tr>
<tr>
<td><strong><code>lin_range</code></strong></td>
<td><code>tuple</code></td>
<td><code>(-1, 1)</code></td>
<td><em>No Content</em></td>
</tr>
<tr>
<td><strong><code>kwargs</code></strong></td>
<td></td>
<td></td>
<td><em>No Content</em></td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">))</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSLinearPosition</span><span class="p">()(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">enc_t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enc_t</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">cpu</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t</span><span class="p">[</span><span class="mi">30</span><span class="p">:],</span> <span class="n">t</span><span class="p">[:</span><span class="mi">30</span><span class="p">]])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t</span><span class="p">[</span><span class="mi">52</span><span class="p">:],</span> <span class="n">t</span><span class="p">[:</span><span class="mi">52</span><span class="p">]])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">])</span><span class="o">.</span><span class="n">float</span><span class="p">()</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">rand_like</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">.8</span>
<span class="n">t</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSLinearPosition</span><span class="p">(</span><span class="n">linear_var</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">var_range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="n">drop_var</span><span class="o">=</span><span class="kc">True</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">enc_t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enc_t</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">cpu</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSMissingness" class="doc_header"><code>class</code> <code>TSMissingness</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L572" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSMissingness</code>(<strong><code>feature_idxs</code></strong>=<em><code>None</code></em>, <strong><code>magnitude</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Concatenates data missingness for selected features along the sequence as additional variables</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">))</span>
<span class="n">t</span><span class="p">[</span><span class="n">t</span><span class="o">&gt;</span><span class="mf">.5</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSMissingness</span><span class="p">(</span><span class="n">feature_idxs</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">])(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">enc_t</span><span class="p">[:,</span> <span class="mi">3</span><span class="p">:],</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">t</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span><span class="o">.</span><span class="n">float</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSPositionGaps" class="doc_header"><code>class</code> <code>TSPositionGaps</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L588" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSPositionGaps</code>(<strong><code>feature_idxs</code></strong>=<em><code>None</code></em>, <strong><code>magnitude</code></strong>=<em><code>None</code></em>, <strong><code>forward</code></strong>=<em><code>True</code></em>, <strong><code>backward</code></strong>=<em><code>False</code></em>, <strong><code>nearest</code></strong>=<em><code>False</code></em>, <strong><code>normalize</code></strong>=<em><code>True</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Concatenates gaps for selected features along the sequence as additional variables</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">))</span>
<span class="n">t</span><span class="p">[</span><span class="n">t</span><span class="o">&gt;</span><span class="mf">.5</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSPositionGaps</span><span class="p">(</span><span class="n">feature_idxs</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">forward</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">backward</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nearest</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">normalize</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">9</span><span class="p">)</span>
<span class="n">enc_t</span><span class="o">.</span><span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>tensor([[[   nan, 0.0157, 0.0190, 0.3644, 0.2618, 0.3870,    nan,    nan],
         [   nan,    nan,    nan, 0.3097,    nan,    nan, 0.3144, 0.1376],
         [   nan,    nan,    nan, 0.0301, 0.0581, 0.1789, 0.0864, 0.2435],
         [1.0000, 2.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 2.0000],
         [1.0000, 2.0000, 3.0000, 4.0000, 1.0000, 1.0000, 1.0000, 1.0000],
         [1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 3.0000, 2.0000, 1.0000],
         [3.0000, 2.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000],
         [1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000],
         [1.0000, 2.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000]]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSRollingMean" class="doc_header"><code>class</code> <code>TSRollingMean</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L606" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSRollingMean</code>(<strong><code>feature_idxs</code></strong>=<em><code>None</code></em>, <strong><code>magnitude</code></strong>=<em><code>None</code></em>, <strong><code>window</code></strong>=<em><code>2</code></em>, <strong><code>replace</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Calculates the rolling mean for all/ selected features alongside the sequence</p>
<p>It replaces the original values or adds additional variables (default)
If nan values are found, they will be filled forward and backward</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">))</span>
<span class="n">t</span><span class="p">[</span><span class="n">t</span> <span class="o">&gt;</span> <span class="mf">.6</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSRollingMean</span><span class="p">(</span><span class="n">feature_idxs</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">enc_t</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSRollingMean</span><span class="p">(</span><span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">enc_t</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>tensor([[[0.1928, 0.3763,    nan, 0.5746, 0.4427, 0.5756, 0.1270, 0.0722],
         [0.2971, 0.2401,    nan,    nan, 0.5411,    nan, 0.1500,    nan],
         [   nan, 0.1404, 0.0441,    nan, 0.3658, 0.4648, 0.4992,    nan]]])
tensor([[[0.1928, 0.3763, 0.3763, 0.5746, 0.4427, 0.5756, 0.1270, 0.0722],
         [0.2971, 0.2401,    nan,    nan, 0.5411,    nan, 0.1500,    nan],
         [0.1404, 0.1404, 0.0441, 0.0441, 0.3658, 0.4648, 0.4992, 0.4992],
         [0.1928, 0.2845, 0.3151, 0.4424, 0.4645, 0.5309, 0.3817, 0.2582],
         [0.1404, 0.1404, 0.1083, 0.0762, 0.1513, 0.2916, 0.4433, 0.4877]]])
tensor([[[0.1928, 0.2845, 0.3151, 0.4424, 0.4645, 0.5309, 0.3817, 0.2582],
         [0.2971, 0.2686, 0.2591, 0.2401, 0.3405, 0.4408, 0.4107, 0.2804],
         [0.1404, 0.1404, 0.1083, 0.0762, 0.1513, 0.2916, 0.4433, 0.4877]]])
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSLogReturn" class="doc_header"><code>class</code> <code>TSLogReturn</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L635" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSLogReturn</code>(<strong><code>lag</code></strong>=<em><code>1</code></em>, <strong><code>pad</code></strong>=<em><code>True</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Calculates log-return of batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a>. For positive values only</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">64</span><span class="p">,</span><span class="mi">128</span><span class="p">,</span><span class="mi">256</span><span class="p">])</span><span class="o">.</span><span class="n">float</span><span class="p">()</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">TSLogReturn</span><span class="p">(</span><span class="n">pad</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSAdd" class="doc_header"><code>class</code> <code>TSAdd</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L648" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSAdd</code>(<strong><code>add</code></strong>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Add a defined amount to each batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a>.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">float</span><span class="p">()</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">TSAdd</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="n">t</span><span class="p">),</span> <span class="n">TSTensor</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">float</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSClipByVar" class="doc_header"><code>class</code> <code>TSClipByVar</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L660" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSClipByVar</code>(<strong><code>var_min_max</code></strong>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Clip  batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a> by variable</p>
<p>Args:
    var_min_max: list of tuples containing variable index, min value (or None) and max value (or None)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="o">*</span> <span class="n">tensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="n">max_values</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">data</span>
<span class="n">max_values2</span> <span class="o">=</span> <span class="n">TSClipByVar</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">50</span><span class="p">)])(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">data</span>
<span class="n">test_le</span><span class="p">(</span><span class="n">max_values2</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">test_ge</span><span class="p">(</span><span class="n">max_values2</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">test_le</span><span class="p">(</span><span class="n">max_values2</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">50</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSDropVars" class="doc_header"><code>class</code> <code>TSDropVars</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L677" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSDropVars</code>(<strong><code>drop_vars</code></strong>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Drops selected variable from the input</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSDropVars</span><span class="p">(</span><span class="mi">2</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">enc_t</span><span class="p">)</span>
<span class="n">enc_t</span><span class="o">.</span><span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>tensor([[[ 0,  1,  2,  3],
         [ 4,  5,  6,  7]],

        [[12, 13, 14, 15],
         [16, 17, 18, 19]]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSOneHot" class="doc_header"><code>class</code> <code>TSOneHot</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L689" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSOneHot</code>(<strong><code>sel_var</code></strong>:<code>int</code>, <strong><code>num_classes</code></strong>:<code>int</code>, <strong><code>vocab</code></strong>:<code>dict</code>=<em><code>None</code></em>, <strong><code>add_na</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>drop_var</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>magnitude</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Applies one-hot encoding to a selected variable in a <a href="/data.core.html#TSTensor"><code>TSTensor</code></a></p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>sel_var</code></strong></td>
<td><code>int</code></td>
<td></td>
<td>Variable that is one-hot encoded</td>
</tr>
<tr>
<td><strong><code>num_classes</code></strong></td>
<td><code>int</code></td>
<td></td>
<td>Total number of classes (excluding nan values)</td>
</tr>
<tr>
<td><strong><code>vocab</code></strong></td>
<td><code>dict</code></td>
<td><code>None</code></td>
<td>Optional dictionary used to apply to selected variable</td>
</tr>
<tr>
<td><strong><code>add_na</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>Flag to indicate if values not included in vocab should be set as 0</td>
</tr>
<tr>
<td><strong><code>drop_var</code></strong></td>
<td><code>bool</code></td>
<td><code>True</code></td>
<td>Flag to indicate if the cyclical var is removed</td>
</tr>
<tr>
<td><strong><code>magnitude</code></strong></td>
<td></td>
<td><code>None</code></td>
<td>Added for compatibility. It's not used.</td>
</tr>
<tr>
<td><strong><code>kwargs</code></strong></td>
<td></td>
<td></td>
<td><em>No Content</em></td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">seq_len</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">t_cont</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">)</span>
<span class="n">t_cat</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">t_cont</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t_cat</span><span class="p">,</span> <span class="n">t_cont</span><span class="p">],</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">t_cat</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>tensor([[[0, 1, 2, 2, 2]],

        [[1, 2, 2, 1, 2]]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tfm</span> <span class="o">=</span> <span class="n">TSOneHot</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">output</span> <span class="o">=</span> <span class="n">tfm</span><span class="p">(</span><span class="n">t</span><span class="p">)[:,</span> <span class="o">-</span><span class="mi">3</span><span class="p">:]</span><span class="o">.</span><span class="n">data</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t_cat</span><span class="p">,</span> <span class="n">torch</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">tfm</span><span class="p">(</span><span class="n">t</span><span class="p">)[:,</span> <span class="o">-</span><span class="mi">3</span><span class="p">:],</span> <span class="mi">1</span><span class="p">)[:,</span> <span class="kc">None</span><span class="p">])</span>
<span class="n">tfm</span><span class="p">(</span><span class="n">t</span><span class="p">)[:,</span> <span class="o">-</span><span class="mi">3</span><span class="p">:]</span><span class="o">.</span><span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>tensor([[[1., 0., 0., 0., 0.],
         [0., 1., 0., 0., 0.],
         [0., 0., 1., 1., 1.]],

        [[0., 0., 0., 0., 0.],
         [1., 0., 0., 1., 0.],
         [0., 1., 1., 0., 1.]]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">seq_len</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">t_cont</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">)</span>
<span class="n">t_cat</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([[</span><span class="mf">10.</span><span class="p">,</span>  <span class="mf">5.</span><span class="p">,</span> <span class="mf">11.</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mf">12.</span><span class="p">],</span> <span class="p">[</span> <span class="mf">5.</span><span class="p">,</span> <span class="mf">12.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mf">11.</span><span class="p">]])[:,</span> <span class="kc">None</span><span class="p">]</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t_cat</span><span class="p">,</span> <span class="n">t_cont</span><span class="p">],</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">t_cat</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>tensor([[[10.,  5., 11., nan, 12.]],

        [[ 5., 12., 10., nan, 11.]]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tfm</span> <span class="o">=</span> <span class="n">TSOneHot</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">vocab</span><span class="o">=</span><span class="p">{</span><span class="mi">10</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="mi">11</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">:</span><span class="mi">2</span><span class="p">},</span> <span class="n">drop_var</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">mask</span> <span class="o">=</span> <span class="o">~</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">t</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">tfm</span><span class="p">(</span><span class="n">t</span><span class="p">)[:,</span> <span class="mi">0</span><span class="p">][</span><span class="n">mask</span><span class="p">],</span> <span class="n">t</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">][</span><span class="n">mask</span><span class="p">])</span>
<span class="n">tfm</span><span class="p">(</span><span class="n">t</span><span class="p">)[:,</span> <span class="o">-</span><span class="mi">3</span><span class="p">:]</span><span class="o">.</span><span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>tensor([[[1., 0., 0., 0., 0.],
         [0., 0., 1., 0., 0.],
         [0., 0., 0., 0., 1.]],

        [[0., 0., 1., 0., 0.],
         [0., 0., 0., 0., 1.],
         [0., 1., 0., 0., 0.]]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="sklearn-API-transforms">sklearn API transforms<a class="anchor-link" href="#sklearn-API-transforms"> </a></h1>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSShrinkDataFrame" class="doc_header"><code>class</code> <code>TSShrinkDataFrame</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L733" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSShrinkDataFrame</code>(<strong><code>columns</code></strong>=<em><code>None</code></em>, <strong><code>skip</code></strong>=<em><code>[]</code></em>, <strong><code>obj2cat</code></strong>=<em><code>True</code></em>, <strong><code>int2uint</code></strong>=<em><code>False</code></em>, <strong><code>verbose</code></strong>=<em><code>True</code></em>) :: <code>BaseEstimator</code></p>
</blockquote>
<p>Base class for all estimators in scikit-learn.</p>
<h2 id="Notes">Notes<a class="anchor-link" href="#Notes"> </a></h2><p>All estimators should specify all the parameters that can be set
at the class level in their <code>__init__</code> as explicit keyword
arguments (no <code>*args</code> or <code>**kwargs</code>).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;ints64&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;floats64&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">TSShrinkDataFrame</span><span class="p">()</span>
<span class="n">tfm</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">tfm</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;ints64&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="s2">&quot;int8&quot;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;floats64&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="s2">&quot;float32&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Memory usage of dataframe is 0.000274658203125 MB
Memory usage of dataframe after reduction 0.0001697540283203125 MB
Reduced by 38.19444444444444 % 
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSOneHotEncoder" class="doc_header"><code>class</code> <code>TSOneHotEncoder</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L771" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSOneHotEncoder</code>(<strong><code>columns</code></strong>=<em><code>None</code></em>, <strong><code>drop</code></strong>=<em><code>True</code></em>, <strong><code>add_na</code></strong>=<em><code>True</code></em>, <strong><code>dtype</code></strong>=<em><code>int64</code></em>) :: <code>BaseEstimator</code></p>
</blockquote>
<p>Base class for all estimators in scikit-learn.</p>
<h2 id="Notes">Notes<a class="anchor-link" href="#Notes"> </a></h2><p>All estimators should specify all the parameters that can be set
at the class level in their <code>__init__</code> as explicit keyword
arguments (no <code>*args</code> or <code>**kwargs</code>).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">unique_cols</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">TSOneHotEncoder</span><span class="p">()</span>
<span class="n">tfm</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">tfm</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">unique_cols</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSCategoricalEncoder" class="doc_header"><code>class</code> <code>TSCategoricalEncoder</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L805" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSCategoricalEncoder</code>(<strong><code>columns</code></strong>=<em><code>None</code></em>, <strong><code>add_na</code></strong>=<em><code>True</code></em>) :: <code>BaseEstimator</code></p>
</blockquote>
<p>Base class for all estimators in scikit-learn.</p>
<h2 id="Notes">Notes<a class="anchor-link" href="#Notes"> </a></h2><p>All estimators should specify all the parameters that can be set
at the class level in their <code>__init__</code> as explicit keyword
arguments (no <code>*args</code> or <code>**kwargs</code>).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Stateful transforms like TSCategoricalEncoder can easily be serialized.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">joblib</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">alphabet</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">100</span><span class="p">)]</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ALPHABET</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span><span class="p">)]</span>
<span class="n">a_unique</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="n">b_unique</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">TSCategoricalEncoder</span><span class="p">()</span>
<span class="n">tfm</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">joblib</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">tfm</span><span class="p">,</span> <span class="s2">&quot;data/TSCategoricalEncoder.joblib&quot;</span><span class="p">)</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">joblib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;data/TSCategoricalEncoder.joblib&quot;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">tfm</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">a_unique</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">b_unique</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSDateTimeEncoder" class="doc_header"><code>class</code> <code>TSDateTimeEncoder</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L835" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSDateTimeEncoder</code>(<strong><code>datetime_columns</code></strong>=<em><code>None</code></em>, <strong><code>prefix</code></strong>=<em><code>None</code></em>, <strong><code>drop</code></strong>=<em><code>True</code></em>, <strong><code>time</code></strong>=<em><code>False</code></em>, <strong><code>attr</code></strong>=<em><code>['Year', 'Month', 'Week', 'Day', 'Dayofweek', 'Dayofyear', 'Is_month_end', 'Is_month_start', 'Is_quarter_end', 'Is_quarter_start', 'Is_year_end', 'Is_year_start']</code></em>) :: <code>BaseEstimator</code></p>
</blockquote>
<p>Base class for all estimators in scikit-learn.</p>
<h2 id="Notes">Notes<a class="anchor-link" href="#Notes"> </a></h2><p>All estimators should specify all the parameters that can be set
at the class level in their <code>__init__</code> as explicit keyword
arguments (no <code>*args</code> or <code>**kwargs</code>).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;D&quot;</span><span class="p">)</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">TSDateTimeEncoder</span><span class="p">()</span>
<span class="n">joblib</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">tfm</span><span class="p">,</span> <span class="s2">&quot;data/TSDateTimeEncoder.joblib&quot;</span><span class="p">)</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">joblib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;data/TSDateTimeEncoder.joblib&quot;</span><span class="p">)</span>
<span class="n">tfm</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>_Year</th>
      <th>_Month</th>
      <th>_Week</th>
      <th>_Day</th>
      <th>_Dayofweek</th>
      <th>_Dayofyear</th>
      <th>_Is_month_end</th>
      <th>_Is_month_start</th>
      <th>_Is_quarter_end</th>
      <th>_Is_quarter_start</th>
      <th>_Is_year_end</th>
      <th>_Is_year_start</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2022</td>
      <td>5</td>
      <td>18</td>
      <td>7</td>
      <td>5</td>
      <td>127</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2022</td>
      <td>5</td>
      <td>18</td>
      <td>8</td>
      <td>6</td>
      <td>128</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div></div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSMissingnessEncoder" class="doc_header"><code>class</code> <code>TSMissingnessEncoder</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L865" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSMissingnessEncoder</code>(<strong><code>columns</code></strong>=<em><code>None</code></em>) :: <code>BaseEstimator</code></p>
</blockquote>
<p>Base class for all estimators in scikit-learn.</p>
<h2 id="Notes">Notes<a class="anchor-link" href="#Notes"> </a></h2><p>All estimators should specify all the parameters that can be set
at the class level in their <code>__init__</code> as explicit keyword
arguments (no <code>*args</code> or <code>**kwargs</code>).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">data</span><span class="p">[</span><span class="n">data</span> <span class="o">&gt;</span> <span class="mf">.8</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">])</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">TSMissingnessEncoder</span><span class="p">()</span>
<span class="n">tfm</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">joblib</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">tfm</span><span class="p">,</span> <span class="s2">&quot;data/TSMissingnessEncoder.joblib&quot;</span><span class="p">)</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">joblib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;data/TSMissingnessEncoder.joblib&quot;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">tfm</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>c</th>
      <th>a_missing</th>
      <th>b_missing</th>
      <th>c_missing</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>NaN</td>
      <td>0.452123</td>
      <td>0.448181</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.463809</td>
      <td>0.782362</td>
      <td>0.574221</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.579072</td>
      <td>0.240091</td>
      <td>0.141086</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.692947</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>NaN</td>
      <td>0.706304</td>
      <td>0.463121</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0.163288</td>
      <td>0.104236</td>
      <td>0.519916</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0.334006</td>
      <td>NaN</td>
      <td>0.689778</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.675303</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>8</th>
      <td>NaN</td>
      <td>0.284704</td>
      <td>NaN</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>9</th>
      <td>0.576518</td>
      <td>0.531907</td>
      <td>0.627108</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="y-transforms">y transforms<a class="anchor-link" href="#y-transforms"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Preprocessor" class="doc_header"><code>class</code> <code>Preprocessor</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L887" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Preprocessor</code>(<strong><code>preprocessor</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">tsai.data.validation</span> <span class="kn">import</span> <span class="n">TimeSplitter</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocessor</span><span class="p">(</span><span class="n">StandardScaler</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocessor</span><span class="p">(</span><span class="n">RobustScaler</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABAYAAABKCAYAAAAoj1bdAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjUuMSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/YYfK9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAQGklEQVR4nO3dfZDV1X3H8c9nd5GHoujKCsJq14DBxY0LrgFNCRLMEDU+1Ad8Ap8SYsfJNKmmkbTNqEGcpJ1MY1rTjs/QaqkW0KpjqzYi+DChCrqRCAihJGB2ZcnuikgIe9lv/7i/TW7W3YXFu3v33vt+zTDc3+937jnfHxwOe7/3nPNzRAgAAAAAABSnklwHAAAAAAAAcofEAAAAAAAARYzEAAAAAAAARYzEAAAAAAAARYzEAAAAAAAARYzEAAAAAAAARYzEAAAgb9l+0fa85PUc2899jLqqbIftsuT4v2xfm6U4P2t7Y8bxVtufz0bdSX0/sz0jW/UBAIDiQmIAAJBTtqfZftX2+7abbb9i+9O9rSciHomIWRn1hu3xhxpXRJwTEYsPVO5g2omIlyJiwqHG0qm9RbYXdqr/5Ih4MRv1AwCA4lOW6wAAAMXL9hGSnpZ0o6THJB0m6bOSfpvLuLLJdllEpHIdBwAAQHeYMQAAyKVPSlJELImI/RHxm4h4LiJ+Kkm2r0tmENydzCjYYPusripKyr6cvF6VnK63vdv25V2UL7X9fds7bW+R9MVO1zOXKYy3vTKJYaftR7trx/YM29ttz7fdKOmhjnOdQvi07bdtt9h+yPaQzveREUskMdwgaY6kW5L2nkqu/25pgu3Btu+y/avk1122ByfXOmL7hu0dthtsX3/AvyUAAFDQSAwAAHLpHUn7bS+2fY7to7ooM1XSzyWNlHSbpOW2y3uqNCKmJy9rI2J4RDzaRbGvSDpP0mRJp0m6tIcq75D0nKSjJFVK+scDtDNaUrmkP5Z0Qzd1zpH0BUnjlE6QfLune0rau1fSI5L+Lmnv/C6K/Y2k0yVNklQraUqnukdLGiFprKQvS/pRN3/uAACgSJAYAADkTETskjRNUki6T1KT7Sdtj8ootkPSXRHRlnzw3qhO3+4fosuSerdFRLOk7/ZQtk3pD/ljImJvRLzcQ1lJapd0W0T8NiJ+002ZuzPavlPSlb29gW7MkbQgInZERJOk70i6OuN6W3K9LSKekbRbUlb2PwAAAPmJxAAAIKciYn1EXBcRlZJqJI2RdFdGkXcjIjKOf5GU+bjGSNrWqd7u3CLJkv43eQLAlw5Qd1NE7D1Amc5tZ+OelNSTeS+d6/51pz0P9kganqW2AQBAHiIxAAAYMCJig6RFSicIOoy17Yzj4yX9KgvNNUg6rlO93cXVGBFfiYgxkv5M0j8d4EkE0cO1Dp3b7rinDyUN67hge3Qv6/6V0rMbuqobAADgI0gMAAByxvZJyUZ4lcnxcUpPqf9JRrFjJH3N9iDbsyVVS3rmIKp/T9Inerj+WFJvZbLG/ls9xDm7I0ZJLUp/OG8/yHa689Wk7XKl9wXo2J+gXtLJticlGxLe3ul9B2pviaRv266wPVLSrZIePoT4AABAkSAxAADIpQ+U3lxwte0PlU4IrJP0jYwyqyWdKGmn0mvxL42IXx9E3bdLWmy71fZlXVy/T9KzSn8QXytpeQ91fTqJcbekJyV9PSK2HGQ73fk3pTc03KL05ooLJSki3pG0QNL/SNokqfN+Bg9Impi090QX9S6U9Lqkn0p6K7m3hb2ICwAAFBn/4bJNAAAGDtvXSZoXEdNyHQsAAEChYsYAAAAAAABFjMQAAAAAAABFjKUEAAAAAAAUMWYMAAAAAABQxEgMAAAAAABQxMr6olJ7ZEhVfVE1AAAAkLeGVa/PdQjAx7Zn/Z6dEVGR6ziQPX2SGEgnBV7vm6oBAACAPHXSw3W5DgH42NbWrf1FrmNAdrGUAAAAAACAIkZiAAAAAACAIkZiAAAAAACAItZHewwAAAAAADBwrVmz5piysrL7JdWosL80b5e0LpVKzaurq9vRVQESAwAAAACAolNWVnb/6NGjqysqKlpKSkoi1/H0lfb2djc1NU1sbGy8X9IFXZUp5KwIAAAAAADdqamoqNhVyEkBSSopKYmKior3lZ4Z0XWZfowHAAAAAICBoqTQkwIdkvvs9vM/SwkAAAAAAOhnjY2NpTNmzJggSTt37hxUUlIS5eXlKUl688031w8ZMqTbpMWqVauGPfjgg0cvWrRoWzZiOWBiwPaDks6TtCMiup16AAAAAABAvrJVl836IrSmp+ujR4/ev2HDhrcl6eabbx4zfPjw/QsWLHiv43pbW5sGDRrU5XunT5++Z/r06XuyFevBLCVYJOnsbDUIAAAAAAA+6pJLLqm66qqrjj/llFNOuvHGGytXrFgxbNKkSSdVV1dPnDx58kn19fWDJenpp58+/HOf+9x4KZ1UmD17dtWUKVMmVFZWfmrhwoXH9LbdA84YiIhVtqt6fUcAAAAAAKBXGhoaDlu7du2GsrIyNTc3l7z22msbBg0apCeeeOLwW265pfLZZ5/9eef3bN68ecirr766sbW1tbS6urrmm9/8ZtPgwYMPev+ErO0xYPsGSTekj47PVrUAAAAAABSNiy++uKWsLP1Rvbm5ufTyyy8/YevWrUNsR1tbm7t6z6xZs1qHDh0aQ4cOTZWXl7dt3769bNy4cW0H22bWnkoQEfdGxGkRcZpUka1qAQAAAAAoGsOHD2/veD1//vyxZ5555gebNm362VNPPbV53759XX6Gz5wdUFpaqlQq1WUCoTs8rhAAAAAAgAFo165dpZWVlfsk6Z577hnZV+2QGAAAAAAAYACaP39+4+23315ZXV09MZVK9Vk7juh5PwLbSyTNkDRS0nuSbouIB3p+z2khvZ6tGAEAAICCcOqarD4NDciJtXVr16SXkOe3+vr6rbW1tTtzHUd/qa+vH1lbW1vV1bWDeSrBlVmPCAAAAAAADAgsJQAAAAAAoIiRGAAAAAAAoIiRGAAAAAAAoIiRGAAAAAAAoIiRGAAAAAAAoIiRGAAAAAAAoJ9NnTr1k8uWLTsi89yCBQuOmTNnzvFdlZ8yZcqEVatWDZOkM888c/zOnTtLO5e5+eabx9x6662jehvLAR9XCAAAAABAoatbW1eXzfrWnLpmTU/XZ8+e3bxkyZLySy65ZFfHuWXLlpV/73vf236guleuXLk5GzF2YMYAAAAAAAD97Oqrr2554YUXRuzdu9eStHHjxsN27Ngx6OGHHy6vqampHj9+/Mk33XTTmK7eO3bs2E81NDSUSdL8+fNHV1VV1dTV1U3YtGnT4EOJpY9mDKzZLXlj39QN9JuRknbmOgggC+jLKAT0YxSEtXX0ZRSECbkOoBCMGjVqf21t7YdLly4dMXfu3NbFixeXn3/++S133HFHw6hRo/anUil95jOfmbB69eqhU6dO/U1Xdbz00kvDHn/88fK33nrr7ba2Nk2aNGni5MmT9/Q2lr5aSrAxIk7ro7qBfmH7dfoxCgF9GYWAfoxCQV9GIbD9eq5jKBSXXXZZ86OPPnrU3LlzW5cvX15+3333bV28eHH5okWLRqZSKTc1NQ2qr68f0l1iYMWKFcPPPffc1sMPP7xdkmbNmtV6KHGwlAAAAAAAgBy46qqrWl955ZUjXn755WF79+4tqaioSN19992jVq5c+c4777zz9syZM9/fu3dvn39uJzEAAAAAAEAOjBgxov2MM874YN68eVUXXXRRc0tLS+nQoUPby8vL92/btq3sxRdfHNHT+2fOnLn7mWeeOXL37t1uaWkpef755488lDj6ainBvX1UL9Cf6McoFPRlFAL6MQoFfRmFgH6cRVdccUXzNddcM27JkiVbJk+evLempmbPuHHjao499th9dXV1u3t677Rp0/ZcdNFFzTU1NScfffTRbaeccsqHhxKDI+LQogcAAAAAIE/V19dvra2tLZrNQOvr60fW1tZWdXWNpQQAAAAAABSxrCYGbJ9te6Ptzba/lc26gWyyfZztFbbftv0z219Pzpfbft72puT3o5Lztv0PSd/+qe1Tc3sHwB+yXWr7DdtPJ8cn2F6d9NlHbR+WnB+cHG9OrlflNHAgg+0jbS+1vcH2ettnMC4j39i+KfnZYp3tJbaHMCYjH9h+0PYO2+syzvV6DLZ9bVJ+k+1rc3Ev6L2sJQZsl0r6kaRzJE2UdKXtidmqH8iylKRvRMRESadL+mrSX78l6ccRcaKkHyfHUrpfn5j8ukHSP/d/yECPvi5pfcbx30r6QUSMl9Qi6cvJ+S9LaknO/yApBwwUP5T03xFxkqRapfs04zLyhu2xkr4m6bSIqJFUKukKMSYjPyySdHanc70ag22XS7pN0lRJUyTd1pFMwMCWzRkDUyRtjogtEbFP0r9LujCL9QNZExENEbE2ef2B0j98jlW6zy5Oii2W9KfJ6wsl/Uuk/UTSkbaP7d+oga7ZrpT0RUn3J8eWNFPS0qRI577c0ceXSjorKQ/klO0RkqZLekCSImJfRLSKcRn5p0zSUNtlkoZJahBjMvJARKyS1NzpdG/H4C9Iej4imiOiRdLz+miyYSBpb29vL4p/c8l9tnd3PZuJgbGStmUcb0/OAQNaMm1vsqTVkkZFRENyqVHSqOQ1/RsD2V2SbtHvB/ujJbVGRCo5zuyvv+vLyfX3k/JArp0gqUnSQ8mymPtt/5EYl5FHIuJdSd+X9EulEwLvS1ojxmTkr96Owfk2Nq9ramoaUejJgfb2djc1NY2QtK67Mn31uEIgL9geLmmZpL+IiF2ZSfqICNs8tgMDmu3zJO2IiDW2Z+Q4HODjKJN0qqQ/j4jVtn+o309ZlcS4jIEvmTJ9odKJrlZJ/6GB/W0pcNAKcQxOpVLzGhsb729sbKxRYW/M3y5pXSqVmtddgWwmBt6VdFzGcWVyDhiQbA9SOinwSEQsT06/Z/vYiGhIpkPtSM7TvzFQ/YmkC2yfK2mIpCOUXqd9pO2y5BuozP7a0Ze3J9NcR0j6df+HDXzEdknbI2J1crxU6cQA4zLyyecl/V9ENEmS7eVKj9OMychXvR2D35U0o9P5F/shzkNSV1e3Q9IFuY5jIMhmVuQ1SScmu64epvRGK09msX4ga5L1ew9IWh8Rf59x6UlJHbunXivpPzPOX5PswHq6pPczplUBORMRfxURlRFRpfS4+0JEzJG0QtKlSbHOfbmjj1+alC+o7D/yU0Q0Stpme0Jy6ixJb4txGfnll5JOtz0s+Vmjox8zJiNf9XYMflbSLNtHJTNoZiXnMMA5m2NP8o3VXUrvwPpgRNyZtcqBLLI9TdJLkt7S79dl/7XS+ww8Jul4Sb+QdFlENCf/ud+t9HTAPZKuj4jX+z1woAfJUoK/jIjzbH9C6U1gyyW9IWluRPzW9hBJ/6r0vhrNkq6IiC05Chn4A7YnKb2J5mGStki6XukvMRiXkTdsf0fS5Uo/AekNSfOUXmPNmIwBzfYSpb/tHynpPaWfLvCEejkG2/6S0j9XS9KdEfFQP94GDlFWEwMAAAAAACC/FPIGCwAAAAAA4ABIDAAAAAAAUMRIDAAAAAAAUMRIDAAAAAAAUMRIDAAAAAAAUMRIDAAAAAAAUMRIDAAAAAAAUMRIDAAAAAAAUMT+HxJ+c9saeK3fAAAAAElFTkSuQmCC
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="mf">.5</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocessor</span><span class="p">(</span><span class="n">Normalizer</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocessor</span><span class="p">(</span><span class="n">BoxCox</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABAYAAABKCAYAAAAoj1bdAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjUuMSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/YYfK9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAQGklEQVR4nO3dfZDV1X3H8c9nd5GHoujKCsJq14DBxY0LrgFNCRLMEDU+1Ad8Ap8SYsfJNKmmkbTNqEGcpJ1MY1rTjs/QaqkW0KpjqzYi+DChCrqRCAihJGB2ZcnuikgIe9lv/7i/TW7W3YXFu3v33vt+zTDc3+937jnfHxwOe7/3nPNzRAgAAAAAABSnklwHAAAAAAAAcofEAAAAAAAARYzEAAAAAAAARYzEAAAAAAAARYzEAAAAAAAARYzEAAAAAAAARYzEAAAgb9l+0fa85PUc2899jLqqbIftsuT4v2xfm6U4P2t7Y8bxVtufz0bdSX0/sz0jW/UBAIDiQmIAAJBTtqfZftX2+7abbb9i+9O9rSciHomIWRn1hu3xhxpXRJwTEYsPVO5g2omIlyJiwqHG0qm9RbYXdqr/5Ih4MRv1AwCA4lOW6wAAAMXL9hGSnpZ0o6THJB0m6bOSfpvLuLLJdllEpHIdBwAAQHeYMQAAyKVPSlJELImI/RHxm4h4LiJ+Kkm2r0tmENydzCjYYPusripKyr6cvF6VnK63vdv25V2UL7X9fds7bW+R9MVO1zOXKYy3vTKJYaftR7trx/YM29ttz7fdKOmhjnOdQvi07bdtt9h+yPaQzveREUskMdwgaY6kW5L2nkqu/25pgu3Btu+y/avk1122ByfXOmL7hu0dthtsX3/AvyUAAFDQSAwAAHLpHUn7bS+2fY7to7ooM1XSzyWNlHSbpOW2y3uqNCKmJy9rI2J4RDzaRbGvSDpP0mRJp0m6tIcq75D0nKSjJFVK+scDtDNaUrmkP5Z0Qzd1zpH0BUnjlE6QfLune0rau1fSI5L+Lmnv/C6K/Y2k0yVNklQraUqnukdLGiFprKQvS/pRN3/uAACgSJAYAADkTETskjRNUki6T1KT7Sdtj8ootkPSXRHRlnzw3qhO3+4fosuSerdFRLOk7/ZQtk3pD/ljImJvRLzcQ1lJapd0W0T8NiJ+002ZuzPavlPSlb29gW7MkbQgInZERJOk70i6OuN6W3K9LSKekbRbUlb2PwAAAPmJxAAAIKciYn1EXBcRlZJqJI2RdFdGkXcjIjKOf5GU+bjGSNrWqd7u3CLJkv43eQLAlw5Qd1NE7D1Amc5tZ+OelNSTeS+d6/51pz0P9kganqW2AQBAHiIxAAAYMCJig6RFSicIOoy17Yzj4yX9KgvNNUg6rlO93cXVGBFfiYgxkv5M0j8d4EkE0cO1Dp3b7rinDyUN67hge3Qv6/6V0rMbuqobAADgI0gMAAByxvZJyUZ4lcnxcUpPqf9JRrFjJH3N9iDbsyVVS3rmIKp/T9Inerj+WFJvZbLG/ls9xDm7I0ZJLUp/OG8/yHa689Wk7XKl9wXo2J+gXtLJticlGxLe3ul9B2pviaRv266wPVLSrZIePoT4AABAkSAxAADIpQ+U3lxwte0PlU4IrJP0jYwyqyWdKGmn0mvxL42IXx9E3bdLWmy71fZlXVy/T9KzSn8QXytpeQ91fTqJcbekJyV9PSK2HGQ73fk3pTc03KL05ooLJSki3pG0QNL/SNokqfN+Bg9Impi090QX9S6U9Lqkn0p6K7m3hb2ICwAAFBn/4bJNAAAGDtvXSZoXEdNyHQsAAEChYsYAAAAAAABFjMQAAAAAAABFjKUEAAAAAAAUMWYMAAAAAABQxEgMAAAAAABQxMr6olJ7ZEhVfVE1AAAAkLeGVa/PdQjAx7Zn/Z6dEVGR6ziQPX2SGEgnBV7vm6oBAACAPHXSw3W5DgH42NbWrf1FrmNAdrGUAAAAAACAIkZiAAAAAACAIkZiAAAAAACAItZHewwAAAAAADBwrVmz5piysrL7JdWosL80b5e0LpVKzaurq9vRVQESAwAAAACAolNWVnb/6NGjqysqKlpKSkoi1/H0lfb2djc1NU1sbGy8X9IFXZUp5KwIAAAAAADdqamoqNhVyEkBSSopKYmKior3lZ4Z0XWZfowHAAAAAICBoqTQkwIdkvvs9vM/SwkAAAAAAOhnjY2NpTNmzJggSTt37hxUUlIS5eXlKUl688031w8ZMqTbpMWqVauGPfjgg0cvWrRoWzZiOWBiwPaDks6TtCMiup16AAAAAABAvrJVl836IrSmp+ujR4/ev2HDhrcl6eabbx4zfPjw/QsWLHiv43pbW5sGDRrU5XunT5++Z/r06XuyFevBLCVYJOnsbDUIAAAAAAA+6pJLLqm66qqrjj/llFNOuvHGGytXrFgxbNKkSSdVV1dPnDx58kn19fWDJenpp58+/HOf+9x4KZ1UmD17dtWUKVMmVFZWfmrhwoXH9LbdA84YiIhVtqt6fUcAAAAAAKBXGhoaDlu7du2GsrIyNTc3l7z22msbBg0apCeeeOLwW265pfLZZ5/9eef3bN68ecirr766sbW1tbS6urrmm9/8ZtPgwYMPev+ErO0xYPsGSTekj47PVrUAAAAAABSNiy++uKWsLP1Rvbm5ufTyyy8/YevWrUNsR1tbm7t6z6xZs1qHDh0aQ4cOTZWXl7dt3769bNy4cW0H22bWnkoQEfdGxGkRcZpUka1qAQAAAAAoGsOHD2/veD1//vyxZ5555gebNm362VNPPbV53759XX6Gz5wdUFpaqlQq1WUCoTs8rhAAAAAAgAFo165dpZWVlfsk6Z577hnZV+2QGAAAAAAAYACaP39+4+23315ZXV09MZVK9Vk7juh5PwLbSyTNkDRS0nuSbouIB3p+z2khvZ6tGAEAAICCcOqarD4NDciJtXVr16SXkOe3+vr6rbW1tTtzHUd/qa+vH1lbW1vV1bWDeSrBlVmPCAAAAAAADAgsJQAAAAAAoIiRGAAAAAAAoIiRGAAAAAAAoIiRGAAAAAAAoIiRGAAAAAAAoIiRGAAAAAAAoJ9NnTr1k8uWLTsi89yCBQuOmTNnzvFdlZ8yZcqEVatWDZOkM888c/zOnTtLO5e5+eabx9x6662jehvLAR9XCAAAAABAoatbW1eXzfrWnLpmTU/XZ8+e3bxkyZLySy65ZFfHuWXLlpV/73vf236guleuXLk5GzF2YMYAAAAAAAD97Oqrr2554YUXRuzdu9eStHHjxsN27Ngx6OGHHy6vqampHj9+/Mk33XTTmK7eO3bs2E81NDSUSdL8+fNHV1VV1dTV1U3YtGnT4EOJpY9mDKzZLXlj39QN9JuRknbmOgggC+jLKAT0YxSEtXX0ZRSECbkOoBCMGjVqf21t7YdLly4dMXfu3NbFixeXn3/++S133HFHw6hRo/anUil95jOfmbB69eqhU6dO/U1Xdbz00kvDHn/88fK33nrr7ba2Nk2aNGni5MmT9/Q2lr5aSrAxIk7ro7qBfmH7dfoxCgF9GYWAfoxCQV9GIbD9eq5jKBSXXXZZ86OPPnrU3LlzW5cvX15+3333bV28eHH5okWLRqZSKTc1NQ2qr68f0l1iYMWKFcPPPffc1sMPP7xdkmbNmtV6KHGwlAAAAAAAgBy46qqrWl955ZUjXn755WF79+4tqaioSN19992jVq5c+c4777zz9syZM9/fu3dvn39uJzEAAAAAAEAOjBgxov2MM874YN68eVUXXXRRc0tLS+nQoUPby8vL92/btq3sxRdfHNHT+2fOnLn7mWeeOXL37t1uaWkpef755488lDj6ainBvX1UL9Cf6McoFPRlFAL6MQoFfRmFgH6cRVdccUXzNddcM27JkiVbJk+evLempmbPuHHjao499th9dXV1u3t677Rp0/ZcdNFFzTU1NScfffTRbaeccsqHhxKDI+LQogcAAAAAIE/V19dvra2tLZrNQOvr60fW1tZWdXWNpQQAAAAAABSxrCYGbJ9te6Ptzba/lc26gWyyfZztFbbftv0z219Pzpfbft72puT3o5Lztv0PSd/+qe1Tc3sHwB+yXWr7DdtPJ8cn2F6d9NlHbR+WnB+cHG9OrlflNHAgg+0jbS+1vcH2ettnMC4j39i+KfnZYp3tJbaHMCYjH9h+0PYO2+syzvV6DLZ9bVJ+k+1rc3Ev6L2sJQZsl0r6kaRzJE2UdKXtidmqH8iylKRvRMRESadL+mrSX78l6ccRcaKkHyfHUrpfn5j8ukHSP/d/yECPvi5pfcbx30r6QUSMl9Qi6cvJ+S9LaknO/yApBwwUP5T03xFxkqRapfs04zLyhu2xkr4m6bSIqJFUKukKMSYjPyySdHanc70ag22XS7pN0lRJUyTd1pFMwMCWzRkDUyRtjogtEbFP0r9LujCL9QNZExENEbE2ef2B0j98jlW6zy5Oii2W9KfJ6wsl/Uuk/UTSkbaP7d+oga7ZrpT0RUn3J8eWNFPS0qRI577c0ceXSjorKQ/klO0RkqZLekCSImJfRLSKcRn5p0zSUNtlkoZJahBjMvJARKyS1NzpdG/H4C9Iej4imiOiRdLz+miyYSBpb29vL4p/c8l9tnd3PZuJgbGStmUcb0/OAQNaMm1vsqTVkkZFRENyqVHSqOQ1/RsD2V2SbtHvB/ujJbVGRCo5zuyvv+vLyfX3k/JArp0gqUnSQ8mymPtt/5EYl5FHIuJdSd+X9EulEwLvS1ojxmTkr96Owfk2Nq9ramoaUejJgfb2djc1NY2QtK67Mn31uEIgL9geLmmZpL+IiF2ZSfqICNs8tgMDmu3zJO2IiDW2Z+Q4HODjKJN0qqQ/j4jVtn+o309ZlcS4jIEvmTJ9odKJrlZJ/6GB/W0pcNAKcQxOpVLzGhsb729sbKxRYW/M3y5pXSqVmtddgWwmBt6VdFzGcWVyDhiQbA9SOinwSEQsT06/Z/vYiGhIpkPtSM7TvzFQ/YmkC2yfK2mIpCOUXqd9pO2y5BuozP7a0Ze3J9NcR0j6df+HDXzEdknbI2J1crxU6cQA4zLyyecl/V9ENEmS7eVKj9OMychXvR2D35U0o9P5F/shzkNSV1e3Q9IFuY5jIMhmVuQ1SScmu64epvRGK09msX4ga5L1ew9IWh8Rf59x6UlJHbunXivpPzPOX5PswHq6pPczplUBORMRfxURlRFRpfS4+0JEzJG0QtKlSbHOfbmjj1+alC+o7D/yU0Q0Stpme0Jy6ixJb4txGfnll5JOtz0s+Vmjox8zJiNf9XYMflbSLNtHJTNoZiXnMMA5m2NP8o3VXUrvwPpgRNyZtcqBLLI9TdJLkt7S79dl/7XS+ww8Jul4Sb+QdFlENCf/ud+t9HTAPZKuj4jX+z1woAfJUoK/jIjzbH9C6U1gyyW9IWluRPzW9hBJ/6r0vhrNkq6IiC05Chn4A7YnKb2J5mGStki6XukvMRiXkTdsf0fS5Uo/AekNSfOUXmPNmIwBzfYSpb/tHynpPaWfLvCEejkG2/6S0j9XS9KdEfFQP94GDlFWEwMAAAAAACC/FPIGCwAAAAAA4ABIDAAAAAAAUMRIDAAAAAAAUMRIDAAAAAAAUMRIDAAAAAAAUMRIDAAAAAAAUMRIDAAAAAAAUMRIDAAAAAAAUMT+HxJ+c9saeK3fAAAAAElFTkSuQmCC
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">beta</span><span class="p">(</span><span class="mf">.5</span><span class="p">,</span> <span class="mf">.5</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocessor</span><span class="p">(</span><span class="n">YeoJohnshon</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">beta</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">.5</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocessor</span><span class="p">(</span><span class="n">Quantile</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">,</span> <span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABAYAAABKCAYAAAAoj1bdAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjUuMSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/YYfK9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAQh0lEQVR4nO3df3CV1Z3H8c8nCfJjUTQSQYhuXLAYTA0YC9paRNqhra11raJW/NGu1B2323a1U2l3O+oinXV3Olvbte3UX4WuLtUF6qpr17oVwR9TqlBTUUCopQWbSGgSESkll3z3j+dJe/c2Cb9ucpN736+ZDPc5z7nfcx44nMn93vOcxxEhAAAAAABQmsoK3QEAAAAAAFA4JAYAAAAAAChhJAYAAAAAAChhJAYAAAAAAChhJAYAAAAAAChhJAYAAAAAAChhJAYAAIOW7adsz0tfz7X9o8OIVWM7bFekxz+0fXWe+vle2xuzjrfYfn8+YqfxXrY9M1/xAABAaSExAAAoKNtn237O9pu2W20/a/tdBxsnIu6PiNlZccP2xEPtV0R8KCIW76/egbQTEU9HxKRD7UtOe4tsL8yJf2pEPJWP+AAAoPRUFLoDAIDSZfsoSY9Kuk7Sg5KOkPReSb8vZL/yyXZFRGQK3Q8AAICesGIAAFBI75CkiFgSEfsi4ncR8aOI+Lkk2f5EuoLgjnRFwQbb7+suUFr3mfT1qrS40fYu25d2U7/c9ldt77D9mqQP55zPvk1hou2VaR922H6gp3Zsz7S9zfZ8282SvttVltOFd9l+xXab7e/aHpZ7HVl9ibQP10qaK+nGtL1H0vN/uDXB9lDbt9v+Tfpzu+2h6bmuvn3e9nbbTbY/ud9/JQAAUNRIDAAACulVSftsL7b9IdvHdFNnuqRfSBot6WZJy21X9hY0ImakL+sjYmREPNBNtU9J+oikqZLOkHRxLyFvlfQjScdIqpb0b/tpZ6ykSkl/LunaHmLOlfQBSROUJEi+3Ns1pe3dKel+Sf+Stnd+N9X+QdKZkqZIqpc0LSf2WEmjJI2XdI2kb/bw9w4AAEoEiQEAQMFExE5JZ0sKSXdJarH9sO0xWdW2S7o9IjrSD94blfPt/iG6JI27NSJaJf1TL3U7lHzIHxcReyLimV7qSlKnpJsj4vcR8bse6tyR1fZXJH38YC+gB3MlLYiI7RHRIukfJV2Zdb4jPd8REY9J2iUpL/sfAACAwYnEAACgoCJifUR8IiKqJdVJGifp9qwqr0dEZB3/Kq1zuMZJ2poTtyc3SrKkn6ZPAPir/cRuiYg9+6mT23Y+rklpnOxryY3925w9D3ZLGpmntgEAwCBEYgAAMGBExAZJi5QkCLqMt+2s4xMl/SYPzTVJOiEnbk/9ao6IT0XEOEl/Lelb+3kSQfRyrktu213X9LakEV0nbI89yNi/UbK6obvYAAAAf4LEAACgYGyfkm6EV50en6BkSf1PsqodJ+mztofYniOpVtJjBxD+DUl/0cv5B9O41ek99l/spZ9zuvooqU3Jh/POA2ynJ59O265Usi9A1/4EjZJOtT0l3ZDwlpz37a+9JZK+bLvK9mhJN0m67xD6BwAASgSJAQBAIb2lZHPB1bbfVpIQWCfp81l1Vks6WdIOJffiXxwRvz2A2LdIWmy73fYl3Zy/S9LjSj6Ir5W0vJdY70r7uEvSw5I+FxGvHWA7PfkPJRsavqZkc8WFkhQRr0paIOl/JW2SlLufwT2SJqftPdRN3IWSXpD0c0kvpde28CD6BQAASoz//22bAAAMHLY/IWleRJxd6L4AAAAUK1YMAAAAAABQwkgMAAAAAABQwriVAAAAAACAEsaKAQAAAAAAShiJAQAAAAAASlhFXwS1R4dU0xehAQAAgEFrRO36QncBOGy71+/eERFVhe4H8qdPEgNJUuCFvgkNAAAADFKn3NdQ6C4Ah21tw9pfFboPyC9uJQAAAAAAoISRGAAAAAAAoISRGAAAAAAAoIT10R4DAAAAAAAMXGvWrDmuoqLibkl1Ku4vzTslrctkMvMaGhq2d1eBxAAAAAAAoORUVFTcPXbs2Nqqqqq2srKyKHR/+kpnZ6dbWlomNzc33y3po93VKeasCAAAAAAAPamrqqraWcxJAUkqKyuLqqqqN5WsjOi+Tj/2BwAAAACAgaKs2JMCXdLr7PHzP7cSAAAAAADQz5qbm8tnzpw5SZJ27NgxpKysLCorKzOS9OKLL64fNmxYj0mLVatWjbj33nuPXbRo0dZ89GW/iQHb90r6iKTtEdHj0gMAAAAAAAYrWw35jBehNb2dHzt27L4NGza8Ikk33HDDuJEjR+5bsGDBG13nOzo6NGTIkG7fO2PGjN0zZszYna++HsitBIskfTBfDQIAAAAAgD910UUX1Vx++eUnnnbaaadcd9111StWrBgxZcqUU2praydPnTr1lMbGxqGS9Oijjx557rnnTpSSpMKcOXNqpk2bNqm6uvqdCxcuPO5g293vioGIWGW75qCvCAAAAAAAHJSmpqYj1q5du6GiokKtra1lzz///IYhQ4booYceOvLGG2+sfvzxx3+R+57NmzcPe+655za2t7eX19bW1n3hC19oGTp06AHvn5C3PQZsXyvp2uToxHyFBQAAAACgZHzsYx9rq6hIPqq3traWX3rppSdt2bJlmO3o6Ohwd++ZPXt2+/Dhw2P48OGZysrKjm3btlVMmDCh40DbzNtTCSLizog4IyLOkKryFRYAAAAAgJIxcuTIzq7X8+fPH3/OOee8tWnTppcfeeSRzXv37u32M3z26oDy8nJlMpluEwg94XGFAAAAAAAMQDt37iyvrq7eK0nf+c53RvdVOyQGAAAAAAAYgObPn998yy23VNfW1k7OZDJ91o4jet+PwPYSSTMljZb0hqSbI+Ke3t9zRkgv5KuPAAAAQFE4fU1en4YGFMTahrVrklvIB7fGxsYt9fX1Owrdj/7S2Ng4ur6+vqa7cwfyVIKP571HAAAAAABgQOBWAgAAAAAAShiJAQAAAAAAShiJAQAAAAAAShiJAQAAAAAAShiJAQAAAAAAShiJAQAAAAAA+tn06dPfsWzZsqOyyxYsWHDc3LlzT+yu/rRp0yatWrVqhCSdc845E3fs2FGeW+eGG24Yd9NNN4052L7s93GFAAAAAAAUu4a1DQ35jLfm9DVrejs/Z86c1iVLllRedNFFO7vKli1bVnnbbbdt21/slStXbs5HH7uwYgAAAAAAgH525ZVXtj355JOj9uzZY0nauHHjEdu3bx9y3333VdbV1dVOnDjx1Ouvv35cd+8dP378O5uamiokaf78+WNramrqGhoaJm3atGnoofSlj1YMrNkleWPfxAb6zWhJOwrdCSAPGMsoBoxjFIW1DYxlFIVJhe5AMRgzZsy++vr6t5cuXTrqiiuuaF+8eHHl+eef33brrbc2jRkzZl8mk9G73/3uSatXrx4+ffr033UX4+mnnx7xgx/8oPKll156paOjQ1OmTJk8derU3Qfbl766lWBjRJzRR7GBfmH7BcYxigFjGcWAcYxiwVhGMbD9QqH7UCwuueSS1gceeOCYK664on358uWVd91115bF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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="ReLabeler" class="doc_header"><code>ReLabeler</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L929" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>ReLabeler</code>(<strong><code>cm</code></strong>)</p>
</blockquote>
<p>Changes the labels in a dataset based on a dictionary (class mapping)
Args:
    cm = class mapping dictionary</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">vals</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span><span class="s1">&#39;e&#39;</span><span class="p">}</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">vals</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">20</span><span class="p">)])</span>
<span class="n">labeler</span> <span class="o">=</span> <span class="n">ReLabeler</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="n">e</span><span class="o">=</span><span class="s1">&#39;z&#39;</span><span class="p">))</span>
<span class="n">y_new</span> <span class="o">=</span> <span class="n">labeler</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">y_new</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">y</span><span class="p">,</span> <span class="n">y_new</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(array([&#39;a&#39;, &#39;c&#39;, &#39;c&#39;, &#39;d&#39;, &#39;c&#39;, &#39;e&#39;, &#39;a&#39;, &#39;e&#39;, &#39;d&#39;, &#39;a&#39;, &#39;e&#39;, &#39;a&#39;, &#39;e&#39;,
        &#39;d&#39;, &#39;d&#39;, &#39;a&#39;, &#39;c&#39;, &#39;d&#39;, &#39;b&#39;, &#39;a&#39;], dtype=&#39;&lt;U1&#39;),
 array([&#39;x&#39;, &#39;y&#39;, &#39;y&#39;, &#39;z&#39;, &#39;y&#39;, &#39;z&#39;, &#39;x&#39;, &#39;z&#39;, &#39;z&#39;, &#39;x&#39;, &#39;z&#39;, &#39;x&#39;, &#39;z&#39;,
        &#39;z&#39;, &#39;z&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;, &#39;x&#39;, &#39;x&#39;], dtype=&#39;&lt;U1&#39;))</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

