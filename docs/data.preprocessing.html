---

title: Data preprocessing


keywords: fastai
sidebar: home_sidebar

summary: "Functions used to preprocess time series (both X and y)."
description: "Functions used to preprocess time series (both X and y)."
nb_path: "nbs/016_data.preprocessing.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/016_data.preprocessing.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">tsai.data.external</span> <span class="kn">import</span> <span class="n">get_UCR_data</span>
<span class="n">dsid</span> <span class="o">=</span> <span class="s1">&#39;NATOPS&#39;</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">splits</span> <span class="o">=</span> <span class="n">get_UCR_data</span><span class="p">(</span><span class="n">dsid</span><span class="p">,</span> <span class="n">return_split</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">tfms</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Categorize</span><span class="p">()]</span>
<span class="n">dsets</span> <span class="o">=</span> <span class="n">TSDatasets</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">tfms</span><span class="o">=</span><span class="n">tfms</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">splits</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ToNumpyCategory" class="doc_header"><code>class</code> <code>ToNumpyCategory</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L24" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ToNumpyCategory</code>(<strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Categorize a numpy batch</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">ToNumpyCategory</span><span class="p">()</span>
<span class="n">y_cat</span> <span class="o">=</span> <span class="n">t</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">y_cat</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([3, 2, 2, 3, 2, 4, 0, 5, 2, 1])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">tensor</span><span class="p">(</span><span class="n">y_cat</span><span class="p">)),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">y_cat</span><span class="p">)),</span> <span class="n">y</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="OneHot" class="doc_header"><code>class</code> <code>OneHot</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L45" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>OneHot</code>(<strong><code>n_classes</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>One-hot encode/ decode a batch</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">oh_encoder</span> <span class="o">=</span> <span class="n">OneHot</span><span class="p">()</span>
<span class="n">y_cat</span> <span class="o">=</span> <span class="n">ToNumpyCategory</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">oht</span> <span class="o">=</span> <span class="n">oh_encoder</span><span class="p">(</span><span class="n">y_cat</span><span class="p">)</span>
<span class="n">oht</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([[0., 0., 0., 1., 0., 0.],
       [0., 0., 1., 0., 0., 0.],
       [0., 0., 1., 0., 0., 0.],
       [0., 0., 0., 1., 0., 0.],
       [0., 0., 1., 0., 0., 0.],
       [0., 0., 0., 0., 1., 0.],
       [1., 0., 0., 0., 0., 0.],
       [0., 0., 0., 0., 0., 1.],
       [0., 0., 1., 0., 0., 0.],
       [0., 1., 0., 0., 0., 0.]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_classes</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">n_samples</span> <span class="o">=</span> <span class="mi">100</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">,</span> <span class="p">(</span><span class="n">n_samples</span><span class="p">,))</span>
<span class="n">oh_encoder</span> <span class="o">=</span> <span class="n">OneHot</span><span class="p">()</span>
<span class="n">oht</span> <span class="o">=</span> <span class="n">oh_encoder</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">oht</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="p">(</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">oht</span><span class="p">,</span> <span class="n">dim</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span> <span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">oh_encoder</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">oht</span><span class="p">),</span> <span class="n">t</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_classes</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">n_samples</span> <span class="o">=</span> <span class="mi">100</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">,</span> <span class="p">(</span><span class="n">n_samples</span><span class="p">,))</span>
<span class="n">oh_encoder</span> <span class="o">=</span> <span class="n">OneHot</span><span class="p">()</span>
<span class="n">oha</span> <span class="o">=</span> <span class="n">oh_encoder</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">oha</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="p">(</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">oha</span><span class="p">,</span> <span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span> <span class="n">a</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">oh_encoder</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">oha</span><span class="p">),</span> <span class="n">a</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSNan2Value" class="doc_header"><code>class</code> <code>TSNan2Value</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L62" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSNan2Value</code>(<strong><code>value</code></strong>=<em><code>0</code></em>, <strong><code>median</code></strong>=<em><code>False</code></em>, <strong><code>by_sample_and_var</code></strong>=<em><code>True</code></em>, <strong><code>sel_vars</code></strong>=<em><code>None</code></em>) :: <code>Transform</code></p>
</blockquote>
<p>Replaces any nan values by a predefined value or median</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">o</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">o</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">o</span><span class="p">[</span><span class="n">o</span> <span class="o">&gt;</span> <span class="mf">.9</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">o</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">15</span><span class="p">],</span> <span class="p">:,</span> <span class="o">-</span><span class="mi">20</span><span class="p">:]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">nan_vals1</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">o</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">o2</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">TSNan2Value</span><span class="p">(),</span> <span class="n">split_idx</span><span class="o">=</span><span class="mi">0</span><span class="p">)(</span><span class="n">o</span><span class="o">.</span><span class="n">clone</span><span class="p">())</span>
<span class="n">o3</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">TSNan2Value</span><span class="p">(</span><span class="n">median</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_sample_and_var</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">split_idx</span><span class="o">=</span><span class="mi">0</span><span class="p">)(</span><span class="n">o</span><span class="o">.</span><span class="n">clone</span><span class="p">())</span>
<span class="n">o4</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">TSNan2Value</span><span class="p">(</span><span class="n">median</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_sample_and_var</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="n">split_idx</span><span class="o">=</span><span class="mi">0</span><span class="p">)(</span><span class="n">o</span><span class="o">.</span><span class="n">clone</span><span class="p">())</span>
<span class="n">nan_vals2</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">o2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">nan_vals3</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">o3</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">nan_vals4</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">o4</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">nan_vals1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">nan_vals2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">nan_vals3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">nan_vals4</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">o</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">o</span><span class="p">[</span><span class="n">o</span> <span class="o">&gt;</span> <span class="mf">.9</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">o</span> <span class="o">=</span> <span class="n">TSNan2Value</span><span class="p">(</span><span class="n">median</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sel_vars</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])(</span><span class="n">o</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">o</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">item</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSStandardize" class="doc_header"><code>class</code> <code>TSStandardize</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L96" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSStandardize</code>(<strong><code>mean</code></strong>=<em><code>None</code></em>, <strong><code>std</code></strong>=<em><code>None</code></em>, <strong><code>by_sample</code></strong>=<em><code>False</code></em>, <strong><code>by_var</code></strong>=<em><code>False</code></em>, <strong><code>by_step</code></strong>=<em><code>False</code></em>, <strong><code>eps</code></strong>=<em><code>1e-08</code></em>, <strong><code>use_single_batch</code></strong>=<em><code>True</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Standardizes batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a></p>
<p>Args:</p>

<pre><code>- mean: you can pass a precalculated mean value as a torch tensor which is the one that will be used, or leave as None, in which case
    it will be estimated using a batch.
- std: you can pass a precalculated std value as a torch tensor which is the one that will be used, or leave as None, in which case
    it will be estimated using a batch. If both mean and std values are passed when instantiating TSStandardize, the rest of arguments won't be used.
- by_sample: if True, it will calculate mean and std for each individual sample. Otherwise based on the entire batch.
- by_var:
    * False: mean and std will be the same for all variables.
    * True: a mean and std will be be different for each variable.
    * a list of ints: (like [0,1,3]) a different mean and std will be set for each variable on the list. Variables not included in the list
    won't be standardized.
    * a list that contains a list/lists: (like[0, [1,3]]) a different mean and std will be set for each element of the list. If multiple elements are
    included in a list, the same mean and std will be set for those variable in the sublist/s. (in the example a mean and std is determined for
    variable 0, and another one for variables 1 &amp; 3 - the same one). Variables not included in the list won't be standardized.
- by_step: if False, it will standardize values for each time step.
- eps: it avoids dividing by 0
- use_single_batch: if True a single training batch will be used to calculate mean &amp; std. Else the entire training set will be used.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span><span class="o">=</span><span class="p">[</span><span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_var</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">tsai.data.validation</span> <span class="kn">import</span> <span class="n">TimeSplitter</span>
<span class="n">X_nan</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">idxs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">X_nan</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">X_nan</span><span class="p">)</span><span class="o">*</span><span class="mf">.5</span><span class="p">),</span> <span class="kc">False</span><span class="p">)</span>
<span class="n">X_nan</span><span class="p">[</span><span class="n">idxs</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">idxs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">X_nan</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">X_nan</span><span class="p">)</span><span class="o">*</span><span class="mf">.5</span><span class="p">),</span> <span class="kc">False</span><span class="p">)</span>
<span class="n">X_nan</span><span class="p">[</span><span class="n">idxs</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">:]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">batch_tfms</span> <span class="o">=</span> <span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_var</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">get_ts_dls</span><span class="p">(</span><span class="n">X_nan</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">TimeSplitter</span><span class="p">(</span><span class="n">show_plot</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="n">range_of</span><span class="p">(</span><span class="n">X_nan</span><span class="p">)))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">after_batch</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">after_batch</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">xb</span> <span class="o">=</span> <span class="n">first</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">xb</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">xb</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">xb</span><span class="p">)</span><span class="o">.</span><span class="n">numel</span><span class="p">())</span>
<span class="n">batch_tfms</span> <span class="o">=</span> <span class="p">[</span><span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_var</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">Nan2Value</span><span class="p">()]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">get_ts_dls</span><span class="p">(</span><span class="n">X_nan</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">TimeSplitter</span><span class="p">(</span><span class="n">show_plot</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="n">range_of</span><span class="p">(</span><span class="n">X_nan</span><span class="p">)))</span>
<span class="n">xb</span> <span class="o">=</span> <span class="n">first</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">xb</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span><span class="o">=</span><span class="p">[</span><span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_var</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">valid</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tfms</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">TSClassification</span><span class="p">()]</span>
<span class="n">batch_tfms</span> <span class="o">=</span> <span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">get_ts_dls</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">splits</span><span class="p">,</span> <span class="n">tfms</span><span class="o">=</span><span class="n">tfms</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="p">[</span><span class="mi">64</span><span class="p">,</span> <span class="mi">128</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="o">.</span><span class="n">one_batch</span><span class="p">()</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="n">dls</span><span class="o">.</span><span class="n">valid</span><span class="o">.</span><span class="n">one_batch</span><span class="p">()</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tfms</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">TSClassification</span><span class="p">()]</span>
<span class="n">batch_tfms</span> <span class="o">=</span> <span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_var</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">get_ts_dls</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">splits</span><span class="p">,</span> <span class="n">tfms</span><span class="o">=</span><span class="n">tfms</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="p">[</span><span class="mi">64</span><span class="p">,</span> <span class="mi">128</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="o">.</span><span class="n">one_batch</span><span class="p">()</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="n">dls</span><span class="o">.</span><span class="n">valid</span><span class="o">.</span><span class="n">one_batch</span><span class="p">()</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Tensor.mul_min" class="doc_header"><code>Tensor.mul_min</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L194" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Tensor.mul_min</code>(<strong><code>x</code></strong>:<code>(Tensor, TSTensor, NumpyTensor)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="TSTensor.mul_min" class="doc_header"><code>TSTensor.mul_min</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L194" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>TSTensor.mul_min</code>(<strong><code>x</code></strong>:<code>(Tensor, TSTensor, NumpyTensor)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="NumpyTensor.mul_min" class="doc_header"><code>NumpyTensor.mul_min</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L194" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>NumpyTensor.mul_min</code>(<strong><code>x</code></strong>:<code>(Tensor, TSTensor, NumpyTensor)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Tensor.mul_max" class="doc_header"><code>Tensor.mul_max</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L203" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Tensor.mul_max</code>(<strong><code>x</code></strong>:<code>(Tensor, TSTensor, NumpyTensor)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="TSTensor.mul_max" class="doc_header"><code>TSTensor.mul_max</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L203" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>TSTensor.mul_max</code>(<strong><code>x</code></strong>:<code>(Tensor, TSTensor, NumpyTensor)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="NumpyTensor.mul_max" class="doc_header"><code>NumpyTensor.mul_max</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L203" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>NumpyTensor.mul_max</code>(<strong><code>x</code></strong>:<code>(Tensor, TSTensor, NumpyTensor)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSNormalize" class="doc_header"><code>class</code> <code>TSNormalize</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L212" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSNormalize</code>(<strong><code>min</code></strong>=<em><code>None</code></em>, <strong><code>max</code></strong>=<em><code>None</code></em>, <strong><code>range</code></strong>=<em><code>(-1, 1)</code></em>, <strong><code>by_sample</code></strong>=<em><code>False</code></em>, <strong><code>by_var</code></strong>=<em><code>False</code></em>, <strong><code>by_step</code></strong>=<em><code>False</code></em>, <strong><code>clip_values</code></strong>=<em><code>True</code></em>, <strong><code>use_single_batch</code></strong>=<em><code>True</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Normalizes batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span> <span class="o">=</span> <span class="p">[</span><span class="n">TSNormalize</span><span class="p">()]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span><span class="o">=</span><span class="p">[</span><span class="n">TSNormalize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_var</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span> <span class="o">=</span> <span class="p">[</span><span class="n">TSNormalize</span><span class="p">(</span><span class="n">by_var</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span> <span class="n">use_single_batch</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">clip_values</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">xb</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">xb</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSClipOutliers" class="doc_header"><code>class</code> <code>TSClipOutliers</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L292" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSClipOutliers</code>(<strong><code>min</code></strong>=<em><code>None</code></em>, <strong><code>max</code></strong>=<em><code>None</code></em>, <strong><code>by_sample</code></strong>=<em><code>False</code></em>, <strong><code>by_var</code></strong>=<em><code>False</code></em>, <strong><code>use_single_batch</code></strong>=<em><code>False</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Clip outliers batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a> based on the IQR</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span><span class="o">=</span><span class="p">[</span><span class="n">TSClipOutliers</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">valid</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>TSClipOutliers min=-1, max=1

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSClip" class="doc_header"><code>class</code> <code>TSClip</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L335" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSClip</code>(<strong><code>min</code></strong>=<em><code>-6</code></em>, <strong><code>max</code></strong>=<em><code>6</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Clip  batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span><span class="p">)</span>
<span class="n">test_le</span><span class="p">(</span><span class="n">TSClip</span><span class="p">()(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">.</span><span class="n">item</span><span class="p">(),</span> <span class="mi">6</span><span class="p">)</span>
<span class="n">test_ge</span><span class="p">(</span><span class="n">TSClip</span><span class="p">()(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="o">.</span><span class="n">item</span><span class="p">(),</span> <span class="o">-</span><span class="mi">6</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSSelfMissingness" class="doc_header"><code>class</code> <code>TSSelfMissingness</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L348" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSSelfMissingness</code>(<strong><code>sel_vars</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Applies missingness from samples in a batch to random samples in the batch for selected variables</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">t</span><span class="p">[</span><span class="n">t</span><span class="o">&gt;</span><span class="mf">.8</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">TSSelfMissingness</span><span class="p">()(</span><span class="n">t</span><span class="o">.</span><span class="n">clone</span><span class="p">())</span>
<span class="n">t3</span> <span class="o">=</span> <span class="n">TSSelfMissingness</span><span class="p">(</span><span class="n">sel_vars</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">])(</span><span class="n">t</span><span class="o">.</span><span class="n">clone</span><span class="p">())</span>
<span class="k">assert</span> <span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">t2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span> <span class="ow">and</span> <span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">t2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">&gt;</span>  <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">t3</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSRobustScale" class="doc_header"><code>class</code> <code>TSRobustScale</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L365" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSRobustScale</code>(<strong><code>median</code></strong>=<em><code>None</code></em>, <strong><code>iqr</code></strong>=<em><code>None</code></em>, <strong><code>quantile_range</code></strong>=<em><code>(25.0, 75.0)</code></em>, <strong><code>use_single_batch</code></strong>=<em><code>True</code></em>, <strong><code>eps</code></strong>=<em><code>1e-08</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>This Scaler removes the median and scales the data according to the quantile range (defaults to IQR: Interquartile Range)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span> <span class="o">=</span> <span class="n">TSRobustScale</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">use_single_batch</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>TSRobustScale median=torch.Size([1, 24, 1]) iqr=torch.Size([1, 24, 1])
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>TSTensor([-2.388400077819824], device=cpu, dtype=torch.float32)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_stats_with_uncertainty" class="doc_header"><code>get_stats_with_uncertainty</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L405" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_stats_with_uncertainty</code>(<strong><code>o</code></strong>, <strong><code>sel_vars</code></strong>=<em><code>None</code></em>, <strong><code>sel_vars_zero_mean_unit_var</code></strong>=<em><code>False</code></em>, <strong><code>bs</code></strong>=<em><code>64</code></em>, <strong><code>n_trials</code></strong>=<em><code>None</code></em>, <strong><code>axis</code></strong>=<em><code>(0, 2)</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_random_stats" class="doc_header"><code>get_random_stats</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L439" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_random_stats</code>(<strong><code>E_mean</code></strong>, <strong><code>S_mean</code></strong>, <strong><code>E_std</code></strong>, <strong><code>S_std</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSGaussianStandardize" class="doc_header"><code>class</code> <code>TSGaussianStandardize</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L446" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSGaussianStandardize</code>(<strong><code>E_mean</code></strong>:<code>ndarray</code>, <strong><code>S_mean</code></strong>:<code>ndarray</code>, <strong><code>E_std</code></strong>:<code>ndarray</code>, <strong><code>S_std</code></strong>:<code>ndarray</code>, <strong><code>eps</code></strong>=<em><code>1e-08</code></em>, <strong><code>split_idx</code></strong>=<em><code>0</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Scales each batch using modeled mean and std based on UNCERTAINTY MODELING FOR OUT-OF-DISTRIBUTION GENERALIZATION <a href="https://arxiv.org/abs/2202.03958">https://arxiv.org/abs/2202.03958</a></p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>E_mean</code></strong></td>
<td><code>ndarray</code></td>
<td></td>
<td>Mean expected value</td>
</tr>
<tr>
<td><strong><code>S_mean</code></strong></td>
<td><code>ndarray</code></td>
<td></td>
<td>Uncertainty (standard deviation) of the mean</td>
</tr>
<tr>
<td><strong><code>E_std</code></strong></td>
<td><code>ndarray</code></td>
<td></td>
<td>Standard deviation expected value</td>
</tr>
<tr>
<td><strong><code>S_std</code></strong></td>
<td><code>ndarray</code></td>
<td></td>
<td>Uncertainty (standard deviation) of the standard deviation</td>
</tr>
<tr>
<td><strong><code>eps</code></strong></td>
<td><code>float</code></td>
<td><code>1e-08</code></td>
<td>(epsilon) small amount added to standard deviation to avoid deviding by zero</td>
</tr>
<tr>
<td><strong><code>split_idx</code></strong></td>
<td><code>int</code></td>
<td><code>0</code></td>
<td>Flag to indicate to which set is this transofrm applied. 0: training, 1:validation, None:both</td>
</tr>
<tr>
<td><strong><code>kwargs</code></strong></td>
<td></td>
<td></td>
<td><em>No Content</em></td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">E_mean</span><span class="p">,</span> <span class="n">S_mean</span><span class="p">,</span> <span class="n">E_std</span><span class="p">,</span> <span class="n">S_std</span> <span class="o">=</span> <span class="n">get_stats_with_uncertainty</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">sel_vars</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">n_trials</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">new_mean</span><span class="p">,</span> <span class="n">new_std</span> <span class="o">=</span> <span class="n">get_random_stats</span><span class="p">(</span><span class="n">E_mean</span><span class="p">,</span> <span class="n">S_mean</span><span class="p">,</span> <span class="n">E_std</span><span class="p">,</span> <span class="n">S_std</span><span class="p">)</span>
<span class="n">new_mean2</span><span class="p">,</span> <span class="n">new_std2</span> <span class="o">=</span> <span class="n">get_random_stats</span><span class="p">(</span><span class="n">E_mean</span><span class="p">,</span> <span class="n">S_mean</span><span class="p">,</span> <span class="n">E_std</span><span class="p">,</span> <span class="n">S_std</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">new_mean</span><span class="p">,</span> <span class="n">new_mean2</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">new_std</span><span class="p">,</span> <span class="n">new_std2</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">new_mean</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">new_std</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">new_mean</span><span class="p">,</span> <span class="n">new_std</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
    <div>
        <style>
            /* Turns off some styling */
            progress {
                /* gets rid of default border in Firefox and Opera. */
                border: none;
                /* Needs to be in here for Safari polyfill so background images work as expected. */
                background-size: auto;
            }
            .progress-bar-interrupted, .progress-bar-interrupted::-webkit-progress-bar {
                background: #F44336;
            }
        </style>
      <progress value='15' class='' max='15' style='width:300px; height:20px; vertical-align: middle;'></progress>
      100.00% [15/15 00:00<00:00]
    </div>
    </div>

</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(array([[[0.50110194],
         [0.49871968]]]),
 array([[[0.2880768 ],
         [0.28880521]]]))</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>TSGaussianStandardize can be used jointly with TSStandardized in the following way:</p>
<div class="highlight"><pre><span></span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">splits</span> <span class="o">=</span> <span class="n">get_UCR_data</span><span class="p">(</span><span class="s1">&#39;LSST&#39;</span><span class="p">,</span> <span class="n">split_data</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">tfms</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">TSClassification</span><span class="p">()]</span>
<span class="n">E_mean</span><span class="p">,</span> <span class="n">S_mean</span><span class="p">,</span> <span class="n">E_std</span><span class="p">,</span> <span class="n">S_std</span> <span class="o">=</span> <span class="n">get_stats_with_uncertainty</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">sel_vars</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">n_trials</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">batch_tfms</span> <span class="o">=</span> <span class="p">[</span><span class="n">TSGaussianStandardize</span><span class="p">(</span><span class="n">E_mean</span><span class="p">,</span> <span class="n">S_mean</span><span class="p">,</span> <span class="n">E_std</span><span class="p">,</span> <span class="n">S_std</span><span class="p">,</span> <span class="n">split_idx</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="n">TSStandardize</span><span class="p">(</span><span class="n">E_mean</span><span class="p">,</span> <span class="n">S_mean</span><span class="p">,</span> <span class="n">split_idx</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">get_ts_dls</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">splits</span><span class="p">,</span> <span class="n">tfms</span><span class="o">=</span><span class="n">tfms</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="p">[</span><span class="mi">32</span><span class="p">,</span> <span class="mi">64</span><span class="p">])</span>
<span class="n">learn</span> <span class="o">=</span> <span class="n">ts_learner</span><span class="p">(</span><span class="n">dls</span><span class="p">,</span> <span class="n">InceptionTimePlus</span><span class="p">,</span> <span class="n">metrics</span><span class="o">=</span><span class="n">accuracy</span><span class="p">,</span> <span class="n">cbs</span><span class="o">=</span><span class="p">[</span><span class="n">ShowGraph</span><span class="p">()])</span>
<span class="n">learn</span><span class="o">.</span><span class="n">fit_one_cycle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">1e-2</span><span class="p">)</span>
</pre></div>
<p>In this way the train batches are scaled based on mean and standard deviation distributions while the valid batches are scaled with a fixed mean and standard deviation values.</p>
<p>The intent is to improve out-of-distribution performance. This method is inspired by UNCERTAINTY MODELING FOR OUT-OF-DISTRIBUTION GENERALIZATION <a href="https://arxiv.org/abs/2202.03958">https://arxiv.org/abs/2202.03958</a>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSDiff" class="doc_header"><code>class</code> <code>TSDiff</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L473" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSDiff</code>(<strong><code>lag</code></strong>=<em><code>1</code></em>, <strong><code>pad</code></strong>=<em><code>True</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Differences batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">TSDiff</span><span class="p">()(</span><span class="n">t</span><span class="p">)[</span><span class="o">...</span><span class="p">,</span> <span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">float</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">TSDiff</span><span class="p">(</span><span class="n">lag</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">float</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSLog" class="doc_header"><code>class</code> <code>TSLog</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L486" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSLog</code>(<strong><code>ex</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Log transforms batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a> + 1. Accepts positive and negative numbers</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span> 
<span class="n">tfm</span> <span class="o">=</span> <span class="n">TSLog</span><span class="p">()</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">tfm</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">enc_t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">tfm</span><span class="o">.</span><span class="n">decodes</span><span class="p">(</span><span class="n">enc_t</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSCyclicalPosition" class="doc_header"><code>class</code> <code>TSCyclicalPosition</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L507" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSCyclicalPosition</code>(<strong><code>cyclical_var</code></strong>=<em><code>None</code></em>, <strong><code>magnitude</code></strong>=<em><code>None</code></em>, <strong><code>drop_var</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Concatenates the position along the sequence as 2 additional variables (sine and cosine)</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>cyclical_var</code></strong></td>
<td></td>
<td><code>None</code></td>
<td>Optional variable to indicate the steps withing the cycle (ie minute of the day)</td>
</tr>
<tr>
<td><strong><code>magnitude</code></strong></td>
<td></td>
<td><code>None</code></td>
<td>Added for compatibility. It's not used.</td>
</tr>
<tr>
<td><strong><code>drop_var</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>Flag to indicate if the cyclical var is removed</td>
</tr>
<tr>
<td><strong><code>kwargs</code></strong></td>
<td></td>
<td></td>
<td><em>No Content</em></td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">))</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSCyclicalPosition</span><span class="p">()(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">enc_t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">2</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enc_t</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">cpu</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">)</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">seq_len</span><span class="p">)</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t2</span><span class="p">[</span><span class="mi">35</span><span class="p">:],</span> <span class="n">t2</span><span class="p">[:</span><span class="mi">35</span><span class="p">]])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">],</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">rand_like</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">.8</span>
<span class="n">t</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSCyclicalPosition</span><span class="p">(</span><span class="mi">3</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">enc_t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">2</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enc_t</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">cpu</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSLinearPosition" class="doc_header"><code>class</code> <code>TSLinearPosition</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L537" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSLinearPosition</code>(<strong><code>linear_var</code></strong>:<code>int</code>=<em><code>None</code></em>, <strong><code>var_range</code></strong>:<code>tuple</code>=<em><code>None</code></em>, <strong><code>magnitude</code></strong>=<em><code>None</code></em>, <strong><code>drop_var</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>lin_range</code></strong>:<code>tuple</code>=<em><code>(-1, 1)</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Concatenates the position along the sequence as 1 additional variable</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>linear_var</code></strong></td>
<td><code>int</code></td>
<td><code>None</code></td>
<td>Optional variable to indicate the steps withing the cycle (ie minute of the day)</td>
</tr>
<tr>
<td><strong><code>var_range</code></strong></td>
<td><code>tuple</code></td>
<td><code>None</code></td>
<td>Optional range indicating min and max values of the linear variable</td>
</tr>
<tr>
<td><strong><code>magnitude</code></strong></td>
<td></td>
<td><code>None</code></td>
<td>Added for compatibility. It's not used.</td>
</tr>
<tr>
<td><strong><code>drop_var</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>Flag to indicate if the cyclical var is removed</td>
</tr>
<tr>
<td><strong><code>lin_range</code></strong></td>
<td><code>tuple</code></td>
<td><code>(-1, 1)</code></td>
<td><em>No Content</em></td>
</tr>
<tr>
<td><strong><code>kwargs</code></strong></td>
<td></td>
<td></td>
<td><em>No Content</em></td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">))</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSLinearPosition</span><span class="p">()(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">enc_t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enc_t</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">cpu</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t</span><span class="p">[</span><span class="mi">30</span><span class="p">:],</span> <span class="n">t</span><span class="p">[:</span><span class="mi">30</span><span class="p">]])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t</span><span class="p">[</span><span class="mi">52</span><span class="p">:],</span> <span class="n">t</span><span class="p">[:</span><span class="mi">52</span><span class="p">]])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">])</span><span class="o">.</span><span class="n">float</span><span class="p">()</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">rand_like</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">.8</span>
<span class="n">t</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSLinearPosition</span><span class="p">(</span><span class="n">linear_var</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">var_range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="n">drop_var</span><span class="o">=</span><span class="kc">True</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">enc_t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enc_t</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">cpu</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXAAAAD4CAYAAAD1jb0+AAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjUuMSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/YYfK9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAbBklEQVR4nO3de3SV9Z3v8fd37w1yUbkIpggiUEWlYCsT0aqj1qqD2DNY7Wit7dDRDjNdc9bpxXMU2lM7be2Is9qqPVU7qK10bL0M4EC90ApVa70CtpJAVO5yhwQNCgSTne/5Yz9ARDA7yb49v+fzWisr2Ts77O/Ok3z45ff8vs/P3B0REYmfVLkLEBGRzlGAi4jElAJcRCSmFOAiIjGlABcRialMKZ9swIABPmzYsFI+pYhI7C1evLje3QceeH9JA3zYsGEsWrSolE8pIhJ7Zrb2YPdrCkVEJKYU4CIiMaUAFxGJKQW4iEhMKcBFRGIqr1UoZrYGeAfIAi3uXm1m/YGHgGHAGuAKd3+rOGWKiMiBOjIC/5S7f8Ldq6PbU4AF7n4CsCC6LSIiJdKVKZSJwIzo4xnApV2uRkSKatnGHfzhtS3lLkMKJN9GHgd+b2YO/Ie7Tweq3H1T9PnNQNXBvtDMJgOTAYYOHdrFckWkM3a/l+W2BW9wz7OrSRks/+GEcpckBZBvgJ/t7hvM7GjgSTN7re0n3d2jcP+AKOynA1RXV2v3CJESe35lPVNn17C2YRfH9OnBxsYmWludVMrKXZp0UV5TKO6+IXq/FXgEGAdsMbNBANH7rcUqUkQ6rnFXMzfMXMIX7n4JgN/84+lcNS73V3BWO3EFod0AN7PeZnbE3o+Bi4BaYC4wKXrYJGBOsYoUkY55omYTF9z6DDNfWc8/n/tR5n3tHM786ADS6dyoO9uqAA9BPlMoVcAjZrb38b9x93lmthB42MyuBdYCVxSvTBHJx5YdTdw4p5bfLd3Cx445kl9++TRGD+6z7/OZaNqkRQEehHYD3N1XAR8/yP0NwKeLUZSIdExrq/PQonX82+N1vNfSypSLT+IrZw8nk37/H9npVO52NqsAD0FJLycrIoW3un4nU2Yt4aXV2zljRH9uvuwUhg/ofdDH7h+Bt5ayRCkSBbhITDVnW7n72VXcNn85h2VSTLtsDFeedizRdOdBpVOaAw+JAlwkppqzrTzw8pucf+LRfH/ixzj6yB7tfo3mwMOiABeJqV7dM8z5l7Pp37t73l+jEXhYdDVCkRjrSHgDZNIagYdEAS5S4Rp3NfPdObVsfaepy//WvlUoOokZBAW4SAXb25Bz/0tv8sLKhi7/e5oDD4vmwEUqUNuGnFGDPtiQ01l758BbtA48CApwkQri7jy4cH9Dzg3jT+Irfz2cbunC/LGc0UnMoCjARSrEmvqdTJm9hBdXbef04f2ZdvmhG3I6K60plKAowEUqRN2mHSzduIObLxvDldXHFuVyr5l9JzEV4CFQgItUiIvHDOKMEUfRr4NLAzsirVb6oGgVikgFKWZ4w/514BqBh0EBLpIgmgMPiwJcJEG66XKyQVGAiySIRuBhUYCLJIjmwMOiABcpAnfnwZffZObi9eUu5X20CiUsCnCRAltTv5Or7n6RKbNrmFe7udzlvI86McOideAiBdKSbeXuZ1dz2/w36J5J7WvIqSSaAw+LAlykAGo3NHLDrCUs3biDi0ZV8YNLR1OVxw45paZOzLAowEW6oKk5y63z3+CeZ1fTv3d3fv7FsYwfPajcZR2SRuBhUYCLdNLzK+uZOruGtQ27uLL6WL414WT69OpW7rI+1L458KxOYoZAAS7SQY27mrn5iToeXLiO447qxW++cjpnHj+g3GXlJa0t1YKiABfpgCdqNnHj3KVs3/ke/3TOCL5+wUh6dk+Xu6y8aRVKWBTgInnYuqOJ7xRhh5xS0xx4WBTgInlo2Pkez61oKPgOOaWmVShhUYCL5OHkQUfy/NTzObJHZZ+kbM/ePSI0Ag9DPIcRImUQ9/AGMDMyKSOrVvogKMBFEiadMo3AA6EAF0mYTMp0PfBA5B3gZpY2sz+b2aPR7eFm9pKZrTCzh8ysuHtBiUhBaAQejo6MwL8G1LW5fQtwq7sfD7wFXFvIwkSkODLplC4nG4i8AtzMhgCXAPdEtw04H5gZPWQGcGkR6hORAkunTMsIA5HvCPw24Hpg73/bRwFvu3tLdHs9MPhgX2hmk81skZkt2rZtW1dqFZECyKSMFs2BB6HdADezzwBb3X1xZ57A3ae7e7W7Vw8cOLAz/4SIFJBG4OHIp5HnLOBvzWwC0AM4Ergd6GtmmWgUPgTYULwyRaRQMjqJGYx2R+DuPtXdh7j7MODzwB/c/WrgKeBz0cMmAXOKVqVIJ7RkW7nr6ZXM+YvGFm1pBB6OrqwDvwH4ppmtIDcnfm9hShLputoNjUy84zlumfcaz69oKHc5FSWT0iqUUHToWiju/jTwdPTxKmBc4UsS6bzd72W5bUF8dsgpB43Aw6GLWUkw4rhDTjlk0poDD4UCXGKvcXczNz8ezx1yykEj8HAowCXW5tVu4jtzltLw7p5Y7pBTDloHHg4FuMTS1h1N3DhnKfOWbmbUoCP5xaTTGDMkfjvklING4OFQgEusuDsPLVzHDx+vY09LK9ePP5F//OsRsd0hpxwyqRS7Wlraf6BUPAW4xMaa+p1MnV3DC6saOH14f6ZdfgrDB/Qud1mxoxF4OBTgUvFasq3c/exqbpv/Bt3TKW6+bAxXVh9Lau/+YNIh6sQMhwJcKlrthkZumLWEpRt38Dcfq+L7E0dTdWSPcpcVaxqBh0MBLhWpqTnLrfNzDTn9enXnrqvHcvEYNeQUgtaBh0MBLhXnxVUNTJm1hDVqyCmKdCqlEXggFOBScVbX78RBDTlFkpsD17VQQqAAl4pzZfWxfPbUwfTopoacYkhrU+NgKMCl4qRSRo+UwrtYtAolHOp+kLJwdx58+U3+34Ll5S4lcbQKJRwKcCm5NfU7+cLdLzFldg0vrm5QmJSYRuDh0BSKlExLtpV7/rSaW59UQ045ZdJahRIKBbiURNuGnAtHVXHTpWrIKRetQgmHAlyKqqk5y23zl3P3s6vo3zvXkDN+9Ecw06i7XDQHHg4FuBTNCysbmDo715BzRfUQvj1hlBpyKoDmwMOhAJeCa9zdzLQn6njgZe2QU4nSqRTu0NrqOv8QcwpwKah5tZu5cU4t9dohp2Jl0rnQbml1uivAY00BLgXxgR1yvnwaowdrh5xKlI5CW/Pg8acAly7RDjnxk0ntHYG3AvrrKM4U4NJp2iEnnjQCD4cCXDpMDTnxtn8ErgCPOwW4dEjthkamzF5C7QbtkBNX6VRueksj8PhTgEtetENOODQCD4cCXNrVtiFHO+TE3745cF0TPPYU4HJIjbubufnxOh5cuI6h/dWQE4r968B1PZS4U4DLQT25bAvffqSG+nf3MPmcEXxDDTnB0CqUcCjA5aDWbd/FUYcfxr2TTmPMEDXkhERz4OFoN8DNrAfwR+Cw6PEz3f27ZjYceBA4ClgMfMnd3ytmsVI6k84cxpc+eZwacgKkVSjhyOe3cw9wvrt/HPgEMN7MzgBuAW519+OBt4Bri1allFw6ZQrvQGkEHo52f0M9593oZrfozYHzgZnR/TOAS4tRoBRPS7aVnz+zkjueWlHuUqSE9s+B6yRm3OU1B25maXLTJMcDdwArgbfdvSV6yHpg8CG+djIwGWDo0KFdrVcKpO0OOZecMgh31yYLCbF3BN6sZYSxl1eAu3sW+ISZ9QUeAU7K9wncfTowHaC6ulo/MWXWnG3lx79/43075KghJ1m0CiUcHVqF4u5vm9lTwCeBvmaWiUbhQ4ANxShQCiuTMmo2vM3nxg5RQ05Ctb0euMRbPqtQBgLNUXj3BC4kdwLzKeBz5FaiTALmFLNQKQwz45dfHkf3jE5QJtX+VSiaA4+7fEbgg4AZ0Tx4CnjY3R81s2XAg2Z2E/Bn4N4i1ikFpPBOtn2rUDQHHnvtBri7LwFOPcj9q4BxxShKum7rjia+99tlTD5nBB8/tm+5y5EKojnwcGgoFpjcDjlvcsFPnuHJui0s3/pu+18kiaJ14OFQK31A1m3fxfUzl+zbIefmy8YwYuDh5S5LKoxG4OFQgAckkzbWNuzUDjnyoTLRSUyNwONPAR6QQX168sz1n1ILvHyodFqdmKHQb3pgFN7SHs2Bh0O/7SIJoznwcCjARRJG68DDoQAXSRiNwMOhABdJGK1CCYcCXCRhdD3wcCjARRJGq1DCoQAXSZhUyjDTHHgIFOAiCZRJmUbgAVCAiyRQOmUagQdAAS6SQJlUSuvAA6AAF0mg3Ahcq1DiTgEukkCaAw+DArxEtu5o4qv3L+ZPy+vLXYoImbTmwEOgy8kWmbvz8KJ1/PCxOppaWjln5MBylySSmwNXgMeeAryINr69m+sefpUXVjUwbnh/pmmHHKkQWoUSBgV4EfXslmZT427+7bNj+Pxp2iFHKofmwMOgAC+ifr27M/+b55LRJgtSYbQKJQxKliJTeEslSqdM68ADoHQRSSCtQgmDAlwkgdJahRIEBbhIAmW0CiUICnCRBEqnjBadxIw9BXie3J2HF67jq/cvxl0jF4k3jcDDoGWEeVjbsJOps2t4fmWuIWdHUwt9enYrd1kinZZOGbubFeBxpwD/EC3ZVu7902punf8G3VIpNeRIMDQCD4MC/BCWbmzkhllLqN2wgwtHVfGDiaP5SJ8e5S5LpCDSuh54ENoNcDM7FvgVUAU4MN3dbzez/sBDwDBgDXCFu79VvFJLo6k5y+0LljP9j6vo16s7d149lotHfwQzjbolHBqBhyGfEXgLcJ27v2JmRwCLzexJ4MvAAnefZmZTgCnADcUrtfheWNnA1NlLWNOwi7/7qyF8+5KT6dure7nLEim4dFqrUELQboC7+yZgU/TxO2ZWBwwGJgLnRQ+bATxNTAO8cXcz056o44GX1zG0fy9+/ZXTOev4AeUuS6RoNAIPQ4fmwM1sGHAq8BJQFYU7wGZyUywH+5rJwGSAoUOHdrrQYplXu5kb59RS/+4eJp8zgm9cMJKe3dPlLkukqNK6GmEQ8g5wMzscmAV83d13tJ0Tdnc3s4P+NLj7dGA6QHV1dcX8xGx9p4nvzlnKE7WbOXnQkdw76TTGDOlT7rJESkIj8DDkFeBm1o1ceP/a3WdHd28xs0HuvsnMBgFbi1VkIR24Q87/+ZsTmXzOCLrpqoGSIOlUimatQom9fFahGHAvUOfuP2nzqbnAJGBa9H5OUSosoLUNO5kyq0Y75EjiZXQ98CDkMwI/C/gSUGNmf4nu+xa54H7YzK4F1gJXFKXCAtjbkPOTJ9+gezrFDz87mqtOG6qGHEkszYGHIZ9VKH8CDpV0ny5sOYW3dGMjU2bVULOhUQ05IhHNgYch2E7MAxty7vjCWCaMUUOOCOxdB64Aj7sgA/zFVQ1MnV3D6vqdXFE9hG9NUEOOSFsagYchqAA/sCHn/mtP5+wT1JAjcqB0KkW21XF3/VUaY8EEuBpyRPKXiU7gZ1udTFoBHlexD/ADG3LumVTNKUP6lrsskYqWjgK8pdXJaJwTW7ENcDXkiHRe2xG4xFcsA3xNfW6HnBdWNTBuWH9uvnwMH1VDjkje2o7AJb5iFeBqyBEpDI3AwxCbANcOOSKFk46mGnVN8HiLRYD/+Pevc+fTK7VDjkiBaAQehlgE+HstrVw+drAackQKZN8cuK5IGGuxCPApF5+kEbdIAWkEHoZYrLlTeIsUllahlJZ7cb7PsQhwESmsTCr3q68RePHNX7aFS+94jsZdzQX/t2MxhSIihbV/BK5VKMVS/+4e/nXuUh5dsokTq46gfuce+vTqVtDnUICLJJDmwItrXu0mpsyuYdeeLNddOJJ/OvejdM8UfsJDAS6SQOm05sCLqUe3NMcPPJxpl4/h+KOPKNrzKMBFEkgj8OI678SjOXfkwKIvwNBJTJEE0jrwwjnUCpNSrJ5TgIsk0N6rdmoE3nlNzVl+9LvX+ebDr5atBgW4SAJpFUrXvLx6OxN++iw/e2oFZtCcLc/3UXPgIgmkOfDOeaepmVvmvcb9L77JkH49+dU14zhn5MCy1aMAF0kgdWJ23PxlW/i//13LlneauOas4Vx30Uh6H1beCFWAiySQOjHz19Sc5br/epXHooacu744llOH9it3WYACXCSRNALP32GZFDhFbcjpLAW4SALtnwPXScz2mBk/+8KpFXlRvcr5r0RESkbrwDumEsMbFOAiiZRJaxVKCBTgIgmkOfAwKMBFEkirUMKgABdJII3Aw9BugJvZL8xsq5nVtrmvv5k9aWbLo/eVsShSRPKiVShhyGcEfh8w/oD7pgAL3P0EYEF0W0RiQiPwMLQb4O7+R2D7AXdPBGZEH88ALi1sWSJSTPtG4FpGGGudnQOvcvdN0cebgapDPdDMJpvZIjNbtG3btk4+nYgUUlJG4K2Bv74un8T03NXMD/ldcvfp7l7t7tUDB5bvql0isp+ZkU5ZsKtQsq3OPc+u4u/+44WyXeq1FDob4FvMbBBA9H5r4UoSkVJIpyzIEXjdph1cdudz3PRYHX16dmPnnpZyl1Q0nb0WylxgEjAtej+nYBWJSElkUkZLQKPTpuYsP/vDCn7+zEr69OzGT686lf9xyqCKbYMvhHYD3MweAM4DBpjZeuC75IL7YTO7FlgLXFHMIkWk8EIagS9cs50bZi1h1badXDZ2MN+5ZBT9encvd1lF126Au/tVh/jUpwtci4iUUCaAOfB3mpr593mv858vrmVw357MuGYc55Zxh5xS0+VkRRIqnUrFegS+oC63Q87mHU38w1nD+N8XnVj2HXJKLVmvVkT2yY3A4zcHXv/uHv517lIejXbIufPqytkhp9QU4CIJFbc5cHdn1isbuOmxZezak+UbF4zkq+dV1g45paYAF0moTDo+c+Drtu/iW4/U8OzyeqqP68e0y8dw/NFHlLusslOAiyRUHEbg2Vbnl8+t5se/f4OUwfcnfowvnn4cqVS4SwM7QgEuklCZlFX0tVDqNu1gyqwlvLq+kfNPOpqbLh3NMX17lrusiqIAF0moSl2F0tSc5Y6nVnDX08lpyOksBbhIQlXiKpSFa7YzZdYSViasIaezFOAiCVVJc+DvNDVzy7zXuP/FNxPZkNNZCnCRhKqUTsy2DTnXnDWc6y4ambiGnM7Sd0kkoco9AldDTtcpwEUSKpM2mppLPwfu7sx+ZQM/iBpyvnnhSP753GQ35HSWAlwkoXKrULIlfc62DTl/dVw/pl02hhOq1JDTWQpwkYQq5SqUbKtz3/Nr+NHvXldDTgEpwEUSKp0yWkrQyPPa5h3cMKuGV9e9zadOHMhNnx3DYDXkFIQCXCShir0KZU9LboccNeQUjwJcJKGKuanx+xpyTh3Mdz6jhpxiUICLJFSmCMsIk75DTqkpwEUSKp1KFXQErh1ySk/fXZGEyo3Au74Kpf7dPXzvt8v47asb1ZBTYgpwkYRKd3FDBzXklJ8CXCShunVhDlw75FQGBbhIQqVTqQ5v6KAdciqLAlwkoTLpjo3A2zbkaIecyqAAF0mofNeBqyGncinARRIqn1UoasipbApwkYRKp4xWh9ZW/8Ac9oENOff9w2mcd+LRZapUDkUBLpJQmSi0s+6k2B/g2iEnPnRURBIqncqt1862Ot3S72/IGVl1OHdefaYaciqcAlwkofaOwJuzrTy2ZJMacmJIAS6SUOkowK+5byEL17ylHXJiqEsBbmbjgduBNHCPu08rSFUiUnSZdC7Al23coYacmOp0gJtZGrgDuBBYDyw0s7nuvqxQxYlI8VxwchUb3trN3585TDvkxFRXRuDjgBXuvgrAzB4EJgIKcJEYOKZvT6ZOOLncZUgXdOUsxWBgXZvb66P73sfMJpvZIjNbtG3bti48nYiItFX008zuPt3dq929euBA7cwhIlIoXQnwDcCxbW4Pie4TEZES6EqALwROMLPhZtYd+DwwtzBliYhIezp9EtPdW8zsfwK/I7eM8BfuvrRglYmIyIfq0jpwd38ceLxAtYiISAeoV1ZEJKYU4CIiMWXund+VusNPZrYNWNuBLxkA1BepnEqm150set3J09HXfpy7f2AddkkDvKPMbJG7V5e7jlLT604Wve7kKdRr1xSKiEhMKcBFRGKq0gN8erkLKBO97mTR606egrz2ip4DFxGRQ6v0EbiIiByCAlxEJKYqMsDNbLyZvW5mK8xsSrnrKRYzO9bMnjKzZWa21My+Ft3f38yeNLPl0fsgtwY3s7SZ/dnMHo1uDzezl6Lj/lB0kbTgmFlfM5tpZq+ZWZ2ZfTIJx9zMvhH9nNea2QNm1iPEY25mvzCzrWZW2+a+gx5fy/lp9PqXmNnYjjxXxQV4m63aLgZGAVeZ2ajyVlU0LcB17j4KOAP4l+i1TgEWuPsJwILodoi+BtS1uX0LcKu7Hw+8BVxblqqK73ZgnrufBHyc3Pcg6GNuZoOB/wVUu/tochfA+zxhHvP7gPEH3Heo43sxcEL0Nhm4qyNPVHEBTput2tz9PWDvVm3BcfdN7v5K9PE75H6RB5N7vTOih80ALi1LgUVkZkOAS4B7otsGnA/MjB4S6uvuA5wD3Avg7u+5+9sk4JiTu3heTzPLAL2ATQR4zN39j8D2A+4+1PGdCPzKc14E+prZoHyfqxIDPK+t2kJjZsOAU4GXgCp33xR9ajNQVa66iug24HqgNbp9FPC2u7dEt0M97sOBbcAvo+mje8ysN4Efc3ffAPwIeJNccDcCi0nGMYdDH98u5V0lBnjimNnhwCzg6+6+o+3nPLfOM6i1nmb2GWCruy8udy1lkAHGAne5+6nATg6YLgn0mPcjN9ocDhwD9OaD0wyJUMjjW4kBnqit2sysG7nw/rW7z47u3rL3z6jo/dZy1VckZwF/a2ZryE2RnU9uXrhv9Oc1hHvc1wPr3f2l6PZMcoEe+jG/AFjt7tvcvRmYTe7nIAnHHA59fLuUd5UY4InZqi2a970XqHP3n7T51FxgUvTxJGBOqWsrJnef6u5D3H0YueP7B3e/GngK+Fz0sOBeN4C7bwbWmdmJ0V2fBpYR+DEnN3Vyhpn1in7u977u4I955FDHdy7w99FqlDOAxjZTLe1z94p7AyYAbwArgW+Xu54ivs6zyf0ptQT4S/Q2gdx88AJgOTAf6F/uWov4PTgPeDT6eATwMrAC+C/gsHLXV6TX/AlgUXTc/xvol4RjDnwPeA2oBf4TOCzEYw48QG6ev5ncX1zXHur4AkZu1d1KoIbcKp28n0ut9CIiMVWJUygiIpIHBbiISEwpwEVEYkoBLiISUwpwEZGYUoCLiMSUAlxEJKb+P5X9N+nwOPFBAAAAAElFTkSuQmCC
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSMissingness" class="doc_header"><code>class</code> <code>TSMissingness</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L572" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSMissingness</code>(<strong><code>feature_idxs</code></strong>=<em><code>None</code></em>, <strong><code>magnitude</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Concatenates data missingness for selected features along the sequence as additional variables</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">))</span>
<span class="n">t</span><span class="p">[</span><span class="n">t</span><span class="o">&gt;</span><span class="mf">.5</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSMissingness</span><span class="p">(</span><span class="n">feature_idxs</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">])(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">enc_t</span><span class="p">[:,</span> <span class="mi">3</span><span class="p">:],</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">t</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span><span class="o">.</span><span class="n">float</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSPositionGaps" class="doc_header"><code>class</code> <code>TSPositionGaps</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L588" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSPositionGaps</code>(<strong><code>feature_idxs</code></strong>=<em><code>None</code></em>, <strong><code>magnitude</code></strong>=<em><code>None</code></em>, <strong><code>forward</code></strong>=<em><code>True</code></em>, <strong><code>backward</code></strong>=<em><code>False</code></em>, <strong><code>nearest</code></strong>=<em><code>False</code></em>, <strong><code>normalize</code></strong>=<em><code>True</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Concatenates gaps for selected features along the sequence as additional variables</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">))</span>
<span class="n">t</span><span class="p">[</span><span class="n">t</span><span class="o">&gt;</span><span class="mf">.5</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSPositionGaps</span><span class="p">(</span><span class="n">feature_idxs</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">forward</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">backward</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nearest</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">normalize</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">9</span><span class="p">)</span>
<span class="n">enc_t</span><span class="o">.</span><span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>tensor([[[0.2305, 0.1973, 0.0111, 0.2242,    nan,    nan,    nan, 0.1480],
         [0.0090, 0.1363,    nan,    nan, 0.2259, 0.4668, 0.1045, 0.2005],
         [0.1425, 0.1185, 0.4825, 0.1386, 0.0071, 0.4569,    nan,    nan],
         [1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 2.0000, 3.0000, 4.0000],
         [1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 2.0000],
         [1.0000, 1.0000, 1.0000, 4.0000, 3.0000, 2.0000, 1.0000, 1.0000],
         [1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 3.0000, 2.0000, 1.0000],
         [1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 2.0000, 1.0000, 1.0000],
         [1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000]]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSRollingMean" class="doc_header"><code>class</code> <code>TSRollingMean</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L606" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSRollingMean</code>(<strong><code>feature_idxs</code></strong>=<em><code>None</code></em>, <strong><code>magnitude</code></strong>=<em><code>None</code></em>, <strong><code>window</code></strong>=<em><code>2</code></em>, <strong><code>replace</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Calculates the rolling mean for all/ selected features alongside the sequence</p>
<p>It replaces the original values or adds additional variables (default)
If nan values are found, they will be filled forward and backward</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">))</span>
<span class="n">t</span><span class="p">[</span><span class="n">t</span> <span class="o">&gt;</span> <span class="mf">.6</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSRollingMean</span><span class="p">(</span><span class="n">feature_idxs</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">enc_t</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSRollingMean</span><span class="p">(</span><span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">enc_t</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>tensor([[[   nan,    nan,    nan, 0.1560,    nan, 0.0311, 0.4299, 0.1508],
         [   nan,    nan, 0.3284,    nan,    nan,    nan, 0.0249, 0.3197],
         [0.5651, 0.5102, 0.0684,    nan, 0.5551,    nan, 0.3133,    nan]]])
tensor([[[0.1560, 0.1560, 0.1560, 0.1560, 0.1560, 0.0311, 0.4299, 0.1508],
         [   nan,    nan, 0.3284,    nan,    nan,    nan, 0.0249, 0.3197],
         [0.5651, 0.5102, 0.0684, 0.0684, 0.5551, 0.5551, 0.3133, 0.3133],
         [0.1560, 0.1560, 0.1560, 0.1560, 0.1560, 0.1144, 0.2057, 0.2039],
         [0.5651, 0.5376, 0.3812, 0.2156, 0.2306, 0.3928, 0.4745, 0.3939]]])
tensor([[[0.1560, 0.1560, 0.1560, 0.1560, 0.1560, 0.1144, 0.2057, 0.2039],
         [0.3284, 0.3284, 0.3284, 0.3284, 0.3284, 0.3284, 0.2272, 0.2243],
         [0.5651, 0.5376, 0.3812, 0.2156, 0.2306, 0.3928, 0.4745, 0.3939]]])
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSLogReturn" class="doc_header"><code>class</code> <code>TSLogReturn</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L635" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSLogReturn</code>(<strong><code>lag</code></strong>=<em><code>1</code></em>, <strong><code>pad</code></strong>=<em><code>True</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Calculates log-return of batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a>. For positive values only</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">64</span><span class="p">,</span><span class="mi">128</span><span class="p">,</span><span class="mi">256</span><span class="p">])</span><span class="o">.</span><span class="n">float</span><span class="p">()</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">TSLogReturn</span><span class="p">(</span><span class="n">pad</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSAdd" class="doc_header"><code>class</code> <code>TSAdd</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L648" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSAdd</code>(<strong><code>add</code></strong>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Add a defined amount to each batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a>.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">float</span><span class="p">()</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">TSAdd</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="n">t</span><span class="p">),</span> <span class="n">TSTensor</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">float</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSClipByVar" class="doc_header"><code>class</code> <code>TSClipByVar</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L660" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSClipByVar</code>(<strong><code>var_min_max</code></strong>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Clip  batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a> by variable</p>
<p>Args:
    var_min_max: list of tuples containing variable index, min value (or None) and max value (or None)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="o">*</span> <span class="n">tensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="n">max_values</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">data</span>
<span class="n">max_values2</span> <span class="o">=</span> <span class="n">TSClipByVar</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">50</span><span class="p">)])(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">data</span>
<span class="n">test_le</span><span class="p">(</span><span class="n">max_values2</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">test_ge</span><span class="p">(</span><span class="n">max_values2</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">test_le</span><span class="p">(</span><span class="n">max_values2</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">50</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSDropVars" class="doc_header"><code>class</code> <code>TSDropVars</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L677" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSDropVars</code>(<strong><code>drop_vars</code></strong>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Drops selected variable from the input</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSDropVars</span><span class="p">(</span><span class="mi">2</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">enc_t</span><span class="p">)</span>
<span class="n">enc_t</span><span class="o">.</span><span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>tensor([[[ 0,  1,  2,  3],
         [ 4,  5,  6,  7]],

        [[12, 13, 14, 15],
         [16, 17, 18, 19]]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSOneHotEncode" class="doc_header"><code>class</code> <code>TSOneHotEncode</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L689" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSOneHotEncode</code>(<strong><code>sel_var</code></strong>:<code>int</code>, <strong><code>unique_labels</code></strong>:<code>list</code>, <strong><code>add_na</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>drop_var</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>magnitude</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Delegates (<code>__call__</code>,<code>decode</code>,<code>setup</code>) to (<code>encodes</code>,<code>decodes</code>,<code>setups</code>) if <code>split_idx</code> matches</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>sel_var</code></strong></td>
<td><code>int</code></td>
<td></td>
<td>Variable that is one-hot encoded</td>
</tr>
<tr>
<td><strong><code>unique_labels</code></strong></td>
<td><code>list</code></td>
<td></td>
<td>List containing all labels (excluding nan values)</td>
</tr>
<tr>
<td><strong><code>add_na</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>Flag to indicate if values not included in vocab should be set as 0</td>
</tr>
<tr>
<td><strong><code>drop_var</code></strong></td>
<td><code>bool</code></td>
<td><code>True</code></td>
<td>Flag to indicate if the selected var is removed</td>
</tr>
<tr>
<td><strong><code>magnitude</code></strong></td>
<td></td>
<td><code>None</code></td>
<td>Added for compatibility. It's not used.</td>
</tr>
<tr>
<td><strong><code>kwargs</code></strong></td>
<td></td>
<td></td>
<td><em>No Content</em></td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">seq_len</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">t_cont</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">)</span>
<span class="n">t_cat</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">t_cont</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t_cat</span><span class="p">,</span> <span class="n">t_cont</span><span class="p">],</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">t_cat</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>tensor([[[1, 2, 1, 2, 2]],

        [[2, 0, 1, 0, 1]]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tfm</span> <span class="o">=</span> <span class="n">TSOneHotEncode</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="n">output</span> <span class="o">=</span> <span class="n">tfm</span><span class="p">(</span><span class="n">t</span><span class="p">)[:,</span> <span class="o">-</span><span class="mi">3</span><span class="p">:]</span><span class="o">.</span><span class="n">data</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t_cat</span><span class="p">,</span> <span class="n">torch</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">tfm</span><span class="p">(</span><span class="n">t</span><span class="p">)[:,</span> <span class="o">-</span><span class="mi">3</span><span class="p">:],</span> <span class="mi">1</span><span class="p">)[:,</span> <span class="kc">None</span><span class="p">])</span>
<span class="n">tfm</span><span class="p">(</span><span class="n">t</span><span class="p">)[:,</span> <span class="o">-</span><span class="mi">3</span><span class="p">:]</span><span class="o">.</span><span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>tensor([[[0., 0., 0., 0., 0.],
         [1., 0., 1., 0., 0.],
         [0., 1., 0., 1., 1.]],

        [[0., 1., 0., 1., 0.],
         [0., 0., 1., 0., 1.],
         [1., 0., 0., 0., 0.]]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">seq_len</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">t_cont</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">)</span>
<span class="n">t_cat</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([[</span><span class="mf">10.</span><span class="p">,</span>  <span class="mf">5.</span><span class="p">,</span> <span class="mf">11.</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mf">12.</span><span class="p">],</span> <span class="p">[</span> <span class="mf">5.</span><span class="p">,</span> <span class="mf">12.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mf">11.</span><span class="p">]])[:,</span> <span class="kc">None</span><span class="p">]</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t_cat</span><span class="p">,</span> <span class="n">t_cont</span><span class="p">],</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">t_cat</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>tensor([[[10.,  5., 11., nan, 12.]],

        [[ 5., 12., 10., nan, 11.]]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tfm</span> <span class="o">=</span> <span class="n">TSOneHotEncode</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">],</span> <span class="n">drop_var</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">mask</span> <span class="o">=</span> <span class="o">~</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">t</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">tfm</span><span class="p">(</span><span class="n">t</span><span class="p">)[:,</span> <span class="mi">0</span><span class="p">][</span><span class="n">mask</span><span class="p">],</span> <span class="n">t</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">][</span><span class="n">mask</span><span class="p">])</span>
<span class="n">tfm</span><span class="p">(</span><span class="n">t</span><span class="p">)[:,</span> <span class="o">-</span><span class="mi">3</span><span class="p">:]</span><span class="o">.</span><span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>tensor([[[1., 0., 0., 0., 0.],
         [0., 0., 1., 0., 0.],
         [0., 0., 0., 0., 1.]],

        [[0., 0., 1., 0., 0.],
         [0., 0., 0., 0., 1.],
         [0., 1., 0., 0., 0.]]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t1</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">],</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">output</span> <span class="o">=</span> <span class="n">TSOneHotEncode</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="n">add_na</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">drop_var</span><span class="o">=</span><span class="kc">True</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">((</span><span class="n">t1</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">float</span><span class="p">(),</span> <span class="n">output</span><span class="o">.</span><span class="n">data</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">test_eq</span><span class="p">((</span><span class="n">t1</span> <span class="o">==</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">float</span><span class="p">(),</span> <span class="n">output</span><span class="o">.</span><span class="n">data</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
<span class="n">test_eq</span><span class="p">((</span><span class="n">t1</span> <span class="o">==</span> <span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">float</span><span class="p">(),</span> <span class="n">output</span><span class="o">.</span><span class="n">data</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">3</span><span class="p">]])</span>
<span class="n">test_eq</span><span class="p">((</span><span class="n">t1</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">float</span><span class="p">(),</span> <span class="n">output</span><span class="o">.</span><span class="n">data</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">4</span><span class="p">]])</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">5</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSPosition" class="doc_header"><code>class</code> <code>TSPosition</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L724" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSPosition</code>(<strong><code>steps</code></strong>:<code>list</code>, <strong><code>magnitude</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Delegates (<code>__call__</code>,<code>decode</code>,<code>setup</code>) to (<code>encodes</code>,<code>decodes</code>,<code>setups</code>) if <code>split_idx</code> matches</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>steps</code></strong></td>
<td><code>list</code></td>
<td></td>
<td>Flag to indicate if the selected var is removed</td>
</tr>
<tr>
<td><strong><code>magnitude</code></strong></td>
<td></td>
<td><code>None</code></td>
<td>Added for compatibility. It's not used.</td>
</tr>
<tr>
<td><strong><code>kwargs</code></strong></td>
<td></td>
<td></td>
<td><em>No Content</em></td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">float</span><span class="p">()</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>
<span class="n">TSPosition</span><span class="p">(</span><span class="n">a</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">dtype</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(torch.float32, torch.float32)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="sklearn-API-transforms">sklearn API transforms<a class="anchor-link" href="#sklearn-API-transforms"> </a></h1>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSShrinkDataFrame" class="doc_header"><code>class</code> <code>TSShrinkDataFrame</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L745" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSShrinkDataFrame</code>(<strong><code>columns</code></strong>=<em><code>None</code></em>, <strong><code>skip</code></strong>=<em><code>[]</code></em>, <strong><code>obj2cat</code></strong>=<em><code>True</code></em>, <strong><code>int2uint</code></strong>=<em><code>False</code></em>, <strong><code>verbose</code></strong>=<em><code>True</code></em>) :: <code>BaseEstimator</code></p>
</blockquote>
<p>Base class for all estimators in scikit-learn.</p>
<h2 id="Notes">Notes<a class="anchor-link" href="#Notes"> </a></h2><p>All estimators should specify all the parameters that can be set
at the class level in their <code>__init__</code> as explicit keyword
arguments (no <code>*args</code> or <code>**kwargs</code>).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;ints64&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;floats64&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">TSShrinkDataFrame</span><span class="p">()</span>
<span class="n">tfm</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">tfm</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;ints64&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="s2">&quot;int8&quot;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;floats64&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="s2">&quot;float32&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Memory usage of dataframe is 0.000274658203125 MB
Memory usage of dataframe after reduction 0.0001697540283203125 MB
Reduced by 38.19444444444444 % 
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSOneHotEncoder" class="doc_header"><code>class</code> <code>TSOneHotEncoder</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L783" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSOneHotEncoder</code>(<strong><code>columns</code></strong>=<em><code>None</code></em>, <strong><code>drop</code></strong>=<em><code>True</code></em>, <strong><code>add_na</code></strong>=<em><code>True</code></em>, <strong><code>dtype</code></strong>=<em><code>int64</code></em>) :: <code>BaseEstimator</code></p>
</blockquote>
<p>Base class for all estimators in scikit-learn.</p>
<h2 id="Notes">Notes<a class="anchor-link" href="#Notes"> </a></h2><p>All estimators should specify all the parameters that can be set
at the class level in their <code>__init__</code> as explicit keyword
arguments (no <code>*args</code> or <code>**kwargs</code>).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">unique_cols</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">TSOneHotEncoder</span><span class="p">()</span>
<span class="n">tfm</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">tfm</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">unique_cols</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSCategoricalEncoder" class="doc_header"><code>class</code> <code>TSCategoricalEncoder</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L817" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSCategoricalEncoder</code>(<strong><code>columns</code></strong>=<em><code>None</code></em>, <strong><code>add_na</code></strong>=<em><code>True</code></em>) :: <code>BaseEstimator</code></p>
</blockquote>
<p>Base class for all estimators in scikit-learn.</p>
<h2 id="Notes">Notes<a class="anchor-link" href="#Notes"> </a></h2><p>All estimators should specify all the parameters that can be set
at the class level in their <code>__init__</code> as explicit keyword
arguments (no <code>*args</code> or <code>**kwargs</code>).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Stateful transforms like TSCategoricalEncoder can easily be serialized.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">joblib</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">alphabet</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">100</span><span class="p">)]</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ALPHABET</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span><span class="p">)]</span>
<span class="n">a_unique</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="n">b_unique</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">TSCategoricalEncoder</span><span class="p">()</span>
<span class="n">tfm</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">joblib</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">tfm</span><span class="p">,</span> <span class="s2">&quot;data/TSCategoricalEncoder.joblib&quot;</span><span class="p">)</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">joblib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;data/TSCategoricalEncoder.joblib&quot;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">tfm</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">a_unique</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">b_unique</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSDateTimeEncoder" class="doc_header"><code>class</code> <code>TSDateTimeEncoder</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L847" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSDateTimeEncoder</code>(<strong><code>datetime_columns</code></strong>=<em><code>None</code></em>, <strong><code>prefix</code></strong>=<em><code>None</code></em>, <strong><code>drop</code></strong>=<em><code>True</code></em>, <strong><code>time</code></strong>=<em><code>False</code></em>, <strong><code>attr</code></strong>=<em><code>['Year', 'Month', 'Week', 'Day', 'Dayofweek', 'Dayofyear', 'Is_month_end', 'Is_month_start', 'Is_quarter_end', 'Is_quarter_start', 'Is_year_end', 'Is_year_start']</code></em>) :: <code>BaseEstimator</code></p>
</blockquote>
<p>Base class for all estimators in scikit-learn.</p>
<h2 id="Notes">Notes<a class="anchor-link" href="#Notes"> </a></h2><p>All estimators should specify all the parameters that can be set
at the class level in their <code>__init__</code> as explicit keyword
arguments (no <code>*args</code> or <code>**kwargs</code>).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;D&quot;</span><span class="p">)</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">TSDateTimeEncoder</span><span class="p">()</span>
<span class="n">joblib</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">tfm</span><span class="p">,</span> <span class="s2">&quot;data/TSDateTimeEncoder.joblib&quot;</span><span class="p">)</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">joblib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;data/TSDateTimeEncoder.joblib&quot;</span><span class="p">)</span>
<span class="n">tfm</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>_Year</th>
      <th>_Month</th>
      <th>_Week</th>
      <th>_Day</th>
      <th>_Dayofweek</th>
      <th>_Dayofyear</th>
      <th>_Is_month_end</th>
      <th>_Is_month_start</th>
      <th>_Is_quarter_end</th>
      <th>_Is_quarter_start</th>
      <th>_Is_year_end</th>
      <th>_Is_year_start</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2022</td>
      <td>5</td>
      <td>19</td>
      <td>10</td>
      <td>1</td>
      <td>130</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2022</td>
      <td>5</td>
      <td>19</td>
      <td>11</td>
      <td>2</td>
      <td>131</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div></div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSMissingnessEncoder" class="doc_header"><code>class</code> <code>TSMissingnessEncoder</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L877" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSMissingnessEncoder</code>(<strong><code>columns</code></strong>=<em><code>None</code></em>) :: <code>BaseEstimator</code></p>
</blockquote>
<p>Base class for all estimators in scikit-learn.</p>
<h2 id="Notes">Notes<a class="anchor-link" href="#Notes"> </a></h2><p>All estimators should specify all the parameters that can be set
at the class level in their <code>__init__</code> as explicit keyword
arguments (no <code>*args</code> or <code>**kwargs</code>).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">data</span><span class="p">[</span><span class="n">data</span> <span class="o">&gt;</span> <span class="mf">.8</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">])</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">TSMissingnessEncoder</span><span class="p">()</span>
<span class="n">tfm</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">joblib</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">tfm</span><span class="p">,</span> <span class="s2">&quot;data/TSMissingnessEncoder.joblib&quot;</span><span class="p">)</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">joblib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;data/TSMissingnessEncoder.joblib&quot;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">tfm</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>c</th>
      <th>a_missing</th>
      <th>b_missing</th>
      <th>c_missing</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.725691</td>
      <td>0.499106</td>
      <td>NaN</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.031012</td>
      <td>NaN</td>
      <td>0.430287</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.610107</td>
      <td>NaN</td>
      <td>0.576712</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.523981</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.346150</td>
      <td>0.501027</td>
      <td>NaN</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0.662693</td>
      <td>NaN</td>
      <td>0.666737</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>NaN</td>
      <td>0.346350</td>
      <td>NaN</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.464530</td>
      <td>NaN</td>
      <td>0.515198</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>8</th>
      <td>0.793838</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>9</th>
      <td>0.722907</td>
      <td>0.516632</td>
      <td>NaN</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="y-transforms">y transforms<a class="anchor-link" href="#y-transforms"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Preprocessor" class="doc_header"><code>class</code> <code>Preprocessor</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L899" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Preprocessor</code>(<strong><code>preprocessor</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">tsai.data.validation</span> <span class="kn">import</span> <span class="n">TimeSplitter</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocessor</span><span class="p">(</span><span class="n">StandardScaler</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXAAAAD4CAYAAAD1jb0+AAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjUuMSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/YYfK9AAAACXBIWXMAAAsTAAALEwEAmpwYAAASiklEQVR4nO3df4xdZZ3H8fe3pTCkRQpltulSZGokuFjWgmPBILoL6kJFCsYliJGyYpqs666GjVqWxNX9kZQlQXYTXdPwa0iowKJIdwUVuxDFYLWVigVkC+wQhhQ6FKr8SIXqd/+4p+xYZubembm/npn3K7m555x77j3fJ9x+eOa5zzknMhNJUnlmdboASdLkGOCSVCgDXJIKZYBLUqEMcEkq1AHtPNgRRxyRfX197TykJBVvy5Ytz2Zm7/7b2xrgfX19bN68uZ2HlKTiRcQTo213CEWSCmWAS1KhDHBJKlRbx8AlqZleffVVhoaG2LNnT6dLaYqenh4WL17MnDlzGtrfAJdUrKGhIQ455BD6+vqIiE6XMyWZya5duxgaGmLJkiUNvcchFEnF2rNnDwsWLCg+vAEiggULFkzorwkDXFLRpkN47zPRthjgklQox8AlTRt9a77d1M8bXPuBpnzOihUrWL9+PfPnz2/K5+3TUIBHxHzgamApkMDHgUeAm4E+YBA4LzOfb2p1UoeNFQjN+oet6S0zyUzuuOOOlnx+o0Mo/wp8JzPfArwNeBhYA2zMzGOAjdW6JM0oV155JUuXLmXp0qVcddVVDA4Ocuyxx3LhhReydOlSnnzySfr6+nj22Webfuy6PfCIOBR4N3ARQGa+ArwSESuBP6l2GwDuAT7f9AolqUtt2bKF6667jk2bNpGZnHTSSbznPe9h+/btDAwMcPLJJ7f0+I30wJcAw8B1EXF/RFwdEXOBhZm5o9rnaWDhaG+OiNURsTkiNg8PDzenaknqAvfeey/nnnsuc+fOZd68eXzoQx/ihz/8IUcffXTLwxsaC/ADgBOBf8/ME4CX2G+4JGt3Rh717siZuS4z+zOzv7f3dVdDlKRpZ+7cuW05TiMBPgQMZeamav1WaoH+TEQsAqied7amREnqTqeeeirf+ta3ePnll3nppZe47bbbOPXUU9t2/Lpj4Jn5dEQ8GRHHZuYjwOnAQ9VjFbC2er69pZVKUh3tnh104oknctFFF7F8+XIAPvGJT3DYYYe17fiNzgP/a+DGiDgQeBz4C2q991si4mLgCeC81pQoSd3rkksu4ZJLLvm9bdu2bfu99cHBwZYcu6EAz8ytQP8oL53e1GokSQ3zVHpJKpQBLkmFMsAlqVAGuCQVygCXpEJ5OVlJ08cXD23y5/1q3Jd3797N+vXr+eQnPwnAZz/7We644w5WrFjBFVdc0dxaRmGAS9Ik7d69m69+9auvBfi6det47rnnmD17dluOb4BL0iStWbOGxx57jGXLltHb28uLL77I29/+di699FLuvPNODj74YO6//3527tzJtddeyw033MB9993HSSedxPXXXz/l4xvgkjRJa9euZdu2bWzduhWAefPmvbZ855138vzzz3PfffexYcMGzj77bH70ox9x9dVX8453vIOtW7eybNmyKR3fHzElqUU++MEPEhEcf/zxLFy4kOOPP55Zs2bx1re+tSmn1xvgktQiBx10EACzZs16bXnf+t69e6f8+Q6haGb74qF1ZxpMxHg31fU+mtPPIYccwgsvvNCx4xvgkqaPJv7PuBELFizglFNOYenSpZx55pltPTYY4JI0JevXr39teeTc75GzTPr6+n7vErPNmIECBrjU9GGUiRpr2MUhF9Xjj5iSVCgDXFLRavdUnx4m2hYDXFKxenp62LVr17QI8cxk165d9PT0NPwex8A1c03hwkfjTRdU+yxevJihoSGGh4c7XUpT9PT0sHjx4ob3N8AlFWvOnDksWbKk02V0jEMoklQoA1ySCmWAS1KhDHBJKpQBLkmFamgWSkQMAi8AvwX2ZmZ/RBwO3Az0AYPAeZn5fGvKlMrn1EM120R64H+amcsys79aXwNszMxjgI3VuiSpTaYyhLISGKiWB4BzplyNJKlhjQZ4At+LiC0RsbratjAzd1TLTwMLR3tjRKyOiM0RsXm6nC0lSd2g0TMx35WZT0XEHwB3RcQvR76YmRkRo16MIDPXAesA+vv7y79ggSR1iYZ64Jn5VPW8E7gNWA48ExGLAKrnna0qUpL0enV74BExF5iVmS9Uy+8H/gHYAKwC1lbPt7eyUKmlOnxTh9F4owfV08gQykLgtojYt//6zPxORPwUuCUiLgaeAM5rXZmSpP3VDfDMfBx42yjbdwGnt6IoSVJ9nokpSYUywCWpUAa4JBXKAJekQhngklQoA1ySCmWAS1Kh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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocessor</span><span class="p">(</span><span class="n">RobustScaler</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXAAAAD4CAYAAAD1jb0+AAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjUuMSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/YYfK9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAQ4UlEQVR4nO3dbYyddZnH8e/VWjkGWAvDbLdhLFMCQWDQqmOpQeIuyG4pylNYg91oG0qa+JBoatS6Jhvd7IsaEmRfSDYNKPPC0bpqpXFhFbsQxLBVqtUtVraFHcOQQqG0a5GUpXrti7mLwzDTOTNzHuZ/5vtJJnM/nHPu69/O/PKf69z3fSIzkSSVZ167C5AkTY8BLkmFMsAlqVAGuCQVygCXpEK9rpUHO+OMM7K3t7eVh5Sk4u3cufO5zOweu72lAd7b28sjjzzSykNKUvEi4rfjbbeFIkmFMsAlqVAGuCQVqqU9cElqpJdffpnh4WGOHj3a7lIaolar0dPTw4IFC+p6vAEuqVjDw8Oceuqp9Pb2EhHtLmdGMpODBw8yPDzM0qVL63qOLRRJxTp69ChdXV3FhzdARNDV1TWlvyYMcElF64TwPm6qYzHAJalQ9sAldYzejf/W0Ncb2nRVQ15n1apVDA4OsnDhwoa83nEGuOaUiX7BG/WLKo2WmWQm99xzT1Ne3xaKJM3ArbfeSl9fH319fdx2220MDQ1x3nnn8eEPf5i+vj6efPJJent7ee655xp+bGfgkjRNO3fu5Gtf+xo7duwgM7n44ot5z3vew969exkYGGDFihVNPb4BLknT9NBDD3Hddddx8sknA3D99dfz4x//mLPOOqvp4Q22UCSp4Y4HerMZ4JI0TZdeeinf+973ePHFF/n973/P1q1bufTSS1t2fFsokjpGq88mevvb387atWtZvnw5ADfffDOnnXZay45vgEvSDGzYsIENGza8atvu3btftT40NNSUY9tCkaRCGeCSVCgDXJIKZYBLUqEMcEkqlAEuSYXyNEJJneMLb2zw6/3vCXcfPnyYwcFBPvrRjwLw6U9/mnvuuYdVq1Zxyy23NLaWcdQV4BExBBwB/gAcy8z+iDgd2AL0AkPABzLzUHPKlMpwovtRe8vaznP48GFuv/32VwJ88+bNPP/888yfP78lx59KC+WvMnNZZvZX6xuB7Zl5LrC9WpekOWPjxo08/vjjLFu2jCuuuIIXXniBd7zjHWzZsoW1a9fykY98hBUrVnD22WfzwAMPcNNNN3H++eezdu3ahhx/Ji2Ua4C/rJYHgAeAz86wHkkqxqZNm9i9eze7du0C4JRTTnll+d577+XQoUM8/PDDbNu2jauvvpqf/OQn3HHHHbzzne9k165dLFu2bEbHr3cGnsAPI2JnRKyvti3KzP3V8tPAohlVIkkd5v3vfz8RwUUXXcSiRYu46KKLmDdvHhdeeGFDLq+vdwb+7sx8KiL+HLgvIn4zemdmZkTkeE+sAn89wJIlS2ZUrNSJ/Ji3znXSSScBMG/evFeWj68fO3Zsxq9f1ww8M5+qvh8AtgLLgWciYjFA9f3ABM/dnJn9mdnf3d0944IlabY49dRTOXLkSNuOP+kMPCJOBuZl5pFq+a+BfwS2AWuATdX3u5tZqCRNapLT/hqtq6uLSy65hL6+Pq688sqWHhvqa6EsArZGxPHHD2bmv0fEz4BvRcQ64LfAB5pXpiTNToODg68sjz73+6677nplube391W3mB29byYmDfDMfAJ46zjbDwKXN6QKSdKUeSm9JBXKAJdUtMxxT4Ar0lTH4r1Q1Dm+8MaWv4k1FSe6zF7TU6vVOHjwIF1dXVTv0xUrMzl48CC1Wq3u5xjgkorV09PD8PAwzz77bLtLaYharUZPT0/djzfAJRVrwYIFLF26tN1ltI09cEkqlDNwlW2Cvrf9Zs0FzsAlqVAGuCQVygCXpEIZ4JJUKANckgplgEtSoTyNUOVrwCX0fiqOSuQMXJIKZYBLUqEMcEkqlD1wFWG8HvVQbfWr9g/V5sYl9PbrdZwzcEkqlAEuSYUywCWpUAa4JBXKAJekQhngklQoA1ySCmWAS1KhDHBJKpQBLkmF8lJ6dZSh2mp6jw62u4yGmAu3BdDM1D0Dj4j5EfGLiPh+tb40InZExL6I2BIRr29emZKksabSQvkEsGfU+peAL2fmOcAhYF0jC5MknVhdAR4RPcBVwB3VegCXAd+uHjIAXNuE+iRJE6h3Bn4b8Bngj9V6F3A4M49V68PAmeM9MSLWR8QjEfHIs88+O5NaJUmjTBrgEfE+4EBm7pzOATJzc2b2Z2Z/d3f3dF5CkjSOes5CuQS4OiJWATXgz4B/BhZGxOuqWXgP8FTzypQkjTXpDDwzP5eZPZnZC9wI/Edm/h1wP3BD9bA1wN1Nq1KS9BozuZDns8CGiNjHSE/8zsaUJEmqx5Qu5MnMB4AHquUngOWNL0mSVA8vpZekQhngklQo74WijjBUW92U1/V+JJrNnIFLUqEMcEkqlAEuSYUywCWpUAa4JBXKAJekQhngklQoA1ySCmWAS1KhDHBJKpQBLkmFMsAlqVAGuCQVygCXpEIZ4JJUKANckgplgEtSoQxwSSqUAS5JhTLAJalQBrgkFcpPpVdbTPRp70ObrmpxJVK5nIFLUqEMcEkqlAEuSYWyB65ZZaLeuKTXmnQGHhG1iPhpRPwyIh6NiC9W25dGxI6I2BcRWyLi9c0vV5J0XD0tlJeAyzLzrcAyYGVErAC+BHw5M88BDgHrmlalJOk1Jg3wHPFCtbqg+krgMuDb1fYB4NpmFChJGl9dPfCImA/sBM4BvgI8DhzOzGPVQ4aBMyd47npgPcCSJUtmWq8K06ye9lBtdVNeVypJXWehZOYfMnMZ0AMsB95c7wEyc3Nm9mdmf3d39/SqlCS9xpROI8zMw8D9wLuAhRFxfAbfAzzV2NIkSSdSz1ko3RGxsFp+A3AFsIeRIL+hetga4O4m1ShJGkc9PfDFwEDVB58HfCszvx8Rvwa+GRH/BPwCuLOJdUqSxpg0wDPzV8Dbxtn+BCP9cElSG3gpvSQVygCXpEIZ4JJUKANckgplgEtSoQxwSSqUAS5JhTLAJalQBrgkFcqPVFND+FFoUus5A5ekQhngklQoA1ySCmUPXB1pqLaa3qOD7S5jVpvofYuhTVe1uBJNlzNwSSqUAS5JhbKFMoeV+Cd0Pa2RufqJ9Y36/yzx52KucgYuSYUywCWpUAa4JBXKHrjU4bzNQedyBi5JhTLAJalQBrgkFcoAl6RCGeCSVCgDXJIKZYBLUqEmDfCIeFNE3B8Rv46IRyPiE9X20yPivojYW30/rfnlSpKOq2cGfgz4VGZeAKwAPhYRFwAbge2ZeS6wvVqXJLXIpAGemfsz8+fV8hFgD3AmcA0wUD1sALi2STVKksYxpUvpI6IXeBuwA1iUmfurXU8DiyZ4znpgPcCSJUumXajab7Zckj1XbxcrjVX3m5gRcQrwHeCTmfm70fsyM4Ec73mZuTkz+zOzv7u7e0bFSpL+pK4Aj4gFjIT31zPzu9XmZyJicbV/MXCgOSVKksZTz1koAdwJ7MnMW0ft2gasqZbXAHc3vjxJ0kTq6YFfAnwI+K+I2FVt+3tgE/CtiFgH/Bb4QFMqVMvNll63pBObNMAz8yEgJth9eWPLkSTVyysxJalQBrgkFcoAl6RCGeCSVCgDXJIKZYBLUqGmdC8UqTRDtdX0Hh1sdxkaY6JrDYY2XdXiSsrmDFySCmWAS1KhDHBJKpQ9cEl1sW89+zgDl6RCGeCSVChbKJKawtsSN58zcEkqlAEuSYUywCWpUPbA1bGGaqvbXcKcYK+7fZyBS1KhDHBJKpQBLkmFsgfeQTq9F2lPW3o1Z+CSVCgDXJIKZYBLUqHsgReo03vdkurjDFySCmWAS1KhbKFImjX81J+pmXQGHhFfjYgDEbF71LbTI+K+iNhbfT+tuWVKksaqp4VyF7ByzLaNwPbMPBfYXq1Lklpo0gDPzAeB58dsvgYYqJYHgGsbW5YkaTLT7YEvysz91fLTwKKJHhgR64H1AEuWLJnm4aTpG6qtpvfoYLvL0AzYGx/fjM9CycwE8gT7N2dmf2b2d3d3z/RwkqTKdAP8mYhYDFB9P9C4kiRJ9ZhugG8D1lTLa4C7G1OOJKle9ZxG+A3gYeC8iBiOiHXAJuCKiNgLvLdalyS10KRvYmbmByfYdXmDa5EkTYGX0ktSoQxwSSqUAS5JhTLAJalQBrgkFcrbyWrO8JL6ztOoS+xLvVTfGbgkFcoAl6RCGeCSVCgDXJIKZYBLUqEMcEkqlAEuSYXyPPBJTHR+KDT/HNETHXuuGaqtbncJ6gCd9jvlDFySCmWAS1KhDHBJKpQ98BYq9X4L7dbI/rf3Q1EjzJbfZWfgklQoA1ySCmWAS1Kh7IFXGnl+6FRfq9POTW2URvarPY98bpkrv1POwCWpUAa4JBXKFsoMzJU/09rJ1odK0urTC52BS1KhDHBJKpQBLkmFKqYH3qh+s5etl8HetzS5Gc3AI2JlRDwWEfsiYmOjipIkTW7aAR4R84GvAFcCFwAfjIgLGlWYJOnEZjIDXw7sy8wnMvP/gG8C1zSmLEnSZCIzp/fEiBuAlZl5c7X+IeDizPz4mMetB9ZXq+cBj02/3LY7A3iu3UU0UCeNp5PGAp01nk4aC7RnPGdlZvfYjU1/EzMzNwObm32cVoiIRzKzv911NEonjaeTxgKdNZ5OGgvMrvHMpIXyFPCmUes91TZJUgvMJMB/BpwbEUsj4vXAjcC2xpQlSZrMtFsomXksIj4O/ACYD3w1Mx9tWGWzU0e0gkbppPF00ligs8bTSWOBWTSeab+JKUlqLy+ll6RCGeCSVCgDvA4RcUtE/CYifhURWyNi4ah9n6tuJfBYRPxNG8usS0T8bUQ8GhF/jIj+MfuKGstxJd/SISK+GhEHImL3qG2nR8R9EbG3+n5aO2ucioh4U0TcHxG/rn7OPlFtL25MEVGLiJ9GxC+rsXyx2r40InZUP29bqpM42sIAr899QF9mvgX4b+BzANWtA24ELgRWArdXtxiYzXYD1wMPjt5Y6Fg64ZYOdzHy7z3aRmB7Zp4LbK/WS3EM+FRmXgCsAD5W/X+UOKaXgMsy863AMmBlRKwAvgR8OTPPAQ4B69pVoAFeh8z8YWYeq1b/k5Fz3mHk1gHfzMyXMvN/gH2M3GJg1srMPZk53tWwxY2lUvQtHTLzQeD5MZuvAQaq5QHg2lbWNBOZuT8zf14tHwH2AGdS4JhyxAvV6oLqK4HLgG9X29s6FgN86m4C7q2WzwSeHLVvuNpWolLHUmrdJ7IoM/dXy08Di9pZzHRFRC/wNmAHhY4pIuZHxC7gACN/iT8OHB41oWvrz1sx9wNvtoj4EfAX4+z6fGbeXT3m84z8ifj1VtY2VfWMRWXIzIyI4s71jYhTgO8An8zM30XEK/tKGlNm/gFYVr3vtRV4c3srejUDvJKZ7z3R/ohYC7wPuDz/dPL8rLydwGRjmcCsHEsdSq37RJ6JiMWZuT8iFjMy+ytGRCxgJLy/npnfrTYXPabMPBwR9wPvAhZGxOuqWXhbf95sodQhIlYCnwGuzswXR+3aBtwYESdFxFLgXOCn7aixAUodSyfe0mEbsKZaXgMU81dTjEy17wT2ZOato3YVN6aI6D5+xllEvAG4gpGe/v3ADdXD2juWzPRrki9G3tB7EthVff3LqH2fZ6Qv9hhwZbtrrWMs1zHSt3sJeAb4QaljGVX3KkbODnqckTZR22uaQu3fAPYDL1f/L+uALkbO1NgL/Ag4vd11TmE872bkjb5fjfp9WVXimIC3AL+oxrIb+Idq+9mMTG72Af8KnNSuGr2UXpIKZQtFkgplgEtSoQxwSSqUAS5JhTLAJalQBrgkFcoAl6RC/T9y7jRctYXZsQAAAABJRU5ErkJggg==
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="mf">.5</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocessor</span><span class="p">(</span><span class="n">Normalizer</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocessor</span><span class="p">(</span><span class="n">BoxCox</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXAAAAD4CAYAAAD1jb0+AAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjUuMSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/YYfK9AAAACXBIWXMAAAsTAAALEwEAmpwYAAASxElEQVR4nO3df6zddX3H8eebUinBBkq5qx2l3MIIE0os2JQ6RJkKg27yw5gpWaQdmKpIIuJcOk1mN/cHjAlmyXSpA+kWqji1QLROK8MgCXZr2QVa0BVIDW0KLYXyQ8Kk8N4f53vxcj33nnPv+fm5fT6Sk/M93+/nnO+733P6ut/7+X7O50ZmIkkqzyG9LkCSNDkGuCQVygCXpEIZ4JJUKANckgp1aDd3dswxx+Tg4GA3dylJxduyZcvTmTkwen1XA3xwcJDNmzd3c5eSVLyI+GW99XahSFKhDHBJKpQBLkmF6mofeD2vvPIKO3fu5OWXX+51KW0xY8YM5s2bx/Tp03tdiqQprucBvnPnTmbOnMng4CAR0etyWpKZ7Nu3j507d7JgwYJelyNpiut5F8rLL7/M7Nmziw9vgIhg9uzZU+a3CUn9recBDkyJ8B42lf4tkvpbXwS4JGniet4HPtrgqu+39fV2XPvHbXmdZcuWsW7dOo466qi2vJ4ktcoz8AYyk9dee40NGzZ0J7xXH/mb++FlSarDAAduuOEGFi5cyMKFC/nyl7/Mjh07OPnkk7nssstYuHAhTzzxBIODgzz99NO9LlWSXtd3XSjdtmXLFr7+9a+zadMmMpMzzzyTd7/73Wzfvp21a9eydOnSXpcoSXUd9AF+7733cskll3DEEUcA8IEPfICf/vSnHH/88Ya3pL5mF8oYhgNdkvrVQR/gZ599NrfffjsvvfQSv/rVr1i/fj1nn312r8uSpIb6rgulXcP+mnXGGWewYsUKlixZAsBHP/pRZs2a1dUaJGky+i7Ae+Gaa67hmmuuecO6rVu3vuHxjh07uliRJDV20HehSFKpDHBJKpQBLkmFMsAlqVAGuCQVygCXpEL13zDCds/At/q5cTfv37+fdevWceWVVwLw2c9+lg0bNrBs2TKuv/769tYiSW3UMMAjYgZwD3BY1f7bmfmFiFgAfBOYDWwBPpKZv+5ksZ2wf/9+vvKVr7we4GvWrOGZZ55h2rRpPa5MksbXTBfK/wHvycy3AYuA8yNiKXAdcGNm/h7wLHBFx6rsoFWrVvHYY4+xaNEizj33XF588UXe/va3c9ttt7FixQo+8YlPsHTpUk444QR+8pOfcPnll/PWt76VFStW9Lp0SQe5hgGeNS9WD6dXtwTeA3y7Wr8WuLgTBXbatddey4knnsjQ0BAbN27k8MMPZ2hoiA996EMAPPvss9x3333ceOONXHjhhXz6059m27ZtPPTQQwwNDfW2eEkHtaYuYkbEtIgYAvYAG4HHgP2ZeaBqshM4tiMV9tj73/9+IoLTTjuNOXPmcNppp3HIIYdw6qmn+vV6ST3V1EXMzHwVWBQRRwHrgd9vdgcRsRJYCTB//vxJlNhbhx12GACHHHLI68vDjw8cODDW0yQd5Eb/fd9OTNQ3oWGEmbkfuBt4B3BURAz/AJgH7BrjOWsyc3FmLh4YGGil1o6YOXMmL7zwQq/LkKQJa2YUygDwSmbuj4jDgXOpXcC8G/ggtZEoy4E72lJRg2F/7TZ79mzOOussFi5cyAUXXNDVfUtSK5rpQpkLrI2IadTO2L+Vmd+LiIeBb0bE3wH/A9zUwTo7at26da8vjxz7fcstt7y+PDg4+IYpZkduk6ReaBjgmfkgcHqd9Y8DSzpRlCSpMb9KL0mF6osAz8xel9A2E/q3tHvaAEkHlZ4H+IwZM9i3b9+UCPHMZN++fcyYMaPXpUg6CPR8Mqt58+axc+dO9u7d2+tS2mLGjBnMmzev12VIOgj0PMCnT5/OggULel2GJBWn510okqTJMcAlqVA970KRGhk5p0Qn5pOQSuUZuCQVygCXpEIZ4JJUKANckgplgEtSoQ7OUSirj+zuvOPd3p80BXXjL9yUxjNwSSqUAS5JhTLAJalQBrgkFcoAl6RCGeCSVKiyhhEO/wmy0ofkOaxQ6qmpMkGaZ+CSVCgDXJIK1TDAI+K4iLg7Ih6OiG0R8alq/eqI2BURQ9VtWefLlSQNa6YP/ADwmcy8PyJmAlsiYmO17cbM/IfOlSdJGkvDAM/M3cDuavmFiHgEOLbThUmSxjehUSgRMQicDmwCzgKuiojLgM3UztKfrfOclcBKgPnz57dar1QUJ2Ca2no9mqXpi5gR8WbgO8DVmfk88FXgRGARtTP0L9V7XmauyczFmbl4YGCg9YolSUCTAR4R06mF962Z+V2AzHwqM1/NzNeArwFLOlemJGm0ZkahBHAT8Ehm3jBi/dwRzS4Btra/PEnSWJrpAz8L+AjwUEQMVes+B1waEYuABHYAH+tAfZKkMTQzCuVeIOps2tD+ciRJzSprLpRe69RcLFNljpceGG+UR6MRIL0eQdALjoqZmH4/Xn6VXpIKZYBLUqEMcEkqlAEuSYUywCWpUI5CUd8ZfeVf/WciozP6fSRHu/Tic+sZuCQVygCXpEIZ4JJUKANckgplgEtSoQxwSSrU1BtGuPrIzk021a0aJro/TQmTnVyr5GF6JdfeDzwDl6RCGeCSVCgDXJIKZYBLUqEMcEkqVDmjUDo9MmMiI0dGtx1Zm38WrW91Y7KhkifimkojQlr5t5T0HnoGLkmFMsAlqVANAzwijouIuyPi4YjYFhGfqtYfHREbI2J7dT+r8+VKkoY1cwZ+APhMZp4CLAU+GRGnAKuAuzLzJOCu6rEkqUsaBnhm7s7M+6vlF4BHgGOBi4C1VbO1wMUdqlGSVMeERqFExCBwOrAJmJOZu6tNTwJzxnjOSmAlwPz58yddaF3jjQYZr12j9ZPZ93jtWtmunuvF6Ixu7XO8ERdTeVTKVNH0RcyIeDPwHeDqzHx+5LbMTCDrPS8z12Tm4sxcPDAw0FKxkqTfaCrAI2I6tfC+NTO/W61+KiLmVtvnAns6U6IkqZ5mRqEEcBPwSGbeMGLTncDyank5cEf7y5MkjaWZPvCzgI8AD0XEULXuc8C1wLci4grgl8CfdqRCSVJdDQM8M+8FYozN721vOZKkZvlNTEkqVDmTWTUy3hDCVl5rvKGC4w0lbHW/0jim6rC4ftdvx90zcEkqlAEuSYUywCWpUAa4JBXKAJekQk2dUSjN6KdRHv1UiyY0uqC0SZ5K/lNy/Tbqo994Bi5JhTLAJalQBrgkFcoAl6RCGeCSVKgyR6E0+nNmExnh8YZ5Tzo4f0krf75NU8bIURUTGb1ysIzGOFj+ne3iGbgkFcoAl6RCGeCSVCgDXJIKZYBLUqHKHIUy0mTnFOnUXCTOcaImOeKivSZ7PEt+HzwDl6RCGeCSVCgDXJIK1TDAI+LmiNgTEVtHrFsdEbsiYqi6LetsmZKk0Zo5A78FOL/O+hszc1F129DesiRJjTQM8My8B3imC7VIkiaglWGEV0XEZcBm4DOZ+Wy9RhGxElgJMH/+/BZ2NwU4xLBljYZ8lTwkTBPjez35i5hfBU4EFgG7gS+N1TAz12Tm4sxcPDAwMMndSZJGm1SAZ+ZTmflqZr4GfA1Y0t6yJEmNTCrAI2LuiIeXAFvHaitJ6oyGfeAR8Q3gHOCYiNgJfAE4JyIWAQnsAD7WuRIlSfU0DPDMvLTO6ps6UIskaQLKn8xKUlc46qP/+FV6SSqUAS5JhTLAJalQBrgkFcoAl6RClTsKpVvzijh/iQrT76NF+r2+kngGLkmFMsAlqVAGuCQVygCXpEIZ4JJUKANckgplgEtSoQxwSSqUAS5JhTLAJalQBrgkFcoAl6RCGeCSVCgDXJIKZYBLUqEaBnhE3BwReyJi64h1R0fExojYXt3P6myZkqTRmjkDvwU4f9S6VcBdmXkScFf1WJLURQ0DPDPvAZ4ZtfoiYG21vBa4uL1lSZIamWwf+JzM3F0tPwnMGathRKyMiM0RsXnv3r2T3J0kabSWL2JmZgI5zvY1mbk4MxcPDAy0ujtJUmWyAf5URMwFqO73tK8kSVIzJhvgdwLLq+XlwB3tKUeS1KxmhhF+A7gPODkidkbEFcC1wLkRsR14X/VYktRFhzZqkJmXjrHpvW2uRZI0AX4TU5IKZYBLUqEMcEkqlAEuSYUywCWpUAa4JBXKAJekQjUcBy5pfIOrvt/rEnSQ8gxckgplgEtSoQxwSSqUAS5JhTLAJalQBrgkFcoAl6RCGeCSVCgDXJIKZYBLUqEMcEkqlAEuSYUywCWpUAa4JBWqpelkI2IH8ALwKnAgMxe3oyhJUmPtmA/8DzPz6Ta8jiRpAuxCkaRCtRrgCfwoIrZExMp6DSJiZURsjojNe/fubXF3kqRhrQb4OzPzDOAC4JMR8a7RDTJzTWYuzszFAwMDLe5OkjSspQDPzF3V/R5gPbCkHUVJkhqbdIBHxBERMXN4GTgP2NquwiRJ42tlFMocYH1EDL/Ousz8j7ZUJUlqaNIBnpmPA29rYy2SpAlwGKEkFcoAl6RCGeCSVCgDXJIKZYBLUqEMcEkqlAEuSYUywCWpUAa4JBXKAJekQhngklQoA1ySCmWAS1KhDp4AX31kryuQpLY6eAJckqYYA1ySCmWAS1KhDHBJKpQBLkmFMsAlqVAGuCQVygCXpEIZ4JJUqJYCPCLOj4hfRMSjEbGqXUVJkhqbdIBHxDTgn4ALgFOASyPilHYVJkkaXytn4EuARzPz8cz8NfBN4KL2lCVJauTQFp57LPDEiMc7gTNHN4qIlcDK6uGLEfEL4Bjg6Rb23Qu9qflvotVX8Fh3R4k1Q5l1l1gzcV1LdR9fb2UrAd6UzFwDrBm5LiI2Z+biTu+7nUqsGcqs25q7p8S6S6wZOlN3K10ou4DjRjyeV62TJHVBKwH+38BJEbEgIt4EfBi4sz1lSZIamXQXSmYeiIirgB8C04CbM3Nbk09f07hJ3ymxZiizbmvunhLrLrFm6EDdkZntfk1JUhf4TUxJKpQBLkmF6kqAR8T1EfHziHgwItZHxFFjtNsREQ9FxFBEbO5GbXVqGHd6gIg4LCJuq7ZviojBHpQ5sp7jIuLuiHg4IrZFxKfqtDknIp6rjutQRPx1L2odrdH7HTX/WB3rByPijF7UOaKek0ccw6GIeD4irh7Vpi+OdUTcHBF7ImLriHVHR8TGiNhe3c8a47nLqzbbI2J5j2vu++wYo+7VEbFrxOdg2RjPbW06kszs+A04Dzi0Wr4OuG6MdjuAY7pR0xj7nwY8BpwAvAl4ADhlVJsrgX+ulj8M3Nareqsa5gJnVMszgf+tU/M5wPd6Wedk3m9gGfADIIClwKZe1zzqs/IkcHw/HmvgXcAZwNYR6/4eWFUtr6r3/xA4Gni8up9VLc/qYc19nx1j1L0a+IsmPkPj5k2jW1fOwDPzR5l5oHr4M2pjxvtRM9MDXASsrZa/Dbw3Ilr+uuRkZebuzLy/Wn4BeITat2SngouAf82anwFHRcTcXhdVeS/wWGb+steF1JOZ9wDPjFo98rO7Fri4zlP/CNiYmc9k5rPARuD8TtU5Ur2aS8iOMY51M1qejqQXfeCXUzurqieBH0XEluor+N1Wb3qA0WH4epvqg/UcMLsr1TVQdeecDmyqs/kdEfFARPwgIk7tbmVjavR+N/N+9MqHgW+Msa0fjzXAnMzcXS0/Ccyp06afj3k/Z0c9V1VdPzeP0V3V8rFu21fpI+LHwFvqbPp8Zt5Rtfk8cAC4dYyXeWdm7oqI3wE2RsTPq59uaiAi3gx8B7g6M58ftfl+ar/qv1j1xd0OnNTlEusp8v2uvrh2IfBXdTb367F+g8zMiChmDHGB2fFV4IvUfrB8EfgStR9AbdW2M/DMfF9mLqxzGw7vFcCfAH+WVQdQndfYVd3vAdZT+xWjm5qZHuD1NhFxKHAksK8r1Y0hIqZTC+9bM/O7o7dn5vOZ+WK1vAGYHhHHdLnM39LE+92v0zVcANyfmU+N3tCvx7ry1HAXVHW/p06bvjvmhWTH6HqeysxXM/M14Gtj1NPyse7WKJTzgb8ELszMl8Zoc0REzBxepnbxYmu9th3UzPQAdwLDV+Y/CPznWB+qbqj6328CHsnMG8Zo85bhfvqIWELtfe/1D51m3u87gcuq0ShLgedGdAH00qWM0X3Sj8d6hJGf3eXAHXXa/BA4LyJmVb/2n1et64mCsmN0TSOv1VxC/Xpan46kS1dpH6XW1zNU3YZHcfwusKFaPoHaVdgHgG3Uul56cUV5GbWRHI8N1wD8LbUPEMAM4N+rf9N/ASf0os4R9b6T2q9pD444vsuAjwMfr9pcVR3TB6hdCPqDXtY83vs9qu6g9kdDHgMeAhb3Qd1HUAvkI0es67tjTe0HzG7gFWp9q1dQu1ZzF7Ad+DFwdNV2MfAvI557efX5fhT48x7X3PfZMUbd/1Z9Zh+kFspzR9ddPf6tvJnIza/SS1Kh/CamJBXKAJekQhngklQoA1ySCmWAS1KhDHBJKpQBLkmF+n8txxde0BPK+wAAAABJRU5ErkJggg==
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">beta</span><span class="p">(</span><span class="mf">.5</span><span class="p">,</span> <span class="mf">.5</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocessor</span><span class="p">(</span><span class="n">YeoJohnshon</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">beta</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">.5</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocessor</span><span class="p">(</span><span class="n">Quantile</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">,</span> <span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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+eUnnnbaaadcd9111StWrBgxZcqUU2praydPnTr1lMbGxqGS9Oijjx557rnnTpSSpMKcOXNqpk2bNqm6uvqdCxcuPO5g293vioGIWGW75qCvCAAAAAAAHJSmpqYj1q5du6GiokKtra1lzz///IYhQ4booYceOvLGG2+sfvzxx3+R+57NmzcPe+655za2t7eX19bW1n3hC19oGTp06AHvn5C3PQZsXyvp2uToxHyFBQAAAACgZHzsYx9rq6hIPqq3traWX3rppSdt2bJlmO3o6Ohwd++ZPXt2+/Dhw2P48OGZysrKjm3btlVMmDCh40DbzNtTCSLizog4IyLOkKryFRYAAAAAgJIxcuTIzq7X8+fPH3/OOee8tWnTppcfeeSRzXv37u32M3z26oDy8nJlMpluEwg94XGFAAAAAAAMQDt37iyvrq7eK0nf+c53RvdVOyQGAAAAAAAYgObPn998yy23VNfW1k7OZDJ91o4jet+PwPYSSTMljZb0hqSbI+Ke3t9zRkgv5KuPAAAAQFE4fU1en4YGFMTahrVrklvIB7fGxsYt9fX1Owrdj/7S2Ng4ur6+vqa7cwfyVIKP571HAAAAAABgQOBWAgAAAAAAShiJAQAAAAAAShiJAQAAAAAAShiJAQAAAAAAShiJAQAAAAAAShiJAQAAAAAA+tn06dPfsWzZsqOyyxYsWHDc3LlzT+yu/rRp0yatWrVqhCSdc845E3fs2FGeW+eGG24Yd9NNN4052L7s93GFAAAAAAAUu4a1DQ35jLfm9DVrejs/Z86c1iVLllRedNFFO7vKli1bVnnbbbdt21/slStXbs5HH7uwYgAAAAAAgH525ZVXtj355JOj9uzZY0nauHHjEdu3bx9y3333VdbV1dVOnDjx1Ouvv35cd+8dP378O5uamiokaf78+WNramrqGhoaJm3atGnoofSlj1YMrNkleWPfxAb6zWhJOwrdCSAPGMsoBoxjFIW1DYxlFIVJhe5AMRgzZsy++vr6t5cuXTrqiiuuaF+8eHHl+eef33brrbc2jRkzZl8mk9G73/3uSatXrx4+ffr033UX4+mnnx7xgx/8oPKll156paOjQ1OmTJk8derU3Qfbl766lWBjRJzRR7GBfmH7BcYxigFjGcWAcYxiwVhGMbD9QqH7UCwuueSS1gceeOCYK664on358uWVd91115bF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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="ReLabeler" class="doc_header"><code>ReLabeler</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L941" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>ReLabeler</code>(<strong><code>cm</code></strong>)</p>
</blockquote>
<p>Changes the labels in a dataset based on a dictionary (class mapping)
Args:
    cm = class mapping dictionary</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">vals</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span><span class="s1">&#39;e&#39;</span><span class="p">}</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">vals</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">20</span><span class="p">)])</span>
<span class="n">labeler</span> <span class="o">=</span> <span class="n">ReLabeler</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="n">e</span><span class="o">=</span><span class="s1">&#39;z&#39;</span><span class="p">))</span>
<span class="n">y_new</span> <span class="o">=</span> <span class="n">labeler</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">y_new</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">y</span><span class="p">,</span> <span class="n">y_new</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(array([&#39;c&#39;, &#39;e&#39;, &#39;e&#39;, &#39;a&#39;, &#39;e&#39;, &#39;e&#39;, &#39;d&#39;, &#39;c&#39;, &#39;e&#39;, &#39;b&#39;, &#39;e&#39;, &#39;c&#39;, &#39;a&#39;,
        &#39;c&#39;, &#39;b&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;d&#39;], dtype=&#39;&lt;U1&#39;),
 array([&#39;y&#39;, &#39;z&#39;, &#39;z&#39;, &#39;x&#39;, &#39;z&#39;, &#39;z&#39;, &#39;z&#39;, &#39;y&#39;, &#39;z&#39;, &#39;x&#39;, &#39;z&#39;, &#39;y&#39;, &#39;x&#39;,
        &#39;y&#39;, &#39;x&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;, &#39;z&#39;, &#39;z&#39;], dtype=&#39;&lt;U1&#39;))</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

