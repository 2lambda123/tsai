---

title: Data preprocessing


keywords: fastai
sidebar: home_sidebar

summary: "Functions used to preprocess time series (both X and y)."
description: "Functions used to preprocess time series (both X and y)."
nb_path: "nbs/016_data.preprocessing.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/016_data.preprocessing.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">tsai.data.external</span> <span class="kn">import</span> <span class="n">get_UCR_data</span>
<span class="n">dsid</span> <span class="o">=</span> <span class="s1">&#39;NATOPS&#39;</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">splits</span> <span class="o">=</span> <span class="n">get_UCR_data</span><span class="p">(</span><span class="n">dsid</span><span class="p">,</span> <span class="n">return_split</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">tfms</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Categorize</span><span class="p">()]</span>
<span class="n">dsets</span> <span class="o">=</span> <span class="n">TSDatasets</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">tfms</span><span class="o">=</span><span class="n">tfms</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">splits</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ToNumpyCategory" class="doc_header"><code>class</code> <code>ToNumpyCategory</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L24" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ToNumpyCategory</code>(<strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Categorize a numpy batch</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">ToNumpyCategory</span><span class="p">()</span>
<span class="n">y_cat</span> <span class="o">=</span> <span class="n">t</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">y_cat</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([3, 2, 2, 3, 2, 4, 0, 5, 2, 1])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">tensor</span><span class="p">(</span><span class="n">y_cat</span><span class="p">)),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">y_cat</span><span class="p">)),</span> <span class="n">y</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="OneHot" class="doc_header"><code>class</code> <code>OneHot</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L45" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>OneHot</code>(<strong><code>n_classes</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>One-hot encode/ decode a batch</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">oh_encoder</span> <span class="o">=</span> <span class="n">OneHot</span><span class="p">()</span>
<span class="n">y_cat</span> <span class="o">=</span> <span class="n">ToNumpyCategory</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">oht</span> <span class="o">=</span> <span class="n">oh_encoder</span><span class="p">(</span><span class="n">y_cat</span><span class="p">)</span>
<span class="n">oht</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([[0., 0., 0., 1., 0., 0.],
       [0., 0., 1., 0., 0., 0.],
       [0., 0., 1., 0., 0., 0.],
       [0., 0., 0., 1., 0., 0.],
       [0., 0., 1., 0., 0., 0.],
       [0., 0., 0., 0., 1., 0.],
       [1., 0., 0., 0., 0., 0.],
       [0., 0., 0., 0., 0., 1.],
       [0., 0., 1., 0., 0., 0.],
       [0., 1., 0., 0., 0., 0.]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_classes</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">n_samples</span> <span class="o">=</span> <span class="mi">100</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">,</span> <span class="p">(</span><span class="n">n_samples</span><span class="p">,))</span>
<span class="n">oh_encoder</span> <span class="o">=</span> <span class="n">OneHot</span><span class="p">()</span>
<span class="n">oht</span> <span class="o">=</span> <span class="n">oh_encoder</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">oht</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="p">(</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">oht</span><span class="p">,</span> <span class="n">dim</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span> <span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">oh_encoder</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">oht</span><span class="p">),</span> <span class="n">t</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_classes</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">n_samples</span> <span class="o">=</span> <span class="mi">100</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">,</span> <span class="p">(</span><span class="n">n_samples</span><span class="p">,))</span>
<span class="n">oh_encoder</span> <span class="o">=</span> <span class="n">OneHot</span><span class="p">()</span>
<span class="n">oha</span> <span class="o">=</span> <span class="n">oh_encoder</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">oha</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="p">(</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">oha</span><span class="p">,</span> <span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span> <span class="n">a</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">oh_encoder</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">oha</span><span class="p">),</span> <span class="n">a</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSNan2Value" class="doc_header"><code>class</code> <code>TSNan2Value</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L62" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSNan2Value</code>(<strong><code>value</code></strong>=<em><code>0</code></em>, <strong><code>median</code></strong>=<em><code>False</code></em>, <strong><code>by_sample_and_var</code></strong>=<em><code>True</code></em>, <strong><code>sel_vars</code></strong>=<em><code>None</code></em>) :: <code>Transform</code></p>
</blockquote>
<p>Replaces any nan values by a predefined value or median</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">o</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">o</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">o</span><span class="p">[</span><span class="n">o</span> <span class="o">&gt;</span> <span class="mf">.9</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">o</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">15</span><span class="p">],</span> <span class="p">:,</span> <span class="o">-</span><span class="mi">20</span><span class="p">:]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">nan_vals1</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">o</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">o2</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">TSNan2Value</span><span class="p">(),</span> <span class="n">split_idx</span><span class="o">=</span><span class="mi">0</span><span class="p">)(</span><span class="n">o</span><span class="o">.</span><span class="n">clone</span><span class="p">())</span>
<span class="n">o3</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">TSNan2Value</span><span class="p">(</span><span class="n">median</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_sample_and_var</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">split_idx</span><span class="o">=</span><span class="mi">0</span><span class="p">)(</span><span class="n">o</span><span class="o">.</span><span class="n">clone</span><span class="p">())</span>
<span class="n">o4</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">TSNan2Value</span><span class="p">(</span><span class="n">median</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_sample_and_var</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="n">split_idx</span><span class="o">=</span><span class="mi">0</span><span class="p">)(</span><span class="n">o</span><span class="o">.</span><span class="n">clone</span><span class="p">())</span>
<span class="n">nan_vals2</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">o2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">nan_vals3</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">o3</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">nan_vals4</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">o4</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">nan_vals1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">nan_vals2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">nan_vals3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">nan_vals4</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">o</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">o</span><span class="p">[</span><span class="n">o</span> <span class="o">&gt;</span> <span class="mf">.9</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">o</span> <span class="o">=</span> <span class="n">TSNan2Value</span><span class="p">(</span><span class="n">median</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sel_vars</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])(</span><span class="n">o</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">o</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">item</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSStandardize" class="doc_header"><code>class</code> <code>TSStandardize</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L96" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSStandardize</code>(<strong><code>mean</code></strong>=<em><code>None</code></em>, <strong><code>std</code></strong>=<em><code>None</code></em>, <strong><code>by_sample</code></strong>=<em><code>False</code></em>, <strong><code>by_var</code></strong>=<em><code>False</code></em>, <strong><code>by_step</code></strong>=<em><code>False</code></em>, <strong><code>eps</code></strong>=<em><code>1e-08</code></em>, <strong><code>use_single_batch</code></strong>=<em><code>True</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Standardizes batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a></p>
<p>Args:</p>

<pre><code>- mean: you can pass a precalculated mean value as a torch tensor which is the one that will be used, or leave as None, in which case
    it will be estimated using a batch.
- std: you can pass a precalculated std value as a torch tensor which is the one that will be used, or leave as None, in which case
    it will be estimated using a batch. If both mean and std values are passed when instantiating TSStandardize, the rest of arguments won't be used.
- by_sample: if True, it will calculate mean and std for each individual sample. Otherwise based on the entire batch.
- by_var:
    * False: mean and std will be the same for all variables.
    * True: a mean and std will be be different for each variable.
    * a list of ints: (like [0,1,3]) a different mean and std will be set for each variable on the list. Variables not included in the list
    won't be standardized.
    * a list that contains a list/lists: (like[0, [1,3]]) a different mean and std will be set for each element of the list. If multiple elements are
    included in a list, the same mean and std will be set for those variable in the sublist/s. (in the example a mean and std is determined for
    variable 0, and another one for variables 1 &amp; 3 - the same one). Variables not included in the list won't be standardized.
- by_step: if False, it will standardize values for each time step.
- eps: it avoids dividing by 0
- use_single_batch: if True a single training batch will be used to calculate mean &amp; std. Else the entire training set will be used.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span><span class="o">=</span><span class="p">[</span><span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_var</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">tsai.data.validation</span> <span class="kn">import</span> <span class="n">TimeSplitter</span>
<span class="n">X_nan</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">idxs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">X_nan</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">X_nan</span><span class="p">)</span><span class="o">*</span><span class="mf">.5</span><span class="p">),</span> <span class="kc">False</span><span class="p">)</span>
<span class="n">X_nan</span><span class="p">[</span><span class="n">idxs</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">idxs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">X_nan</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">X_nan</span><span class="p">)</span><span class="o">*</span><span class="mf">.5</span><span class="p">),</span> <span class="kc">False</span><span class="p">)</span>
<span class="n">X_nan</span><span class="p">[</span><span class="n">idxs</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">:]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">batch_tfms</span> <span class="o">=</span> <span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_var</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">get_ts_dls</span><span class="p">(</span><span class="n">X_nan</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">TimeSplitter</span><span class="p">(</span><span class="n">show_plot</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="n">range_of</span><span class="p">(</span><span class="n">X_nan</span><span class="p">)))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">after_batch</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">after_batch</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">xb</span> <span class="o">=</span> <span class="n">first</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">xb</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">xb</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">xb</span><span class="p">)</span><span class="o">.</span><span class="n">numel</span><span class="p">())</span>
<span class="n">batch_tfms</span> <span class="o">=</span> <span class="p">[</span><span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_var</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">Nan2Value</span><span class="p">()]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">get_ts_dls</span><span class="p">(</span><span class="n">X_nan</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">TimeSplitter</span><span class="p">(</span><span class="n">show_plot</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="n">range_of</span><span class="p">(</span><span class="n">X_nan</span><span class="p">)))</span>
<span class="n">xb</span> <span class="o">=</span> <span class="n">first</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">xb</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span><span class="o">=</span><span class="p">[</span><span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_var</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">valid</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tfms</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">TSClassification</span><span class="p">()]</span>
<span class="n">batch_tfms</span> <span class="o">=</span> <span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">get_ts_dls</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">splits</span><span class="p">,</span> <span class="n">tfms</span><span class="o">=</span><span class="n">tfms</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="p">[</span><span class="mi">64</span><span class="p">,</span> <span class="mi">128</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="o">.</span><span class="n">one_batch</span><span class="p">()</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="n">dls</span><span class="o">.</span><span class="n">valid</span><span class="o">.</span><span class="n">one_batch</span><span class="p">()</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tfms</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">TSClassification</span><span class="p">()]</span>
<span class="n">batch_tfms</span> <span class="o">=</span> <span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_var</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">get_ts_dls</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">splits</span><span class="p">,</span> <span class="n">tfms</span><span class="o">=</span><span class="n">tfms</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="p">[</span><span class="mi">64</span><span class="p">,</span> <span class="mi">128</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="o">.</span><span class="n">one_batch</span><span class="p">()</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="n">dls</span><span class="o">.</span><span class="n">valid</span><span class="o">.</span><span class="n">one_batch</span><span class="p">()</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Tensor.mul_min" class="doc_header"><code>Tensor.mul_min</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L194" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Tensor.mul_min</code>(<strong><code>x</code></strong>:<code>(Tensor, TSTensor, NumpyTensor)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="TSTensor.mul_min" class="doc_header"><code>TSTensor.mul_min</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L194" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>TSTensor.mul_min</code>(<strong><code>x</code></strong>:<code>(Tensor, TSTensor, NumpyTensor)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="NumpyTensor.mul_min" class="doc_header"><code>NumpyTensor.mul_min</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L194" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>NumpyTensor.mul_min</code>(<strong><code>x</code></strong>:<code>(Tensor, TSTensor, NumpyTensor)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Tensor.mul_max" class="doc_header"><code>Tensor.mul_max</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L203" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Tensor.mul_max</code>(<strong><code>x</code></strong>:<code>(Tensor, TSTensor, NumpyTensor)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="TSTensor.mul_max" class="doc_header"><code>TSTensor.mul_max</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L203" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>TSTensor.mul_max</code>(<strong><code>x</code></strong>:<code>(Tensor, TSTensor, NumpyTensor)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="NumpyTensor.mul_max" class="doc_header"><code>NumpyTensor.mul_max</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L203" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>NumpyTensor.mul_max</code>(<strong><code>x</code></strong>:<code>(Tensor, TSTensor, NumpyTensor)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSNormalize" class="doc_header"><code>class</code> <code>TSNormalize</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L212" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSNormalize</code>(<strong><code>min</code></strong>=<em><code>None</code></em>, <strong><code>max</code></strong>=<em><code>None</code></em>, <strong><code>range</code></strong>=<em><code>(-1, 1)</code></em>, <strong><code>by_sample</code></strong>=<em><code>False</code></em>, <strong><code>by_var</code></strong>=<em><code>False</code></em>, <strong><code>by_step</code></strong>=<em><code>False</code></em>, <strong><code>clip_values</code></strong>=<em><code>True</code></em>, <strong><code>use_single_batch</code></strong>=<em><code>True</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Normalizes batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span> <span class="o">=</span> <span class="p">[</span><span class="n">TSNormalize</span><span class="p">()]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span><span class="o">=</span><span class="p">[</span><span class="n">TSNormalize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_var</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span> <span class="o">=</span> <span class="p">[</span><span class="n">TSNormalize</span><span class="p">(</span><span class="n">by_var</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span> <span class="n">use_single_batch</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">clip_values</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">xb</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">xb</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSClipOutliers" class="doc_header"><code>class</code> <code>TSClipOutliers</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L292" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSClipOutliers</code>(<strong><code>min</code></strong>=<em><code>None</code></em>, <strong><code>max</code></strong>=<em><code>None</code></em>, <strong><code>by_sample</code></strong>=<em><code>False</code></em>, <strong><code>by_var</code></strong>=<em><code>False</code></em>, <strong><code>use_single_batch</code></strong>=<em><code>False</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Clip outliers batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a> based on the IQR</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span><span class="o">=</span><span class="p">[</span><span class="n">TSClipOutliers</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">valid</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>TSClipOutliers min=-1, max=1

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSClip" class="doc_header"><code>class</code> <code>TSClip</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L335" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSClip</code>(<strong><code>min</code></strong>=<em><code>-6</code></em>, <strong><code>max</code></strong>=<em><code>6</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Clip  batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span><span class="p">)</span>
<span class="n">test_le</span><span class="p">(</span><span class="n">TSClip</span><span class="p">()(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">.</span><span class="n">item</span><span class="p">(),</span> <span class="mi">6</span><span class="p">)</span>
<span class="n">test_ge</span><span class="p">(</span><span class="n">TSClip</span><span class="p">()(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="o">.</span><span class="n">item</span><span class="p">(),</span> <span class="o">-</span><span class="mi">6</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSSelfMissingness" class="doc_header"><code>class</code> <code>TSSelfMissingness</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L348" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSSelfMissingness</code>(<strong><code>sel_vars</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Applies missingness from samples in a batch to random samples in the batch for selected variables</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">t</span><span class="p">[</span><span class="n">t</span><span class="o">&gt;</span><span class="mf">.8</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">TSSelfMissingness</span><span class="p">()(</span><span class="n">t</span><span class="o">.</span><span class="n">clone</span><span class="p">())</span>
<span class="n">t3</span> <span class="o">=</span> <span class="n">TSSelfMissingness</span><span class="p">(</span><span class="n">sel_vars</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">])(</span><span class="n">t</span><span class="o">.</span><span class="n">clone</span><span class="p">())</span>
<span class="k">assert</span> <span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">t2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span> <span class="ow">and</span> <span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">t2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">&gt;</span>  <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">t3</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSRobustScale" class="doc_header"><code>class</code> <code>TSRobustScale</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L365" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSRobustScale</code>(<strong><code>median</code></strong>=<em><code>None</code></em>, <strong><code>iqr</code></strong>=<em><code>None</code></em>, <strong><code>quantile_range</code></strong>=<em><code>(25.0, 75.0)</code></em>, <strong><code>use_single_batch</code></strong>=<em><code>True</code></em>, <strong><code>eps</code></strong>=<em><code>1e-08</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>This Scaler removes the median and scales the data according to the quantile range (defaults to IQR: Interquartile Range)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span> <span class="o">=</span> <span class="n">TSRobustScale</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">use_single_batch</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>TSRobustScale median=torch.Size([1, 24, 1]) iqr=torch.Size([1, 24, 1])
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>TSTensor([-2.420729875564575], device=cpu, dtype=torch.float32)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_stats_with_uncertainty" class="doc_header"><code>get_stats_with_uncertainty</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L405" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_stats_with_uncertainty</code>(<strong><code>o</code></strong>, <strong><code>sel_vars</code></strong>=<em><code>None</code></em>, <strong><code>sel_vars_zero_mean_unit_var</code></strong>=<em><code>False</code></em>, <strong><code>bs</code></strong>=<em><code>64</code></em>, <strong><code>n_trials</code></strong>=<em><code>None</code></em>, <strong><code>axis</code></strong>=<em><code>(0, 2)</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_random_stats" class="doc_header"><code>get_random_stats</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L439" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_random_stats</code>(<strong><code>E_mean</code></strong>, <strong><code>S_mean</code></strong>, <strong><code>E_std</code></strong>, <strong><code>S_std</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSGaussianStandardize" class="doc_header"><code>class</code> <code>TSGaussianStandardize</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L446" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSGaussianStandardize</code>(<strong><code>E_mean</code></strong>:<code>ndarray</code>, <strong><code>S_mean</code></strong>:<code>ndarray</code>, <strong><code>E_std</code></strong>:<code>ndarray</code>, <strong><code>S_std</code></strong>:<code>ndarray</code>, <strong><code>eps</code></strong>=<em><code>1e-08</code></em>, <strong><code>split_idx</code></strong>=<em><code>0</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Scales each batch using modeled mean and std based on UNCERTAINTY MODELING FOR OUT-OF-DISTRIBUTION GENERALIZATION <a href="https://arxiv.org/abs/2202.03958">https://arxiv.org/abs/2202.03958</a></p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>E_mean</code></strong></td>
<td><code>ndarray</code></td>
<td></td>
<td>Mean expected value</td>
</tr>
<tr>
<td><strong><code>S_mean</code></strong></td>
<td><code>ndarray</code></td>
<td></td>
<td>Uncertainty (standard deviation) of the mean</td>
</tr>
<tr>
<td><strong><code>E_std</code></strong></td>
<td><code>ndarray</code></td>
<td></td>
<td>Standard deviation expected value</td>
</tr>
<tr>
<td><strong><code>S_std</code></strong></td>
<td><code>ndarray</code></td>
<td></td>
<td>Uncertainty (standard deviation) of the standard deviation</td>
</tr>
<tr>
<td><strong><code>eps</code></strong></td>
<td><code>float</code></td>
<td><code>1e-08</code></td>
<td>(epsilon) small amount added to standard deviation to avoid deviding by zero</td>
</tr>
<tr>
<td><strong><code>split_idx</code></strong></td>
<td><code>int</code></td>
<td><code>0</code></td>
<td>Flag to indicate to which set is this transofrm applied. 0: training, 1:validation, None:both</td>
</tr>
<tr>
<td><strong><code>kwargs</code></strong></td>
<td></td>
<td></td>
<td><em>No Content</em></td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">E_mean</span><span class="p">,</span> <span class="n">S_mean</span><span class="p">,</span> <span class="n">E_std</span><span class="p">,</span> <span class="n">S_std</span> <span class="o">=</span> <span class="n">get_stats_with_uncertainty</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">sel_vars</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">n_trials</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">new_mean</span><span class="p">,</span> <span class="n">new_std</span> <span class="o">=</span> <span class="n">get_random_stats</span><span class="p">(</span><span class="n">E_mean</span><span class="p">,</span> <span class="n">S_mean</span><span class="p">,</span> <span class="n">E_std</span><span class="p">,</span> <span class="n">S_std</span><span class="p">)</span>
<span class="n">new_mean2</span><span class="p">,</span> <span class="n">new_std2</span> <span class="o">=</span> <span class="n">get_random_stats</span><span class="p">(</span><span class="n">E_mean</span><span class="p">,</span> <span class="n">S_mean</span><span class="p">,</span> <span class="n">E_std</span><span class="p">,</span> <span class="n">S_std</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">new_mean</span><span class="p">,</span> <span class="n">new_mean2</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">new_std</span><span class="p">,</span> <span class="n">new_std2</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">new_mean</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">new_std</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">new_mean</span><span class="p">,</span> <span class="n">new_std</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
    <div>
        <style>
            /* Turns off some styling */
            progress {
                /* gets rid of default border in Firefox and Opera. */
                border: none;
                /* Needs to be in here for Safari polyfill so background images work as expected. */
                background-size: auto;
            }
            .progress-bar-interrupted, .progress-bar-interrupted::-webkit-progress-bar {
                background: #F44336;
            }
        </style>
      <progress value='15' class='' max='15' style='width:300px; height:20px; vertical-align: middle;'></progress>
      100.00% [15/15 00:00<00:00]
    </div>
    </div>

</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(array([[[0.49411265],
         [0.49200319]]]),
 array([[[0.28586026],
         [0.2847286 ]]]))</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>TSGaussianStandardize can be used jointly with TSStandardized in the following way:</p>
<div class="highlight"><pre><span></span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">splits</span> <span class="o">=</span> <span class="n">get_UCR_data</span><span class="p">(</span><span class="s1">&#39;LSST&#39;</span><span class="p">,</span> <span class="n">split_data</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">tfms</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">TSClassification</span><span class="p">()]</span>
<span class="n">E_mean</span><span class="p">,</span> <span class="n">S_mean</span><span class="p">,</span> <span class="n">E_std</span><span class="p">,</span> <span class="n">S_std</span> <span class="o">=</span> <span class="n">get_stats_with_uncertainty</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">sel_vars</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">n_trials</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">batch_tfms</span> <span class="o">=</span> <span class="p">[</span><span class="n">TSGaussianStandardize</span><span class="p">(</span><span class="n">E_mean</span><span class="p">,</span> <span class="n">S_mean</span><span class="p">,</span> <span class="n">E_std</span><span class="p">,</span> <span class="n">S_std</span><span class="p">,</span> <span class="n">split_idx</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="n">TSStandardize</span><span class="p">(</span><span class="n">E_mean</span><span class="p">,</span> <span class="n">S_mean</span><span class="p">,</span> <span class="n">split_idx</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">get_ts_dls</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">splits</span><span class="p">,</span> <span class="n">tfms</span><span class="o">=</span><span class="n">tfms</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="p">[</span><span class="mi">32</span><span class="p">,</span> <span class="mi">64</span><span class="p">])</span>
<span class="n">learn</span> <span class="o">=</span> <span class="n">ts_learner</span><span class="p">(</span><span class="n">dls</span><span class="p">,</span> <span class="n">InceptionTimePlus</span><span class="p">,</span> <span class="n">metrics</span><span class="o">=</span><span class="n">accuracy</span><span class="p">,</span> <span class="n">cbs</span><span class="o">=</span><span class="p">[</span><span class="n">ShowGraph</span><span class="p">()])</span>
<span class="n">learn</span><span class="o">.</span><span class="n">fit_one_cycle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">1e-2</span><span class="p">)</span>
</pre></div>
<p>In this way the train batches are scaled based on mean and standard deviation distributions while the valid batches are scaled with a fixed mean and standard deviation values.</p>
<p>The intent is to improve out-of-distribution performance. This method is inspired by UNCERTAINTY MODELING FOR OUT-OF-DISTRIBUTION GENERALIZATION <a href="https://arxiv.org/abs/2202.03958">https://arxiv.org/abs/2202.03958</a>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSDiff" class="doc_header"><code>class</code> <code>TSDiff</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L473" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSDiff</code>(<strong><code>lag</code></strong>=<em><code>1</code></em>, <strong><code>pad</code></strong>=<em><code>True</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Differences batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">TSDiff</span><span class="p">()(</span><span class="n">t</span><span class="p">)[</span><span class="o">...</span><span class="p">,</span> <span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">float</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">TSDiff</span><span class="p">(</span><span class="n">lag</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">float</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSLog" class="doc_header"><code>class</code> <code>TSLog</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L486" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSLog</code>(<strong><code>ex</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Log transforms batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a> + 1. Accepts positive and negative numbers</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span> 
<span class="n">tfm</span> <span class="o">=</span> <span class="n">TSLog</span><span class="p">()</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">tfm</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">enc_t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">tfm</span><span class="o">.</span><span class="n">decodes</span><span class="p">(</span><span class="n">enc_t</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSCyclicalPosition" class="doc_header"><code>class</code> <code>TSCyclicalPosition</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L507" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSCyclicalPosition</code>(<strong><code>cyclical_var</code></strong>=<em><code>None</code></em>, <strong><code>magnitude</code></strong>=<em><code>None</code></em>, <strong><code>drop_var</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Concatenates the position along the sequence as 2 additional variables (sine and cosine)</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>cyclical_var</code></strong></td>
<td></td>
<td><code>None</code></td>
<td>Optional variable to indicate the steps withing the cycle (ie minute of the day)</td>
</tr>
<tr>
<td><strong><code>magnitude</code></strong></td>
<td></td>
<td><code>None</code></td>
<td>Added for compatibility. It's not used.</td>
</tr>
<tr>
<td><strong><code>drop_var</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>Flag to indicate if the cyclical var is removed</td>
</tr>
<tr>
<td><strong><code>kwargs</code></strong></td>
<td></td>
<td></td>
<td><em>No Content</em></td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">))</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSCyclicalPosition</span><span class="p">()(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">enc_t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">2</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enc_t</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">cpu</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">)</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">seq_len</span><span class="p">)</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t2</span><span class="p">[</span><span class="mi">35</span><span class="p">:],</span> <span class="n">t2</span><span class="p">[:</span><span class="mi">35</span><span class="p">]])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">],</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">rand_like</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">.8</span>
<span class="n">t</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSCyclicalPosition</span><span class="p">(</span><span class="mi">3</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">enc_t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">2</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enc_t</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">cpu</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSLinearPosition" class="doc_header"><code>class</code> <code>TSLinearPosition</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L537" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSLinearPosition</code>(<strong><code>linear_var</code></strong>:<code>int</code>=<em><code>None</code></em>, <strong><code>var_range</code></strong>:<code>tuple</code>=<em><code>None</code></em>, <strong><code>magnitude</code></strong>=<em><code>None</code></em>, <strong><code>drop_var</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>lin_range</code></strong>:<code>tuple</code>=<em><code>(-1, 1)</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Concatenates the position along the sequence as 1 additional variable</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>linear_var</code></strong></td>
<td><code>int</code></td>
<td><code>None</code></td>
<td>Optional variable to indicate the steps withing the cycle (ie minute of the day)</td>
</tr>
<tr>
<td><strong><code>var_range</code></strong></td>
<td><code>tuple</code></td>
<td><code>None</code></td>
<td>Optional range indicating min and max values of the linear variable</td>
</tr>
<tr>
<td><strong><code>magnitude</code></strong></td>
<td></td>
<td><code>None</code></td>
<td>Added for compatibility. It's not used.</td>
</tr>
<tr>
<td><strong><code>drop_var</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>Flag to indicate if the cyclical var is removed</td>
</tr>
<tr>
<td><strong><code>lin_range</code></strong></td>
<td><code>tuple</code></td>
<td><code>(-1, 1)</code></td>
<td><em>No Content</em></td>
</tr>
<tr>
<td><strong><code>kwargs</code></strong></td>
<td></td>
<td></td>
<td><em>No Content</em></td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">))</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSLinearPosition</span><span class="p">()(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">enc_t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enc_t</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">cpu</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t</span><span class="p">[</span><span class="mi">30</span><span class="p">:],</span> <span class="n">t</span><span class="p">[:</span><span class="mi">30</span><span class="p">]])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t</span><span class="p">[</span><span class="mi">52</span><span class="p">:],</span> <span class="n">t</span><span class="p">[:</span><span class="mi">52</span><span class="p">]])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">])</span><span class="o">.</span><span class="n">float</span><span class="p">()</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">rand_like</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">.8</span>
<span class="n">t</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSLinearPosition</span><span class="p">(</span><span class="n">linear_var</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">var_range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="n">drop_var</span><span class="o">=</span><span class="kc">True</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">enc_t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enc_t</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">cpu</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSMissingness" class="doc_header"><code>class</code> <code>TSMissingness</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L572" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSMissingness</code>(<strong><code>feature_idxs</code></strong>=<em><code>None</code></em>, <strong><code>magnitude</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Concatenates data missingness for selected features along the sequence as additional variables</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">))</span>
<span class="n">t</span><span class="p">[</span><span class="n">t</span><span class="o">&gt;</span><span class="mf">.5</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSMissingness</span><span class="p">(</span><span class="n">feature_idxs</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">])(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">enc_t</span><span class="p">[:,</span> <span class="mi">3</span><span class="p">:],</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">t</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span><span class="o">.</span><span class="n">float</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSPositionGaps" class="doc_header"><code>class</code> <code>TSPositionGaps</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L588" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSPositionGaps</code>(<strong><code>feature_idxs</code></strong>=<em><code>None</code></em>, <strong><code>magnitude</code></strong>=<em><code>None</code></em>, <strong><code>forward</code></strong>=<em><code>True</code></em>, <strong><code>backward</code></strong>=<em><code>False</code></em>, <strong><code>nearest</code></strong>=<em><code>False</code></em>, <strong><code>normalize</code></strong>=<em><code>True</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Concatenates gaps for selected features along the sequence as additional variables</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">))</span>
<span class="n">t</span><span class="p">[</span><span class="n">t</span><span class="o">&gt;</span><span class="mf">.5</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSPositionGaps</span><span class="p">(</span><span class="n">feature_idxs</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">forward</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">backward</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nearest</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">normalize</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">9</span><span class="p">)</span>
<span class="n">enc_t</span><span class="o">.</span><span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>tensor([[[   nan,    nan, 0.2971,    nan,    nan,    nan, 0.3850, 0.4934],
         [0.3518, 0.4592,    nan,    nan,    nan, 0.2801, 0.4859,    nan],
         [   nan,    nan, 0.0329, 0.0991,    nan, 0.1530,    nan,    nan],
         [1.0000, 2.0000, 3.0000, 1.0000, 2.0000, 3.0000, 4.0000, 1.0000],
         [1.0000, 2.0000, 3.0000, 1.0000, 1.0000, 2.0000, 1.0000, 2.0000],
         [2.0000, 1.0000, 4.0000, 3.0000, 2.0000, 1.0000, 1.0000, 1.0000],
         [2.0000, 1.0000, 1.0000, 2.0000, 1.0000, 3.0000, 2.0000, 1.0000],
         [1.0000, 1.0000, 3.0000, 1.0000, 2.0000, 1.0000, 1.0000, 1.0000],
         [1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 2.0000, 1.0000, 1.0000]]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSRollingMean" class="doc_header"><code>class</code> <code>TSRollingMean</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L606" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSRollingMean</code>(<strong><code>feature_idxs</code></strong>=<em><code>None</code></em>, <strong><code>magnitude</code></strong>=<em><code>None</code></em>, <strong><code>window</code></strong>=<em><code>2</code></em>, <strong><code>replace</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Calculates the rolling mean for all/ selected features alongside the sequence</p>
<p>It replaces the original values or adds additional variables (default)
If nan values are found, they will be filled forward and backward</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">))</span>
<span class="n">t</span><span class="p">[</span><span class="n">t</span> <span class="o">&gt;</span> <span class="mf">.6</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSRollingMean</span><span class="p">(</span><span class="n">feature_idxs</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">enc_t</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSRollingMean</span><span class="p">(</span><span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">enc_t</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>tensor([[[0.5594, 0.2751, 0.2542, 0.2797, 0.1849, 0.4302,    nan,    nan],
         [   nan,    nan, 0.4110,    nan, 0.2157,    nan, 0.3330, 0.4127],
         [   nan, 0.0936,    nan,    nan,    nan, 0.1198, 0.0139,    nan]]])
tensor([[[0.5594, 0.2751, 0.2542, 0.2797, 0.1849, 0.4302, 0.4302, 0.4302],
         [   nan,    nan, 0.4110,    nan, 0.2157,    nan, 0.3330, 0.4127],
         [0.0936, 0.0936, 0.0936, 0.0936, 0.0936, 0.1198, 0.0139, 0.0139],
         [0.5594, 0.4173, 0.3629, 0.2697, 0.2396, 0.2983, 0.3484, 0.4302],
         [0.0936, 0.0936, 0.0936, 0.0936, 0.0936, 0.1023, 0.0758, 0.0492]]])
tensor([[[0.5594, 0.4173, 0.3629, 0.2697, 0.2396, 0.2983, 0.3484, 0.4302],
         [0.4110, 0.4110, 0.4110, 0.4110, 0.3459, 0.2808, 0.2548, 0.3205],
         [0.0936, 0.0936, 0.0936, 0.0936, 0.0936, 0.1023, 0.0758, 0.0492]]])
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSLogReturn" class="doc_header"><code>class</code> <code>TSLogReturn</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L635" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSLogReturn</code>(<strong><code>lag</code></strong>=<em><code>1</code></em>, <strong><code>pad</code></strong>=<em><code>True</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Calculates log-return of batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a>. For positive values only</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">64</span><span class="p">,</span><span class="mi">128</span><span class="p">,</span><span class="mi">256</span><span class="p">])</span><span class="o">.</span><span class="n">float</span><span class="p">()</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">TSLogReturn</span><span class="p">(</span><span class="n">pad</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSAdd" class="doc_header"><code>class</code> <code>TSAdd</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L648" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSAdd</code>(<strong><code>add</code></strong>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Add a defined amount to each batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a>.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">float</span><span class="p">()</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">TSAdd</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="n">t</span><span class="p">),</span> <span class="n">TSTensor</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">float</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSClipByVar" class="doc_header"><code>class</code> <code>TSClipByVar</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L660" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSClipByVar</code>(<strong><code>var_min_max</code></strong>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Clip  batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a> by variable</p>
<p>Args:
    var_min_max: list of tuples containing variable index, min value (or None) and max value (or None)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="o">*</span> <span class="n">tensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="n">max_values</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">data</span>
<span class="n">max_values2</span> <span class="o">=</span> <span class="n">TSClipByVar</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">50</span><span class="p">)])(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">data</span>
<span class="n">test_le</span><span class="p">(</span><span class="n">max_values2</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">test_ge</span><span class="p">(</span><span class="n">max_values2</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">test_le</span><span class="p">(</span><span class="n">max_values2</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">50</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSDropVars" class="doc_header"><code>class</code> <code>TSDropVars</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L677" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSDropVars</code>(<strong><code>drop_vars</code></strong>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Drops selected variable from the input</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSDropVars</span><span class="p">(</span><span class="mi">2</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">enc_t</span><span class="p">)</span>
<span class="n">enc_t</span><span class="o">.</span><span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>tensor([[[ 0,  1,  2,  3],
         [ 4,  5,  6,  7]],

        [[12, 13, 14, 15],
         [16, 17, 18, 19]]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="sklearn-API-transforms">sklearn API transforms<a class="anchor-link" href="#sklearn-API-transforms"> </a></h1>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSShrinkDataFrame" class="doc_header"><code>class</code> <code>TSShrinkDataFrame</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L694" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSShrinkDataFrame</code>(<strong><code>columns</code></strong>=<em><code>None</code></em>, <strong><code>skip</code></strong>=<em><code>[]</code></em>, <strong><code>obj2cat</code></strong>=<em><code>True</code></em>, <strong><code>int2uint</code></strong>=<em><code>False</code></em>, <strong><code>verbose</code></strong>=<em><code>True</code></em>) :: <code>BaseEstimator</code></p>
</blockquote>
<p>Base class for all estimators in scikit-learn.</p>
<h2 id="Notes">Notes<a class="anchor-link" href="#Notes"> </a></h2><p>All estimators should specify all the parameters that can be set
at the class level in their <code>__init__</code> as explicit keyword
arguments (no <code>*args</code> or <code>**kwargs</code>).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;ints64&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;floats64&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">TSShrinkDataFrame</span><span class="p">()</span>
<span class="n">tfm</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">tfm</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;ints64&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="s2">&quot;int8&quot;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;floats64&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="s2">&quot;float32&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Memory usage of dataframe is 0.000274658203125 MB
Memory usage of dataframe after reduction 0.0001697540283203125 MB
Reduced by 38.19444444444444 % 
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSOneHotEncoder" class="doc_header"><code>class</code> <code>TSOneHotEncoder</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L732" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSOneHotEncoder</code>(<strong><code>columns</code></strong>=<em><code>None</code></em>, <strong><code>drop</code></strong>=<em><code>True</code></em>, <strong><code>add_na</code></strong>=<em><code>True</code></em>, <strong><code>dtype</code></strong>=<em><code>int64</code></em>) :: <code>BaseEstimator</code></p>
</blockquote>
<p>Base class for all estimators in scikit-learn.</p>
<h2 id="Notes">Notes<a class="anchor-link" href="#Notes"> </a></h2><p>All estimators should specify all the parameters that can be set
at the class level in their <code>__init__</code> as explicit keyword
arguments (no <code>*args</code> or <code>**kwargs</code>).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">unique_cols</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">TSOneHotEncoder</span><span class="p">()</span>
<span class="n">tfm</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">tfm</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">unique_cols</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSCategoricalEncoder" class="doc_header"><code>class</code> <code>TSCategoricalEncoder</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L766" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSCategoricalEncoder</code>(<strong><code>columns</code></strong>=<em><code>None</code></em>, <strong><code>add_na</code></strong>=<em><code>True</code></em>) :: <code>BaseEstimator</code></p>
</blockquote>
<p>Base class for all estimators in scikit-learn.</p>
<h2 id="Notes">Notes<a class="anchor-link" href="#Notes"> </a></h2><p>All estimators should specify all the parameters that can be set
at the class level in their <code>__init__</code> as explicit keyword
arguments (no <code>*args</code> or <code>**kwargs</code>).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Stateful transforms like TSCategoricalEncoder can easily be serialized.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">joblib</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">alphabet</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">100</span><span class="p">)]</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ALPHABET</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span><span class="p">)]</span>
<span class="n">a_unique</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="n">b_unique</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">TSCategoricalEncoder</span><span class="p">()</span>
<span class="n">tfm</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">joblib</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">tfm</span><span class="p">,</span> <span class="s2">&quot;data/TSCategoricalEncoder.joblib&quot;</span><span class="p">)</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">joblib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;data/TSCategoricalEncoder.joblib&quot;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">tfm</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">a_unique</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">b_unique</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSDateTimeEncoder" class="doc_header"><code>class</code> <code>TSDateTimeEncoder</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L796" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSDateTimeEncoder</code>(<strong><code>datetime_columns</code></strong>=<em><code>None</code></em>, <strong><code>prefix</code></strong>=<em><code>None</code></em>, <strong><code>drop</code></strong>=<em><code>True</code></em>, <strong><code>time</code></strong>=<em><code>False</code></em>, <strong><code>attr</code></strong>=<em><code>['Year', 'Month', 'Week', 'Day', 'Dayofweek', 'Dayofyear', 'Is_month_end', 'Is_month_start', 'Is_quarter_end', 'Is_quarter_start', 'Is_year_end', 'Is_year_start']</code></em>) :: <code>BaseEstimator</code></p>
</blockquote>
<p>Base class for all estimators in scikit-learn.</p>
<h2 id="Notes">Notes<a class="anchor-link" href="#Notes"> </a></h2><p>All estimators should specify all the parameters that can be set
at the class level in their <code>__init__</code> as explicit keyword
arguments (no <code>*args</code> or <code>**kwargs</code>).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;D&quot;</span><span class="p">)</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">TSDateTimeEncoder</span><span class="p">()</span>
<span class="n">joblib</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">tfm</span><span class="p">,</span> <span class="s2">&quot;data/TSDateTimeEncoder.joblib&quot;</span><span class="p">)</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">joblib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;data/TSDateTimeEncoder.joblib&quot;</span><span class="p">)</span>
<span class="n">tfm</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>_Year</th>
      <th>_Month</th>
      <th>_Week</th>
      <th>_Day</th>
      <th>_Dayofweek</th>
      <th>_Dayofyear</th>
      <th>_Is_month_end</th>
      <th>_Is_month_start</th>
      <th>_Is_quarter_end</th>
      <th>_Is_quarter_start</th>
      <th>_Is_year_end</th>
      <th>_Is_year_start</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2022</td>
      <td>4</td>
      <td>16</td>
      <td>24</td>
      <td>6</td>
      <td>114</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2022</td>
      <td>4</td>
      <td>17</td>
      <td>25</td>
      <td>0</td>
      <td>115</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div></div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSMissingnessEncoder" class="doc_header"><code>class</code> <code>TSMissingnessEncoder</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L826" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSMissingnessEncoder</code>(<strong><code>columns</code></strong>=<em><code>None</code></em>) :: <code>BaseEstimator</code></p>
</blockquote>
<p>Base class for all estimators in scikit-learn.</p>
<h2 id="Notes">Notes<a class="anchor-link" href="#Notes"> </a></h2><p>All estimators should specify all the parameters that can be set
at the class level in their <code>__init__</code> as explicit keyword
arguments (no <code>*args</code> or <code>**kwargs</code>).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">data</span><span class="p">[</span><span class="n">data</span> <span class="o">&gt;</span> <span class="mf">.8</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">])</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">TSMissingnessEncoder</span><span class="p">()</span>
<span class="n">tfm</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">joblib</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">tfm</span><span class="p">,</span> <span class="s2">&quot;data/TSMissingnessEncoder.joblib&quot;</span><span class="p">)</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">joblib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;data/TSMissingnessEncoder.joblib&quot;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">tfm</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>c</th>
      <th>a_missing</th>
      <th>b_missing</th>
      <th>c_missing</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>NaN</td>
      <td>0.314655</td>
      <td>0.553780</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.089504</td>
      <td>0.744916</td>
      <td>0.226286</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.175588</td>
      <td>NaN</td>
      <td>0.118623</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>NaN</td>
      <td>0.040522</td>
      <td>NaN</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.681880</td>
      <td>0.150720</td>
      <td>0.757341</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0.043018</td>
      <td>0.042606</td>
      <td>0.606810</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0.761553</td>
      <td>0.371071</td>
      <td>0.654246</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.206835</td>
      <td>0.563930</td>
      <td>0.261639</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>8</th>
      <td>NaN</td>
      <td>0.603724</td>
      <td>0.533231</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>9</th>
      <td>NaN</td>
      <td>0.160812</td>
      <td>0.468053</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="y-transforms">y transforms<a class="anchor-link" href="#y-transforms"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Preprocessor" class="doc_header"><code>class</code> <code>Preprocessor</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L848" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Preprocessor</code>(<strong><code>preprocessor</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">tsai.data.validation</span> <span class="kn">import</span> <span class="n">TimeSplitter</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocessor</span><span class="p">(</span><span class="n">StandardScaler</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocessor</span><span class="p">(</span><span class="n">RobustScaler</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="mf">.5</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocessor</span><span class="p">(</span><span class="n">Normalizer</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABAYAAABKCAYAAAAoj1bdAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjUuMSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/YYfK9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAQGklEQVR4nO3dfZDV1X3H8c9nd5GHoujKCsJq14DBxY0LrgFNCRLMEDU+1Ad8Ap8SYsfJNKmmkbTNqEGcpJ1MY1rTjs/QaqkW0KpjqzYi+DChCrqRCAihJGB2ZcnuikgIe9lv/7i/TW7W3YXFu3v33vt+zTDc3+937jnfHxwOe7/3nPNzRAgAAAAAABSnklwHAAAAAAAAcofEAAAAAAAARYzEAAAAAAAARYzEAAAAAAAARYzEAAAAAAAARYzEAAAAAAAARYzEAAAgb9l+0fa85PUc2899jLqqbIftsuT4v2xfm6U4P2t7Y8bxVtufz0bdSX0/sz0jW/UBAIDiQmIAAJBTtqfZftX2+7abbb9i+9O9rSciHomIWRn1hu3xhxpXRJwTEYsPVO5g2omIlyJiwqHG0qm9RbYXdqr/5Ih4MRv1AwCA4lOW6wAAAMXL9hGSnpZ0o6THJB0m6bOSfpvLuLLJdllEpHIdBwAAQHeYMQAAyKVPSlJELImI/RHxm4h4LiJ+Kkm2r0tmENydzCjYYPusripKyr6cvF6VnK63vdv25V2UL7X9fds7bW+R9MVO1zOXKYy3vTKJYaftR7trx/YM29ttz7fdKOmhjnOdQvi07bdtt9h+yPaQzveREUskMdwgaY6kW5L2nkqu/25pgu3Btu+y/avk1122ByfXOmL7hu0dthtsX3/AvyUAAFDQSAwAAHLpHUn7bS+2fY7to7ooM1XSzyWNlHSbpOW2y3uqNCKmJy9rI2J4RDzaRbGvSDpP0mRJp0m6tIcq75D0nKSjJFVK+scDtDNaUrmkP5Z0Qzd1zpH0BUnjlE6QfLune0rau1fSI5L+Lmnv/C6K/Y2k0yVNklQraUqnukdLGiFprKQvS/pRN3/uAACgSJAYAADkTETskjRNUki6T1KT7Sdtj8ootkPSXRHRlnzw3qhO3+4fosuSerdFRLOk7/ZQtk3pD/ljImJvRLzcQ1lJapd0W0T8NiJ+002ZuzPavlPSlb29gW7MkbQgInZERJOk70i6OuN6W3K9LSKekbRbUlb2PwAAAPmJxAAAIKciYn1EXBcRlZJqJI2RdFdGkXcjIjKOf5GU+bjGSNrWqd7u3CLJkv43eQLAlw5Qd1NE7D1Amc5tZ+OelNSTeS+d6/51pz0P9kganqW2AQBAHiIxAAAYMCJig6RFSicIOoy17Yzj4yX9KgvNNUg6rlO93cXVGBFfiYgxkv5M0j8d4EkE0cO1Dp3b7rinDyUN67hge3Qv6/6V0rMbuqobAADgI0gMAAByxvZJyUZ4lcnxcUpPqf9JRrFjJH3N9iDbsyVVS3rmIKp/T9Inerj+WFJvZbLG/ls9xDm7I0ZJLUp/OG8/yHa689Wk7XKl9wXo2J+gXtLJticlGxLe3ul9B2pviaRv266wPVLSrZIePoT4AABAkSAxAADIpQ+U3lxwte0PlU4IrJP0jYwyqyWdKGmn0mvxL42IXx9E3bdLWmy71fZlXVy/T9KzSn8QXytpeQ91fTqJcbekJyV9PSK2HGQ73fk3pTc03KL05ooLJSki3pG0QNL/SNokqfN+Bg9Impi090QX9S6U9Lqkn0p6K7m3hb2ICwAAFBn/4bJNAAAGDtvXSZoXEdNyHQsAAEChYsYAAAAAAABFjMQAAAAAAABFjKUEAAAAAAAUMWYMAAAAAABQxEgMAAAAAABQxMr6olJ7ZEhVfVE1AAAAkLeGVa/PdQjAx7Zn/Z6dEVGR6ziQPX2SGEgnBV7vm6oBAACAPHXSw3W5DgH42NbWrf1FrmNAdrGUAAAAAACAIkZiAAAAAACAIkZiAAAAAACAItZHewwAAAAAADBwrVmz5piysrL7JdWosL80b5e0LpVKzaurq9vRVQESAwAAAACAolNWVnb/6NGjqysqKlpKSkoi1/H0lfb2djc1NU1sbGy8X9IFXZUp5KwIAAAAAADdqamoqNhVyEkBSSopKYmKior3lZ4Z0XWZfowHAAAAAICBoqTQkwIdkvvs9vM/SwkAAAAAAOhnjY2NpTNmzJggSTt37hxUUlIS5eXlKUl688031w8ZMqTbpMWqVauGPfjgg0cvWrRoWzZiOWBiwPaDks6TtCMiup16AAAAAABAvrJVl836IrSmp+ujR4/ev2HDhrcl6eabbx4zfPjw/QsWLHiv43pbW5sGDRrU5XunT5++Z/r06XuyFevBLCVYJOnsbDUIAAAAAAA+6pJLLqm66qqrjj/llFNOuvHGGytXrFgxbNKkSSdVV1dPnDx58kn19fWDJenpp58+/HOf+9x4KZ1UmD17dtWUKVMmVFZWfmrhwoXH9LbdA84YiIhVtqt6fUcAAAAAAKBXGhoaDlu7du2GsrIyNTc3l7z22msbBg0apCeeeOLwW265pfLZZ5/9eef3bN68ecirr766sbW1tbS6urrmm9/8ZtPgwYMPev+ErO0xYPsGSTekj47PVrUAAAAAABSNiy++uKWsLP1Rvbm5ufTyyy8/YevWrUNsR1tbm7t6z6xZs1qHDh0aQ4cOTZWXl7dt3769bNy4cW0H22bWnkoQEfdGxGkRcZpUka1qAQAAAAAoGsOHD2/veD1//vyxZ5555gebNm362VNPPbV53759XX6Gz5wdUFpaqlQq1WUCoTs8rhAAAAAAgAFo165dpZWVlfsk6Z577hnZV+2QGAAAAAAAYACaP39+4+23315ZXV09MZVK9Vk7juh5PwLbSyTNkDRS0nuSbouIB3p+z2khvZ6tGAEAAICCcOqarD4NDciJtXVr16SXkOe3+vr6rbW1tTtzHUd/qa+vH1lbW1vV1bWDeSrBlVmPCAAAAAAADAgsJQAAAAAAoIiRGAAAAAAAoIiRGAAAAAAAoIiRGAAAAAAAoIiRGAAAAAAAoIiRGAAAAAAAoJ9NnTr1k8uWLTsi89yCBQuOmTNnzvFdlZ8yZcqEVatWDZOkM888c/zOnTtLO5e5+eabx9x6662jehvLAR9XCAAAAABAoatbW1eXzfrWnLpmTU/XZ8+e3bxkyZLySy65ZFfHuWXLlpV/73vf236guleuXLk5GzF2YMYAAAAAAAD97Oqrr2554YUXRuzdu9eStHHjxsN27Ngx6OGHHy6vqampHj9+/Mk33XTTmK7eO3bs2E81NDSUSdL8+fNHV1VV1dTV1U3YtGnT4EOJpY9mDKzZLXlj39QN9JuRknbmOgggC+jLKAT0YxSEtXX0ZRSECbkOoBCMGjVqf21t7YdLly4dMXfu3NbFixeXn3/++S133HFHw6hRo/anUil95jOfmbB69eqhU6dO/U1Xdbz00kvDHn/88fK33nrr7ba2Nk2aNGni5MmT9/Q2lr5aSrAxIk7ro7qBfmH7dfoxCgF9GYWAfoxCQV9GIbD9eq5jKBSXXXZZ86OPPnrU3LlzW5cvX15+3333bV28eHH5okWLRqZSKTc1NQ2qr68f0l1iYMWKFcPPPffc1sMPP7xdkmbNmtV6KHGwlAAAAAAAgBy46qqrWl955ZUjXn755WF79+4tqaioSN19992jVq5c+c4777zz9syZM9/fu3dvn39uJzEAAAAAAEAOjBgxov2MM874YN68eVUXXXRRc0tLS+nQoUPby8vL92/btq3sxRdfHNHT+2fOnLn7mWeeOXL37t1uaWkpef755488lDj6ainBvX1UL9Cf6McoFPRlFAL6MQoFfRmFgH6cRVdccUXzNddcM27JkiVbJk+evLempmbPuHHjao499th9dXV1u3t677Rp0/ZcdNFFzTU1NScfffTRbaeccsqHhxKDI+LQogcAAAAAIE/V19dvra2tLZrNQOvr60fW1tZWdXWNpQQAAAAAABSxrCYGbJ9te6Ptzba/lc26gWyyfZztFbbftv0z219Pzpfbft72puT3o5Lztv0PSd/+qe1Tc3sHwB+yXWr7DdtPJ8cn2F6d9NlHbR+WnB+cHG9OrlflNHAgg+0jbS+1vcH2ettnMC4j39i+KfnZYp3tJbaHMCYjH9h+0PYO2+syzvV6DLZ9bVJ+k+1rc3Ev6L2sJQZsl0r6kaRzJE2UdKXtidmqH8iylKRvRMRESadL+mrSX78l6ccRcaKkHyfHUrpfn5j8ukHSP/d/yECPvi5pfcbx30r6QUSMl9Qi6cvJ+S9LaknO/yApBwwUP5T03xFxkqRapfs04zLyhu2xkr4m6bSIqJFUKukKMSYjPyySdHanc70ag22XS7pN0lRJUyTd1pFMwMCWzRkDUyRtjogtEbFP0r9LujCL9QNZExENEbE2ef2B0j98jlW6zy5Oii2W9KfJ6wsl/Uuk/UTSkbaP7d+oga7ZrpT0RUn3J8eWNFPS0qRI577c0ceXSjorKQ/klO0RkqZLekCSImJfRLSKcRn5p0zSUNtlkoZJahBjMvJARKyS1NzpdG/H4C9Iej4imiOiRdLz+miyYSBpb29vL4p/c8l9tnd3PZuJgbGStmUcb0/OAQNaMm1vsqTVkkZFRENyqVHSqOQ1/RsD2V2SbtHvB/ujJbVGRCo5zuyvv+vLyfX3k/JArp0gqUnSQ8mymPtt/5EYl5FHIuJdSd+X9EulEwLvS1ojxmTkr96Owfk2Nq9ramoaUejJgfb2djc1NY2QtK67Mn31uEIgL9geLmmZpL+IiF2ZSfqICNs8tgMDmu3zJO2IiDW2Z+Q4HODjKJN0qqQ/j4jVtn+o309ZlcS4jIEvmTJ9odKJrlZJ/6GB/W0pcNAKcQxOpVLzGhsb729sbKxRYW/M3y5pXSqVmtddgWwmBt6VdFzGcWVyDhiQbA9SOinwSEQsT06/Z/vYiGhIpkPtSM7TvzFQ/YmkC2yfK2mIpCOUXqd9pO2y5BuozP7a0Ze3J9NcR0j6df+HDXzEdknbI2J1crxU6cQA4zLyyecl/V9ENEmS7eVKj9OMychXvR2D35U0o9P5F/shzkNSV1e3Q9IFuY5jIMhmVuQ1SScmu64epvRGK09msX4ga5L1ew9IWh8Rf59x6UlJHbunXivpPzPOX5PswHq6pPczplUBORMRfxURlRFRpfS4+0JEzJG0QtKlSbHOfbmjj1+alC+o7D/yU0Q0Stpme0Jy6ixJb4txGfnll5JOtz0s+Vmjox8zJiNf9XYMflbSLNtHJTNoZiXnMMA5m2NP8o3VXUrvwPpgRNyZtcqBLLI9TdJLkt7S79dl/7XS+ww8Jul4Sb+QdFlENCf/ud+t9HTAPZKuj4jX+z1woAfJUoK/jIjzbH9C6U1gyyW9IWluRPzW9hBJ/6r0vhrNkq6IiC05Chn4A7YnKb2J5mGStki6XukvMRiXkTdsf0fS5Uo/AekNSfOUXmPNmIwBzfYSpb/tHynpPaWfLvCEejkG2/6S0j9XS9KdEfFQP94GDlFWEwMAAAAAACC/FPIGCwAAAAAA4ABIDAAAAAAAUMRIDAAAAAAAUMRIDAAAAAAAUMRIDAAAAAAAUMRIDAAAAAAAUMRIDAAAAAAAUMRIDAAAAAAAUMT+HxJ+c9saeK3fAAAAAElFTkSuQmCC
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocessor</span><span class="p">(</span><span class="n">BoxCox</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXAAAAD4CAYAAAD1jb0+AAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjUuMSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/YYfK9AAAACXBIWXMAAAsTAAALEwEAmpwYAAASx0lEQVR4nO3df7BcdXnH8fcDRMIkGQjhNqaEcKMydCDUgDFgEaWiFNIK4tiOtCOh4kQHmZHB2gk606L2DygVnc5UOhEioUP80SqQsaEaKTOKg7EJBAigDTBxSCaQEH7LYAk8/WPPxcuye3fv3b27+715v2Z27tnzY8+Ts5vPPfe7z56NzESSVJ4D+l2AJGliDHBJKpQBLkmFMsAlqVAGuCQV6qBe7uyII47I4eHhXu5Skoq3efPmJzNzqH5+TwN8eHiYTZs29XKXklS8iPh1o/kOoUhSoQxwSSqUAS5JherpGLg0Xi+//DI7duzgpZde6ncpXTF9+nTmz5/PtGnT+l2KpgADXANtx44dzJo1i+HhYSKi3+V0JDPZu3cvO3bsYOHChf0uR1OAQygaaC+99BJz5swpPrwBIoI5c+ZMmb8m1H8tAzwipkfELyLi3oh4ICK+WM1fGBEbI+LhiPhORLxp8svV/mgqhPeIqfRvUf+1cwb+W+B9mfl2YDFwVkScAlwFfDUz3wY8DVw0aVVKkt6g5Rh41i4Y/kJ1d1p1S+B9wF9W89cAVwDXdr9E6XeGV/5nVx9v+5V/2pXHWbZsGWvXruWwww7ryuNJ7WhrDDwiDoyILcBuYAPwCPBMZu6rVtkBHNlk2xURsSkiNu3Zs6cLJQ+oKw7tdwXqg8zk1VdfZf369Ya3eq6tAM/MVzJzMTAfWAr8Qbs7yMxVmbkkM5cMDb3ho/zSwLvmmmtYtGgRixYt4mtf+xrbt2/n2GOP5YILLmDRokU89thjDA8P8+STT/a7VO1nxtVGmJnPRMQdwLuAwyLioOosfD6wczIKlPpp8+bNfPOb32Tjxo1kJieffDLvfe972bZtG2vWrOGUU07pd4naj7XThTIUEYdV04cAHwAeAu4APlKtthy4dZJqlPrmzjvv5LzzzmPGjBnMnDmTD3/4w/z0pz/l6KOPNrzVd+2cgc8D1kTEgdQC/7uZ+YOIeBD4dkT8A3APcP0k1ikNlBkzZvS7BKn1GXhm3peZJ2bmH2bmosz8UjX/0cxcmplvy8w/z8zfTn65Um+ddtpp3HLLLbz44ov85je/4eabb+a0007rd1kS4EfpVZhutf2166STTuLCCy9k6dKlAHziE59g9uzZPa1BasYAl1q47LLLuOyyy143b+vWra+7v3379h5WJNV4LRRJKpQBLkmFMsAlqVAGuCQVygCXpEIZ4JJUKNsIVZZuX/XximfHXPzMM8+wdu1aLr74YgA+97nPsX79epYtW8bVV1/d3VoKVn+Z31736++vDHBpDM888wxf//rXXwvwVatW8dRTT3HggQf2uTLJAJfGtHLlSh555BEWL17M0NAQL7zwAu94xzu4/PLLue222zjkkEO455572L17N6tXr+bGG2/krrvu4uSTT+aGG27od/ma4gxwaQxXXnklW7duZcuWLQDMnDnztenbbruNp59+mrvuuot169Zxzjnn8LOf/YzrrruOd77znWzZsoXFixf3rXZNfb6JKXXggx/8IBHBCSecwNy5cznhhBM44IADOP744/14vSadAS514OCDDwbggAMOeG165P6+ffuabSZ1hUMok+2KQ5t3OowsG2sd9dWsWbN4/vnn+12GOjRVu2QMcJWlx7/o5syZw6mnnsqiRYs4++yze7pvqRUDXGph7dq1r02P7v0e3WUyPDz8ukvM2oGiXnAMXJIKZYBLUqEMcA28zOx3CV0zlf4t6j8DXANt+vTp7N27d0oEX2ayd+9epk+f3u9SNEX4JmYJ9uM2w/nz57Njxw727NnT71K6Yvr06cyfP7+n+yypha6kWlvpxb/FANdAmzZtGgsXLux3GdJAcghFkgplgEtSoVoGeEQcFRF3RMSDEfFARHymmn9FROyMiC3VbdnklytJGtHOGPg+4LOZeXdEzAI2R8SGatlXM/OfJq88SVIzLQM8M3cBu6rp5yPiIeDIyS5MkjS2cXWhRMQwcCKwETgVuCQiLgA2UTtLf7rBNiuAFQALFizotN7WRr4zsZttd/txG99UNugta/2ob9CPiV6v7TcxI2Im8D3g0sx8DrgWeCuwmNoZ+lcabZeZqzJzSWYuGRoa6rxiSRLQZoBHxDRq4X1TZn4fIDOfyMxXMvNV4BvA0skrU5JUr50ulACuBx7KzGtGzZ83arXzgK3120qSJk87Y+CnAh8D7o+ILdW8zwPnR8RiIIHtwCcnoT5JUhPt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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">beta</span><span class="p">(</span><span class="mf">.5</span><span class="p">,</span> <span class="mf">.5</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocessor</span><span class="p">(</span><span class="n">YeoJohnshon</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">beta</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">.5</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocessor</span><span class="p">(</span><span class="n">Quantile</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">,</span> <span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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+eUnnnbaaadcd9111StWrBgxZcqUU2praydPnTr1lMbGxqGS9Oijjx557rnnTpSSpMKcOXNqpk2bNqm6uvqdCxcuPO5g293vioGIWGW75qCvCAAAAAAAHJSmpqYj1q5du6GiokKtra1lzz///IYhQ4booYceOvLGG2+sfvzxx3+R+57NmzcPe+655za2t7eX19bW1n3hC19oGTp06AHvn5C3PQZsXyvp2uToxHyFBQAAAACgZHzsYx9rq6hIPqq3traWX3rppSdt2bJlmO3o6Ohwd++ZPXt2+/Dhw2P48OGZysrKjm3btlVMmDCh40DbzNtTCSLizog4IyLOkKryFRYAAAAAgJIxcuTIzq7X8+fPH3/OOee8tWnTppcfeeSRzXv37u32M3z26oDy8nJlMpluEwg94XGFAAAAAAAMQDt37iyvrq7eK0nf+c53RvdVOyQGAAAAAAAYgObPn998yy23VNfW1k7OZDJ91o4jet+PwPYSSTMljZb0hqSbI+Ke3t9zRkgv5KuPAAAAQFE4fU1en4YGFMTahrVrklvIB7fGxsYt9fX1Owrdj/7S2Ng4ur6+vqa7cwfyVIKP571HAAAAAABgQOBWAgAAAAAAShiJAQAAAAAAShiJAQAAAAAAShiJAQAAAAAAShiJAQAAAAAAShiJAQAAAAAA+tn06dPfsWzZsqOyyxYsWHDc3LlzT+yu/rRp0yatWrVqhCSdc845E3fs2FGeW+eGG24Yd9NNN4052L7s93GFAAAAAAAUu4a1DQ35jLfm9DVrejs/Z86c1iVLllRedNFFO7vKli1bVnnbbbdt21/slStXbs5HH7uwYgAAAAAAgH525ZVXtj355JOj9uzZY0nauHHjEdu3bx9y3333VdbV1dVOnDjx1Ouvv35cd+8dP378O5uamiokaf78+WNramrqGhoaJm3atGnoofSlj1YMrNkleWPfxAb6zWhJOwrdCSAPGMsoBoxjFIW1DYxlFIVJhe5AMRgzZsy++vr6t5cuXTrqiiuuaF+8eHHl+eef33brrbc2jRkzZl8mk9G73/3uSatXrx4+ffr033UX4+mnnx7xgx/8oPKll156paOjQ1OmTJk8derU3Qfbl766lWBjRJzRR7GBfmH7BcYxigFjGcWAcYxiwVhGMbD9QqH7UCwuueSS1gceeOCYK664on358uWVd91115bF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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAX0AAAD4CAYAAAAAczaOAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjUuMSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/YYfK9AAAACXBIWXMAAAsTAAALEwEAmpwYAAATTklEQVR4nO3df4xeV33n8fdn88tLlsWJM02ztsN4i8squD82O3WyQlkorkISEAZU2ESrxqFhrVaBpTUSOCA12lZdhVIRoD+QLOzgSJBslhJiiXSpN8ACfyQwZiHkBzSjYPC4CXF+kN0lCiHlu38818vEGXs88/wYz5z3SxrNveece++5Gvvz3Ofc+5wnVYUkqQ3/ZLE7IEkaHUNfkhpi6EtSQwx9SWqIoS9JDTl5sTtwLGeddVaNj48vdjckaUnZt2/fY1U1NlvdCR364+PjTE5OLnY3JGlJSfL9o9U5vCNJDTH0Jakhc4Z+kl1JHk1y7yx1705SSc7q1pPko0mmktyT5PwZbbckebD72TLY05AkHY/jGdP/BPCXwE0zC5OsBS4GfjCj+FJgffdzAfAx4IIkZwLXARNAAfuS7KmqJ/s9AUlaqJ/+9KdMT0/zzDPPLHZXFmTFihWsWbOGU0455bi3mTP0q+rLScZnqboBeA9w+4yyzcBN1ZvQ564kK5OcA7wa2FtVTwAk2QtcAtx83D2VpAGbnp7mxS9+MePj4yRZ7O7MS1Xx+OOPMz09zbp16457uwWN6SfZDBysqm8dUbUaODBjfborO1r5bPvemmQyyeShQ4cW0j1JOi7PPPMMq1atWnKBD5CEVatWzftdyrxDP8mLgPcBfzTfbY9HVe2oqomqmhgbm/UxU0kamKUY+IctpO8LudL/JWAd8K0k+4E1wDeS/CJwEFg7o+2aruxo5ZKkEZr3h7Oq6tvALxxe74J/oqoeS7IHeEeSW+jdyH2qqh5O8nngvyQ5o9vsYuDavnsvSQM0vv1zA93f/utfN7B9XXbZZXzqU59i5cqVfe1nztBPcjO9G7FnJZkGrquqnUdpfgdwGTAFPA28DaCqnkjyJ8DXu3Z/fPim7jAd7Q84yD+EJA1TVVFV3HHHHQPZ35zDO1V1RVWdU1WnVNWaIwO/qsar6rFuuarqmqr6par6laqanNFuV1W9rPu5cSC9l6Rl4EMf+hAbNmxgw4YNfPjDH2b//v28/OUv58orr2TDhg0cOHCA8fFxHnvssb6PdULPvSNJy92+ffu48cYbufvuu6kqLrjgAl71qlfx4IMPsnv3bi688MKBHs/Ql6RF9NWvfpU3velNnH766QC8+c1v5itf+QovfelLBx744Nw7knRCOvwiMGiGviQtoosuuojPfvazPP300/z4xz/mtttu46KLLhra8RzekaTOYjzZd/7553PVVVexceNGAN7+9rdzxhlnzLHVwhn6krTItm3bxrZt255Xdu+9z5/YeP/+/QM5lsM7ktQQQ1+SGmLoS2pabyb4pWkhfTf0JTVrxYoVPP7440sy+A/Pp79ixYp5beeNXEnNWrNmDdPT0yzV7+44/M1Z82HoS2rWKaecMq9vnVoOHN6RpIYY+pLUEENfkhpi6EtSQwx9SWqIoS9JDTH0Jakhhr4kNcTQl6SGzBn6SXYleTTJvTPKPpjkO0nuSXJbkpUz6q5NMpXku0leO6P8kq5sKsn2gZ+JJGlOx3Ol/wngkiPK9gIbqupXgb8HrgVIch5wOfCKbpu/TnJSkpOAvwIuBc4DrujaSpJGaM7Qr6ovA08cUfZ3VfVct3oXcHjGn83ALVX1k6r6HjAFbOx+pqrqoap6FrilaytJGqFBjOn/LvC33fJq4MCMuumu7GjlL5Bka5LJJJNLdeY7STpR9RX6Sd4PPAd8cjDdgaraUVUTVTUxNjY2qN1KkuhjauUkVwGvBzbVz7+B4CCwdkazNV0ZxyiXJI3Igq70k1wCvAd4Q1U9PaNqD3B5ktOSrAPWA18Dvg6sT7Iuyan0bvbu6a/rkqT5mvNKP8nNwKuBs5JMA9fRe1rnNGBvEoC7qur3quq+JLcC99Mb9rmmqv6x2887gM8DJwG7quq+IZyPJOkY5gz9qrpiluKdx2j/p8CfzlJ+B3DHvHonSRooP5ErSQ0x9CWpIYa+JDXE0Jekhhj6ktQQQ1+SGmLoS1JDDH1JaoihL0kNMfQlqSGGviQ1xNCXpIYY+pLUEENfkhpi6EtSQwx9SWqIoS9JDTH0Jakhhr4kNcTQl6SGGPqS1JA5Qz/JriSPJrl3RtmZSfYmebD7fUZXniQfTTKV5J4k58/YZkvX/sEkW4ZzOpKkYzmeK/1PAJccUbYduLOq1gN3dusAlwLru5+twMeg9yIBXAdcAGwErjv8QiFJGp05Q7+qvgw8cUTxZmB3t7wbeOOM8puq5y5gZZJzgNcCe6vqiap6EtjLC19IJElDttAx/bOr6uFu+RHg7G55NXBgRrvpruxo5S+QZGuSySSThw4dWmD3JEmz6ftGblUVUAPoy+H97aiqiaqaGBsbG9RuJUksPPR/2A3b0P1+tCs/CKyd0W5NV3a0cknSCC009PcAh5/A2QLcPqP8yu4pnguBp7phoM8DFyc5o7uBe3FXJkkaoZPnapDkZuDVwFlJpuk9hXM9cGuSq4HvA2/tmt8BXAZMAU8DbwOoqieS/Anw9a7dH1fVkTeHJUlDNmfoV9UVR6naNEvbAq45yn52Abvm1TtJ0kD5iVxJaoihL0kNMfQlqSGGviQ1xNCXpIYY+pLUEENfkhpi6EtSQwx9SWqIoS9JDTH0Jakhhr4kNcTQl6SGGPqS1BBDX5IaYuhLUkMMfUlqiKEvSQ0x9CWpIYa+JDXE0JekhvQV+kn+MMl9Se5NcnOSFUnWJbk7yVSS/5rk1K7tad36VFc/PpAzkCQdtwWHfpLVwH8CJqpqA3AScDnwAeCGqnoZ8CRwdbfJ1cCTXfkNXTtJ0gj1O7xzMvBPk5wMvAh4GHgN8Omufjfwxm55c7dOV78pSfo8viRpHhYc+lV1EPhz4Af0wv4pYB/wo6p6rms2DazullcDB7ptn+varzpyv0m2JplMMnno0KGFdk+SNIt+hnfOoHf1vg74F8DpwCX9dqiqdlTVRFVNjI2N9bs7SdIM/Qzv/Bbwvao6VFU/BT4DvBJY2Q33AKwBDnbLB4G1AF39S4DH+zi+JGme+gn9HwAXJnlRNza/Cbgf+CLw212bLcDt3fKebp2u/gtVVX0cX5I0T/2M6d9N74bsN4Bvd/vaAbwX2JZkit6Y/c5uk53Aqq58G7C9j35Lkhbg5LmbHF1VXQdcd0TxQ8DGWdo+A7yln+NJkvrjJ3IlqSGGviQ1xNCXpIYY+pLUEENfkhpi6EtSQwx9SWqIoS9JDTH0Jakhhr4kNcTQl6SGGPqS1BBDX5IaYuhLUkMMfUlqiKEvSQ0x9CWpIYa+JDXE0Jekhhj6ktQQQ1+SGtJX6CdZmeTTSb6T5IEk/zbJmUn2Jnmw+31G1zZJPppkKsk9Sc4fzClIko5Xv1f6HwH+e1X9K+DXgAeA7cCdVbUeuLNbB7gUWN/9bAU+1uexJUnztODQT/IS4N8BOwGq6tmq+hGwGdjdNdsNvLFb3gzcVD13ASuTnLPQ40uS5q+fK/11wCHgxiT/K8nHk5wOnF1VD3dtHgHO7pZXAwdmbD/dlUmSRuTkPrc9H3hnVd2d5CP8fCgHgKqqJDWfnSbZSm/4h3PPPbeP7h3d+PbPzVq+//rXDeV4knSi6OdKfxqYrqq7u/VP03sR+OHhYZvu96Nd/UFg7Yzt13Rlz1NVO6pqoqomxsbG+uieJOlICw79qnoEOJDk5V3RJuB+YA+wpSvbAtzeLe8Bruye4rkQeGrGMJAkaQT6Gd4BeCfwySSnAg8Bb6P3QnJrkquB7wNv7dreAVwGTAFPd20lSSPUV+hX1TeBiVmqNs3StoBr+jmeJKk/fiJXkhpi6EtSQwx9SWqIoS9JDTH0Jakhhr4kNcTQl6SGGPqS1BBDX5IaYuhLUkMMfUlqiKEvSQ0x9CWpIYa+JDXE0Jekhhj6ktQQQ1+SGmLoS1JDDH1JaoihL0kNMfQlqSEn97uDJCcBk8DBqnp9knXALcAqYB/wO1X1bJLTgJuAfwM8Dvz7qtrf7/EHaXz752Yt33/960bcE0kajkFc6b8LeGDG+geAG6rqZcCTwNVd+dXAk135DV07SdII9RX6SdYArwM+3q0HeA3w6a7JbuCN3fLmbp2uflPXXpI0Iv1e6X8YeA/ws259FfCjqnquW58GVnfLq4EDAF39U117SdKILDj0k7weeLSq9g2wPyTZmmQyyeShQ4cGuWtJal4/V/qvBN6QZD+9G7evAT4CrExy+AbxGuBgt3wQWAvQ1b+E3g3d56mqHVU1UVUTY2NjfXRPknSkBYd+VV1bVWuqahy4HPhCVf0H4IvAb3fNtgC3d8t7unW6+i9UVS30+JKk+RvGc/rvBbYlmaI3Zr+zK98JrOrKtwHbh3BsSdIx9P2cPkBVfQn4Urf8ELBxljbPAG8ZxPFGzef3JS0XfiJXkhpi6EtSQwx9SWqIoS9JDRnIjdxWeYNX0lLjlb4kNcTQl6SGGPqS1BDH9EfIewCSFpuhPwRHC3dJWmwO70hSQwx9SWqIoS9JDXFM/wTgDV5Jo+KVviQ1xNCXpIYY+pLUEENfkhpi6EtSQ3x65wTmUz2SBs3QX2bm+0LhC4vUFkN/CXJuH0kLteAx/SRrk3wxyf1J7kvyrq78zCR7kzzY/T6jK0+SjyaZSnJPkvMHdRKSpOPTz43c54B3V9V5wIXANUnOA7YDd1bVeuDObh3gUmB997MV+Fgfx5YkLcCCh3eq6mHg4W75/yR5AFgNbAZe3TXbDXwJeG9XflNVFXBXkpVJzun2oyFzSEgSDGhMP8k48K+Bu4GzZwT5I8DZ3fJq4MCMzaa7sueFfpKt9N4JcO655w6iexogb/xKS1vfoZ/knwF/A/xBVf3vJP+/rqoqSc1nf1W1A9gBMDExMa9tNTjzfWfgi4G0NPT14awkp9AL/E9W1We64h8mOaerPwd4tCs/CKydsfmarkySNCILvtJP75J+J/BAVX1oRtUeYAtwfff79hnl70hyC3AB8JTj+cuf7wCkE0s/wzuvBH4H+HaSb3Zl76MX9rcmuRr4PvDWru4O4DJgCngaeFsfx5YkLUA/T+98FchRqjfN0r6AaxZ6PLXtRHzHcCL2SZqLn8jVknasG86Gr/RChr6WLa/EpRcy9LUoFvPDYvM99nxfJAY16d2g+iPNZOhLc1jqn2Z2CEwzGfrSMrGQF6dhD4E5xHbi8ZuzJKkhXulLS8xSH27S4jL0pRFZSmE97JvR8+U3wg1Oep+ZOjFNTEzU5OTkgrdfSv/JJC2uYb8gjPIprST7qmpitjrH9CWpIQ7vSBLtjAx4pS9JDTH0Jakhhr4kNcTQl6SGGPqS1BBDX5IaYuhLUkMMfUlqiKEvSQ0x9CWpISMP/SSXJPlukqkk20d9fElq2UhDP8lJwF8BlwLnAVckOW+UfZCklo36Sn8jMFVVD1XVs8AtwOYR90GSmjXqWTZXAwdmrE8DF8xskGQrsLVb/b9JvtvH8c4CHutj+6WotXNu7XzBc25CPtDXOb/0aBUn3NTKVbUD2DGIfSWZPNoXCSxXrZ1za+cLnnMrhnXOox7eOQisnbG+piuTJI3AqEP/68D6JOuSnApcDuwZcR8kqVkjHd6pqueSvAP4PHASsKuq7hviIQcyTLTEtHbOrZ0veM6tGMo5n9BfjC5JGiw/kStJDTH0Jakhyy70k7wlyX1JfpZk4oi6a7vpH76b5LWL1cdhSvLrSe5K8s0kk0k2LnafRiHJO5N8p/vb/9li92dUkrw7SSU5a7H7MmxJPtj9je9JcluSlYvdp2EZ5nQ1yy70gXuBNwNfnlnYTfdwOfAK4BLgr7tpIZabPwP+c1X9OvBH3fqyluQ36X2y+9eq6hXAny9yl0YiyVrgYuAHi92XEdkLbKiqXwX+Hrh2kfszFMOermbZhX5VPVBVs32KdzNwS1X9pKq+B0zRmxZiuSngn3fLLwH+YRH7Miq/D1xfVT8BqKpHF7k/o3ID8B56f/Nlr6r+rqqe61bvovc5n+VoqNPVLLvQP4bZpoBYvUh9GaY/AD6Y5AC9K95leTV0hF8GLkpyd5L/meQ3FrtDw5ZkM3Cwqr612H1ZJL8L/O1id2JIhppVJ9w0DMcjyf8AfnGWqvdX1e2j7s+oHev8gU3AH1bV3yR5K7AT+K1R9m8Y5jjnk4EzgQuB3wBuTfIva4k/jzzHOb+P3tDOsnI8/7eTvB94DvjkKPu2XCzJ0K+qhYTYspkC4ljnn+Qm4F3d6n8DPj6STg3ZHOf8+8BnupD/WpKf0Zug69Co+jcMRzvnJL8CrAO+lQR6/5a/kWRjVT0ywi4O3Fz/t5NcBbwe2LTUX9SPYahZ1dLwzh7g8iSnJVkHrAe+tsh9GoZ/AF7VLb8GeHAR+zIqnwV+EyDJLwOnsoxnZKyqb1fVL1TVeFWN03v7f/5SD/y5JLmE3j2MN1TV04vdnyEa6nQ1S/JK/1iSvAn4C2AM+FySb1bVa6vqviS3AvfTe2t4TVX942L2dUj+I/CRJCcDz/DzaaqXs13AriT3As8CW5bxVWDL/hI4DdjbvcO5q6p+b3G7NHjDnq7GaRgkqSEtDe9IUvMMfUlqiKEvSQ0x9CWpIYa+JDXE0Jekhhj6ktSQ/wcSI5nHIoz/jwAAAABJRU5ErkJggg==
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXcAAAD4CAYAAAAXUaZHAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjUuMSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/YYfK9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAThElEQVR4nO3df5CdVX3H8feXEAkKNRC2KZON3XTM6CDUCCvGodNaUh0SkPCHIraVSNPZzkhbrVYNOlOnM/0jjh1Rp5VOBqhJKyqiTDIWrDTidOoAdYGICFoDDWZ3gKwhQZCmmvrtH/csXuJu9t7d+yM5+37N7NzznOc8e7/PQD55cu5znxOZiSSpLif0uwBJUucZ7pJUIcNdkipkuEtShQx3SarQif0uAOCMM87IoaGhfpchSceVe++990eZOTDVvmMi3IeGhhgdHe13GZJ0XImIx6bb57SMJFXIcJekChnuklShY2LOXZI66Wc/+xljY2McOnSo36V0xKJFixgcHGThwoUtH2O4S6rO2NgYp556KkNDQ0REv8uZk8xk//79jI2NsWLFipaPc1pGUnUOHTrEkiVLjvtgB4gIlixZ0va/Qgx3SVWqIdgnzeZcDHdJqpBz7pKqN7TpXzr6+/Zsvvio+w8ePMhNN93Eu971LgDe//73c9ttt7Fu3To+9rGPdbSW6RjuErP7wz/TH3DNXwcPHuTTn/708+G+ZcsWnnrqKRYsWNCzGgx3SeqwTZs28cgjj7Bq1SoGBgZ49tlnOe+887jmmmu4/fbbOfnkk7n//vvZt28fN954I9u2beOuu+7ida97HZ/5zGc6UoPhLkkdtnnzZh588EF27doFwCmnnPJ8+/bbb+fAgQPcdddd7Nixg0svvZRvfvObXH/99bz2ta9l165drFq1as41tBTuEfEXwB8DCXwHuAo4E/g8sAS4F3hHZv40Ik4CtgHnAfuBt2XmnjlXKh1jppvKcbpGM3nzm99MRHDOOeewdOlSzjnnHABe9apXsWfPno6E+4x3y0TEMuDPgeHMPBtYAFwBfBS4NjNfDhwANpZDNgIHSv+1ZZwkqTjppJMAOOGEE55vT24fPny4I+/R6q2QJwInR8SJwIuBx4ELgVvK/q3AZaW9vmxT9q+Jmm44laQZnHrqqTzzzDN9rWHGaZnMHI+IvwV+CPwP8DUa0zAHM3Pyr5gxYFlpLwP2lmMPR8TTNKZuftT8eyNiBBgBeNnLXjb3M5GkafR6qmzJkiVccMEFnH322axdu7an7z1pxnCPiNNoXI2vAA4CXwQumusbZ+YWYAvA8PBwzvX3SdKx5Kabbnq+3Xxve/PdMENDQzz44INT7purVqZlfg/478ycyMyfAV8GLgAWl2kagEFgvLTHgeUAZf9LaXywKknqkVbC/YfA6oh4cZk7XwM8BNwJvKWM2QBsL+0dZZuy/+uZ6ZW5JPXQjOGemffQ+GD0Phq3QZ5AYzrlg8B7I2I3jTn1G8ohNwBLSv97gU1dqFuSjqqma8rZnEtL97ln5keAjxzR/Shw/hRjDwFvbbsSSeqQRYsWsX///ioe+zv5PPdFixa1dZzfUJVUncHBQcbGxpiYmOh3KR0xuRJTOwx3SdVZuHBhW6sW1cjnuUtShQx3SaqQ0zKaVzq9aIN0rPLKXZIqZLhLUoUMd0mqkOEuSRUy3CWpQoa7JFXIcJekChnuklQhv8Qkddh0X5Tq9VJvmt+8cpekChnuklShVhbIfgXwhaau3wD+CthW+oeAPcDlmXmgLMX3SWAd8Bzwzsy8r7NlS0fnM2Q037WyzN73M3NVZq4CzqMR2LfSWD5vZ2auBHbyi+X01gIry88IcF0X6pYkHUW70zJrgEcy8zFgPbC19G8FLivt9cC2bLgbWBwRZ3aiWElSa9oN9yuAz5X20sx8vLSfAJaW9jJgb9MxY6XvBSJiJCJGI2K0lqWwJOlY0XK4R8SLgEuBLx65LxtLc7e1PHdmbsnM4cwcHhgYaOdQSdIM2rlyXwvcl5lPlu0nJ6dbyuu+0j8OLG86brD0SZJ6pJ1wfzu/mJIB2AFsKO0NwPam/iujYTXwdNP0jSSpB1r6hmpEvAR4I/AnTd2bgZsjYiPwGHB56b+Nxm2Qu2ncWXNVx6qVJLWkpXDPzJ8AS47o20/j7pkjxyZwdUeqkyTNit9QlaQKGe6SVCHDXZIqZLhLUoUMd0mqkOEuSRUy3CWpQoa7JFXIcJekChnuklQhw12SKtTSs2WkY5VrpUpTM9ylHpnuL6I9my/ucSWaD5yWkaQKGe6SVCHDXZIq1FK4R8TiiLglIr4XEQ9HxOsj4vSIuCMiflBeTytjIyI+FRG7I+KBiDi3u6cgSTpSq1funwS+mpmvBF4NPAxsAnZm5kpgZ9mGxkLaK8vPCHBdRyuWJM1oxnCPiJcCvw3cAJCZP83Mg8B6YGsZthW4rLTXA9uy4W5gcUSc2eG6JUlH0cqV+wpgAvjHiLg/Iq4vC2YvzczHy5gngKWlvQzY23T8WOl7gYgYiYjRiBidmJiY/RlIkn5JK+F+InAucF1mvgb4Cb+YggGeXxQ723njzNySmcOZOTwwMNDOoZKkGbQS7mPAWGbeU7ZvoRH2T05Ot5TXfWX/OLC86fjB0idJ6pEZwz0znwD2RsQrStca4CFgB7Ch9G0Atpf2DuDKctfMauDppukbSVIPtPr4gT8DPhsRLwIeBa6i8RfDzRGxEXgMuLyMvQ1YB+wGnitjJUk91FK4Z+YuYHiKXWumGJvA1XMrS5I0F35DVZIqZLhLUoUMd0mqkOEuSRUy3CWpQoa7JFXIcJekChnuklQhF8jWcWG6xaUlTc0rd0mqkFfuUp9N96+SPZsv7nElqolX7pJUIcNdkipkuEtShQx3SaqQ4S5JFWop3CNiT0R8JyJ2RcRo6Ts9Iu6IiB+U19NKf0TEpyJid0Q8EBHndvMEJEm/rJ0r99/NzFWZObki0yZgZ2auBHaWbYC1wMryMwJc16liJUmtmcu0zHpga2lvBS5r6t+WDXcDiyPizDm8jySpTa2GewJfi4h7I2Kk9C3NzMdL+wlgaWkvA/Y2HTtW+l4gIkYiYjQiRicmJmZRuiRpOq1+Q/W3MnM8In4VuCMivte8MzMzIrKdN87MLcAWgOHh4baOlSQdXUtX7pk5Xl73AbcC5wNPTk63lNd9Zfg4sLzp8MHSJ0nqkRnDPSJeEhGnTraBNwEPAjuADWXYBmB7ae8Arix3zawGnm6avpEk9UAr0zJLgVsjYnL8TZn51Yj4FnBzRGwEHgMuL+NvA9YBu4HngKs6XrUk6ahmDPfMfBR49RT9+4E1U/QncHVHqpMkzYrfUJWkChnuklQhw12SKmS4S1KFDHdJqpDhLkkVcoFs6RjlwtmaC6/cJalChrskVchwl6QKGe6SVCHDXZIqZLhLUoUMd0mqkOEuSRUy3CWpQi1/QzUiFgCjwHhmXhIRK4DPA0uAe4F3ZOZPI+IkYBtwHrAfeFtm7ul45arSdN/KlNSedq7c3w083LT9UeDazHw5cADYWPo3AgdK/7VlnCSph1oK94gYBC4Gri/bAVwI3FKGbAUuK+31ZZuyf00ZL0nqkVav3D8BfAD4edleAhzMzMNlewxYVtrLgL0AZf/TZbwkqUdmDPeIuATYl5n3dvKNI2IkIkYjYnRiYqKTv1qS5r1WrtwvAC6NiD00PkC9EPgksDgiJj+QHQTGS3scWA5Q9r+UxgerL5CZWzJzODOHBwYG5nQSkqQXmjHcM/OazBzMzCHgCuDrmfkHwJ3AW8qwDcD20t5Rtin7v56Z2dGqJUlHNZf73D8IvDcidtOYU7+h9N8ALCn97wU2za1ESVK72lqJKTO/AXyjtB8Fzp9izCHgrR2oTZI0S35DVZIqZLhLUoUMd0mqkOEuSRUy3CWpQoa7JFXIcJekChnuklQhw12SKmS4S1KF2nr8gKT+m24pwj2bL+5xJTqWGe7qC9dKlbrLaRlJqpDhLkkVMtwlqUKGuyRVqJUFshdFxH9GxLcj4rsR8delf0VE3BMRuyPiCxHxotJ/UtneXfYPdfkcJElHaOXK/X+BCzPz1cAq4KKIWA18FLg2M18OHAA2lvEbgQOl/9oyTpLUQ60skJ2Z+WzZXFh+ErgQuKX0bwUuK+31ZZuyf01ERKcKliTNrKU594hYEBG7gH3AHcAjwMHMPFyGjAHLSnsZsBeg7H+axgLakqQeaSncM/P/MnMVMEhjUexXzvWNI2IkIkYjYnRiYmKuv06S1KStu2Uy8yBwJ/B6YHFETH7DdRAYL+1xYDlA2f9SYP8Uv2tLZg5n5vDAwMDsqpckTamVu2UGImJxaZ8MvBF4mEbIv6UM2wBsL+0dZZuy/+uZmR2sWZI0g1aeLXMmsDUiFtD4y+DmzPxKRDwEfD4i/ga4H7ihjL8B+KeI2A08BVzRhbolSUcxY7hn5gPAa6bof5TG/PuR/YeAt3akOknSrPgNVUmqkOEuSRUy3CWpQoa7JFXIcJekChnuklQh11CVKuHC2WrmlbskVchwl6QKGe6SVCHDXZIq5Aeq6qrpPuST1F1euUtShQx3SaqQ4S5JFTLcJalCrSyztzwi7oyIhyLiuxHx7tJ/ekTcERE/KK+nlf6IiE9FxO6IeCAizu32SUiSXqiVK/fDwPsy8yxgNXB1RJwFbAJ2ZuZKYGfZBlgLrCw/I8B1Ha9aknRUM4Z7Zj6emfeV9jM0FsdeBqwHtpZhW4HLSns9sC0b7gYWR8SZnS5ckjS9tubcI2KIxnqq9wBLM/PxsusJYGlpLwP2Nh02VvokST3ScrhHxCnAl4D3ZOaPm/dlZgLZzhtHxEhEjEbE6MTERDuHSpJm0FK4R8RCGsH+2cz8cul+cnK6pbzuK/3jwPKmwwdL3wtk5pbMHM7M4YGBgdnWL0maQit3ywRwA/BwZn68adcOYENpbwC2N/VfWe6aWQ083TR9I0nqgVaeLXMB8A7gOxGxq/R9CNgM3BwRG4HHgMvLvtuAdcBu4Dngqk4WLEma2Yzhnpn/AcQ0u9dMMT6Bq+dYl6QOcYWm+clvqEpShQx3SaqQz3NXR/jcdunY4pW7JFXIcJekChnuklQhw12SKmS4S1KFDHdJqpDhLkkVMtwlqUKGuyRVyHCXpAoZ7pJUIZ8to7b4DBnp+GC4S/OUz3mvm9MyklShVtZQvTEi9kXEg019p0fEHRHxg/J6WumPiPhUROyOiAci4txuFi9JmlorV+6fAS46om8TsDMzVwI7yzbAWmBl+RkBrutMmZKkdswY7pn578BTR3SvB7aW9lbgsqb+bdlwN7A4Is7sUK2SpBbNds59aWY+XtpPAEtLexmwt2ncWOn7JRExEhGjETE6MTExyzIkSVOZ8weqmZlAzuK4LZk5nJnDAwMDcy1DktRktuH+5OR0S3ndV/rHgeVN4wZLnySph2Yb7juADaW9Adje1H9luWtmNfB00/SNJKlHZvwSU0R8DngDcEZEjAEfATYDN0fERuAx4PIy/DZgHbAbeA64qgs1S5JmMGO4Z+bbp9m1ZoqxCVw916IkSXPj4wc0JZ8hIx3fDHdJL+AzZ+rgs2UkqUKGuyRVyHCXpAoZ7pJUIcNdkirk3TLzmLc7qh1H+//FO2mOPV65S1KFDHdJqpDhLkkVcs5d0pz5rdZjj+E+D/jBqTT/OC0jSRXyyr0iXqFLmmS4S+oa5+L7pyvhHhEXAZ8EFgDXZ+bmbryPpOOTod99HQ/3iFgA/D3wRmAM+FZE7MjMhzr9XvOV0y+SZtKNK/fzgd2Z+ShARHweWA9UF+7tXn10arxUq3b/n/dKf3rdCPdlwN6m7THgdUcOiogRYKRsPhsR3+9CLb12BvCj+Gh7B7U7/hhxBvCjfhfRA/PlPOE4PNc5/Nk57s51Gr8+3Y6+faCamVuALf16/26IiNHMHO53Hb0wX851vpwneK616cZ97uPA8qbtwdInSeqRboT7t4CVEbEiIl4EXAHs6ML7SJKm0fFpmcw8HBF/CvwrjVshb8zM73b6fY5RVU0zzWC+nOt8OU/wXKsSmdnvGiRJHeazZSSpQoa7JFXIcO+SiHhfRGREnNHvWrolIj4WEd+LiAci4taIWNzvmjopIi6KiO9HxO6I2NTverolIpZHxJ0R8VBEfDci3t3vmropIhZExP0R8ZV+19JNhnsXRMRy4E3AD/tdS5fdAZydmb8J/BdwTZ/r6Zimx2isBc4C3h4RZ/W3qq45DLwvM88CVgNXV3yuAO8GHu53Ed1muHfHtcAHgKo/rc7Mr2Xm4bJ5N43vNNTi+cdoZOZPgcnHaFQnMx/PzPtK+xkawbesv1V1R0QMAhcD1/e7lm4z3DssItYD45n57X7X0mN/BNze7yI6aKrHaFQZeM0iYgh4DXBPn0vplk/QuPD6eZ/r6Dqf5z4LEfFvwK9NsevDwIdoTMlU4Wjnmpnby5gP0/in/Wd7WZs6KyJOAb4EvCczf9zvejotIi4B9mXmvRHxhj6X03WG+yxk5u9N1R8R5wArgG9HBDSmKe6LiPMz84keltgx053rpIh4J3AJsCbr+tLEvHqMRkQspBHsn83ML/e7ni65ALg0ItYBi4BfiYh/zsw/7HNdXeGXmLooIvYAw5lZw9PnfklZlOXjwO9k5kS/6+mkiDiRxofEa2iE+reA36/x29bRuBLZCjyVme/pczk9Ua7c/zIzL+lzKV3jnLvm4u+AU4E7ImJXRPxDvwvqlPJB8eRjNB4Gbq4x2IsLgHcAF5b/jrvK1a2OY165S1KFvHKXpAoZ7pJUIcNdkipkuEtShQx3SaqQ4S5JFTLcJalC/w+Brl3TqwKTJQAAAABJRU5ErkJggg==
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="ReLabeler" class="doc_header"><code>ReLabeler</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L890" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>ReLabeler</code>(<strong><code>cm</code></strong>)</p>
</blockquote>
<p>Changes the labels in a dataset based on a dictionary (class mapping)
Args:
    cm = class mapping dictionary</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">vals</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span><span class="s1">&#39;e&#39;</span><span class="p">}</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">vals</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">20</span><span class="p">)])</span>
<span class="n">labeler</span> <span class="o">=</span> <span class="n">ReLabeler</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="n">e</span><span class="o">=</span><span class="s1">&#39;z&#39;</span><span class="p">))</span>
<span class="n">y_new</span> <span class="o">=</span> <span class="n">labeler</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">y_new</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">y</span><span class="p">,</span> <span class="n">y_new</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(array([&#39;b&#39;, &#39;c&#39;, &#39;b&#39;, &#39;d&#39;, &#39;d&#39;, &#39;b&#39;, &#39;b&#39;, &#39;a&#39;, &#39;c&#39;, &#39;e&#39;, &#39;c&#39;, &#39;b&#39;, &#39;a&#39;,
        &#39;c&#39;, &#39;e&#39;, &#39;c&#39;, &#39;a&#39;, &#39;c&#39;, &#39;e&#39;, &#39;e&#39;], dtype=&#39;&lt;U1&#39;),
 array([&#39;x&#39;, &#39;y&#39;, &#39;x&#39;, &#39;z&#39;, &#39;z&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;, &#39;y&#39;, &#39;x&#39;, &#39;x&#39;,
        &#39;y&#39;, &#39;z&#39;, &#39;y&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;, &#39;z&#39;], dtype=&#39;&lt;U1&#39;))</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

