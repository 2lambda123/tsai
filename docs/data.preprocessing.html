---

title: Data preprocessing


keywords: fastai
sidebar: home_sidebar

summary: "Functions used to preprocess time series (both X and y)."
description: "Functions used to preprocess time series (both X and y)."
nb_path: "nbs/003_data.preprocessing.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/003_data.preprocessing.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dsid</span> <span class="o">=</span> <span class="s1">&#39;NATOPS&#39;</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">splits</span> <span class="o">=</span> <span class="n">get_UCR_data</span><span class="p">(</span><span class="n">dsid</span><span class="p">,</span> <span class="n">return_split</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">tfms</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Categorize</span><span class="p">()]</span>
<span class="n">dsets</span> <span class="o">=</span> <span class="n">TSDatasets</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">tfms</span><span class="o">=</span><span class="n">tfms</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">splits</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ToNumpyCategory" class="doc_header"><code>class</code> <code>ToNumpyCategory</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L13" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ToNumpyCategory</code>(<strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Categorize a numpy batch</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">ToNumpyCategory</span><span class="p">()</span>
<span class="n">y_cat</span> <span class="o">=</span> <span class="n">t</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">y_cat</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([3, 2, 2, 3, 2, 4, 0, 5, 2, 1])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">tensor</span><span class="p">(</span><span class="n">y_cat</span><span class="p">)),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">y_cat</span><span class="p">)),</span> <span class="n">y</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="OneHot" class="doc_header"><code>class</code> <code>OneHot</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L31" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>OneHot</code>(<strong><code>n_classes</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>One-hot encode/ decode a batch</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">oh_encoder</span> <span class="o">=</span> <span class="n">OneHot</span><span class="p">()</span>
<span class="n">y_cat</span> <span class="o">=</span> <span class="n">ToNumpyCategory</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">oht</span> <span class="o">=</span> <span class="n">oh_encoder</span><span class="p">(</span><span class="n">y_cat</span><span class="p">)</span>
<span class="n">oht</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([[0., 0., 0., 1., 0., 0.],
       [0., 0., 1., 0., 0., 0.],
       [0., 0., 1., 0., 0., 0.],
       [0., 0., 0., 1., 0., 0.],
       [0., 0., 1., 0., 0., 0.],
       [0., 0., 0., 0., 1., 0.],
       [1., 0., 0., 0., 0., 0.],
       [0., 0., 0., 0., 0., 1.],
       [0., 0., 1., 0., 0., 0.],
       [0., 1., 0., 0., 0., 0.]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_classes</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">n_samples</span> <span class="o">=</span> <span class="mi">100</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">,</span> <span class="p">(</span><span class="n">n_samples</span><span class="p">,))</span>
<span class="n">oh_encoder</span> <span class="o">=</span> <span class="n">OneHot</span><span class="p">()</span>
<span class="n">oht</span> <span class="o">=</span> <span class="n">oh_encoder</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">oht</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="p">(</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">oht</span><span class="p">,</span> <span class="n">dim</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span> <span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">oh_encoder</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">oht</span><span class="p">),</span> <span class="n">t</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_classes</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">n_samples</span> <span class="o">=</span> <span class="mi">100</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">,</span> <span class="p">(</span><span class="n">n_samples</span><span class="p">,))</span>
<span class="n">oh_encoder</span> <span class="o">=</span> <span class="n">OneHot</span><span class="p">()</span>
<span class="n">oha</span> <span class="o">=</span> <span class="n">oh_encoder</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">oha</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="p">(</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">oha</span><span class="p">,</span> <span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span> <span class="n">a</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">oh_encoder</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">oha</span><span class="p">),</span> <span class="n">a</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSStandardize" class="doc_header"><code>class</code> <code>TSStandardize</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L48" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSStandardize</code>(<strong><code>mean</code></strong>=<em><code>None</code></em>, <strong><code>std</code></strong>=<em><code>None</code></em>, <strong><code>by_sample</code></strong>=<em><code>False</code></em>, <strong><code>by_var</code></strong>=<em><code>False</code></em>, <strong><code>by_step</code></strong>=<em><code>False</code></em>, <strong><code>eps</code></strong>=<em><code>1e-08</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>) :: <code>Transform</code></p>
</blockquote>
<p>Standardizes batch of type <a href="/tsai/data.core.html#TSTensor"><code>TSTensor</code></a></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Tensor.mul_min" class="doc_header"><code>Tensor.mul_min</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L86" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Tensor.mul_min</code>(<strong><code>x</code></strong>:<code>NumpyTensor'&gt;)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="TSTensor.mul_min" class="doc_header"><code>TSTensor.mul_min</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L86" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>TSTensor.mul_min</code>(<strong><code>x</code></strong>:<code>NumpyTensor'&gt;)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="NumpyTensor.mul_min" class="doc_header"><code>NumpyTensor.mul_min</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L86" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>NumpyTensor.mul_min</code>(<strong><code>x</code></strong>:<code>NumpyTensor'&gt;)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Tensor.mul_max" class="doc_header"><code>Tensor.mul_max</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L95" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Tensor.mul_max</code>(<strong><code>x</code></strong>:<code>NumpyTensor'&gt;)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="TSTensor.mul_max" class="doc_header"><code>TSTensor.mul_max</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L95" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>TSTensor.mul_max</code>(<strong><code>x</code></strong>:<code>NumpyTensor'&gt;)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="NumpyTensor.mul_max" class="doc_header"><code>NumpyTensor.mul_max</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L95" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>NumpyTensor.mul_max</code>(<strong><code>x</code></strong>:<code>NumpyTensor'&gt;)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSNormalize" class="doc_header"><code>class</code> <code>TSNormalize</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L104" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSNormalize</code>(<strong><code>min</code></strong>=<em><code>None</code></em>, <strong><code>max</code></strong>=<em><code>None</code></em>, <strong><code>range</code></strong>=<em><code>(-1, 1)</code></em>, <strong><code>by_sample</code></strong>=<em><code>False</code></em>, <strong><code>by_var</code></strong>=<em><code>False</code></em>, <strong><code>by_step</code></strong>=<em><code>False</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>) :: <code>Transform</code></p>
</blockquote>
<p>Normalizes batch of type <a href="/tsai/data.core.html#TSTensor"><code>TSTensor</code></a></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span><span class="o">=</span><span class="p">[</span><span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_var</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>TSStandardize mean shape=(128, 1, 1), std shape=(128, 1, 1), by_sample=True, by_var=False, by_step=False

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)(</span><span class="n">xb</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>TSTensor(samples:128, vars:24, len:51)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span><span class="o">=</span><span class="p">[</span><span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_var</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">valid</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span><span class="o">=</span><span class="p">[</span><span class="n">TSNormalize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_var</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">valid</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSClipOutliers" class="doc_header"><code>class</code> <code>TSClipOutliers</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L143" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSClipOutliers</code>(<strong><code>min</code></strong>=<em><code>None</code></em>, <strong><code>max</code></strong>=<em><code>None</code></em>, <strong><code>by_sample</code></strong>=<em><code>False</code></em>, <strong><code>by_var</code></strong>=<em><code>False</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>) :: <code>Transform</code></p>
</blockquote>
<p>Clip outliers batch of type <a href="/tsai/data.core.html#TSTensor"><code>TSTensor</code></a> based on the IQR</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span><span class="o">=</span><span class="p">[</span><span class="n">TSClipOutliers</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">valid</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>TSClipOutliers min=-1, max=1

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSRobustScale" class="doc_header"><code>class</code> <code>TSRobustScale</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L180" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSRobustScale</code>(<strong><code>median</code></strong>=<em><code>None</code></em>, <strong><code>min</code></strong>=<em><code>None</code></em>, <strong><code>max</code></strong>=<em><code>None</code></em>, <strong><code>by_sample</code></strong>=<em><code>False</code></em>, <strong><code>by_var</code></strong>=<em><code>False</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>) :: <code>Transform</code></p>
</blockquote>
<p>This Scaler removes the median and scales the data according to the quantile range (defaults to IQR: Interquartile Range)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="n">clipped_xb</span> <span class="o">=</span> <span class="n">TSRobustScale</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="n">true</span><span class="p">)(</span><span class="n">xb</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">clipped_xb</span><span class="p">,</span> <span class="n">xb</span><span class="p">)</span>
<span class="n">clipped_xb</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">clipped_xb</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(-0.6101659536361694, 1.074243426322937, -2.605257034301758, 2.480226993560791)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSDiff" class="doc_header"><code>class</code> <code>TSDiff</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L219" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSDiff</code>(<strong><code>lag</code></strong>=<em><code>1</code></em>, <strong><code>pad</code></strong>=<em><code>True</code></em>) :: <code>Transform</code></p>
</blockquote>
<p>Differences batch of type <a href="/tsai/data.core.html#TSTensor"><code>TSTensor</code></a></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">TSDiff</span><span class="p">()(</span><span class="n">t</span><span class="p">)[</span><span class="o">...</span><span class="p">,</span> <span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">float</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">TSDiff</span><span class="p">(</span><span class="n">lag</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">float</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSLog" class="doc_header"><code>class</code> <code>TSLog</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L231" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSLog</code>(<strong><code>enc</code></strong>=<em><code>None</code></em>, <strong><code>dec</code></strong>=<em><code>None</code></em>, <strong><code>split_idx</code></strong>=<em><code>None</code></em>, <strong><code>order</code></strong>=<em><code>None</code></em>) :: <code>Transform</code></p>
</blockquote>
<p>Log transforms batch of type <a href="/tsai/data.core.html#TSTensor"><code>TSTensor</code></a>. For positive values only</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span> <span class="o">+</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">TSLog</span><span class="p">()(</span><span class="n">t</span><span class="p">),</span> <span class="n">t</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSLogReturn" class="doc_header"><code>class</code> <code>TSLogReturn</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L241" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSLogReturn</code>(<strong><code>lag</code></strong>=<em><code>1</code></em>, <strong><code>pad</code></strong>=<em><code>True</code></em>) :: <code>Transform</code></p>
</blockquote>
<p>Calculates log-return of batch of type <a href="/tsai/data.core.html#TSTensor"><code>TSTensor</code></a>. For positive values only</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">64</span><span class="p">,</span><span class="mi">128</span><span class="p">,</span><span class="mi">256</span><span class="p">])</span><span class="o">.</span><span class="n">float</span><span class="p">()</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">TSLogReturn</span><span class="p">(</span><span class="n">pad</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSAdd" class="doc_header"><code>class</code> <code>TSAdd</code><a href="https://github.com/timeseriesAI/tsai/tree/master/tsai/data/preprocessing.py#L253" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSAdd</code>(<strong><code>add</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Add a defined amount to each batch of type <a href="/tsai/data.core.html#TSTensor"><code>TSTensor</code></a>.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">float</span><span class="p">()</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">TSAdd</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="n">t</span><span class="p">),</span> <span class="n">TSTensor</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">float</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="y-transforms">y transforms<a class="anchor-link" href="#y-transforms"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="o">*</span>

<span class="k">class</span> <span class="nc">Preprocess</span><span class="p">():</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">preprocessor</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">preprocessor</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span> <span class="o">=</span> <span class="n">kwargs</span>
        
    <span class="k">def</span> <span class="nf">fit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span> 
        <span class="k">if</span> <span class="n">o</span><span class="o">.</span><span class="n">ndim</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> <span class="n">o</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_preprocessor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_preprocessor</span>
    
    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">o</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span> <span class="n">o</span> <span class="o">=</span> <span class="n">array</span><span class="p">([</span><span class="n">o</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">o_shape</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">shape</span>
        <span class="k">if</span> <span class="n">o</span><span class="o">.</span><span class="n">ndim</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> <span class="n">o</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fit_preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">,</span> <span class="s1">&#39;copy&#39;</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">*</span><span class="n">o_shape</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span> 
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">o</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">*</span><span class="n">o_shape</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">inverse_transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">o_shape</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">shape</span>
        <span class="k">if</span> <span class="n">o</span><span class="o">.</span><span class="n">ndim</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> <span class="n">o</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fit_preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">,</span> <span class="s1">&#39;copy&#39;</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="n">copy</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">*</span><span class="n">o_shape</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span> 
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">o</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">*</span><span class="n">o_shape</span><span class="p">)</span>
        
<span class="n">Normalizer</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">MinMaxScaler</span><span class="p">,</span> <span class="n">feature_range</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">BoxCox</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">PowerTransformer</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;box-cox&#39;</span><span class="p">)</span>
<span class="n">YeoJohnshon</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">PowerTransformer</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;yeo-johnson&#39;</span><span class="p">)</span>
<span class="n">Quantile</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">QuantileTransformer</span><span class="p">,</span> <span class="n">n_quantiles</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">output_distribution</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">tsai.data.validation</span> <span class="kn">import</span> <span class="n">TimeSplitter</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocess</span><span class="p">(</span><span class="n">StandardScaler</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocess</span><span class="p">(</span><span class="n">RobustScaler</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="o">.</span><span class="mi">5</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocess</span><span class="p">(</span><span class="n">Normalizer</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocess</span><span class="p">(</span><span class="n">BoxCox</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABAYAAABKCAYAAAAoj1bdAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjMuMiwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy8vihELAAAACXBIWXMAAAsTAAALEwEAmpwYAAAPiklEQVR4nO3df3TV9X3H8dcrCfJjKJoFSUl0sYKApifGIDBqEbGHqnU4ofjjgNOu1J3qWicewXY96hg9mzs9O3a13dGiwtRRnaDzRzt1DkFxwwk1BeWnSguVSDAgIqK55L0/7jc7tzEJBG+4ubnPxzk53O/3+/m+P+8Lb+O97/v9fq4jQgAAAAAAoDAV5ToBAAAAAACQOzQGAAAAAAAoYDQGAAAAAAAoYDQGAAAAAAAoYDQGAAAAAAAoYDQGAAAAAAAoYDQGAAB5y/YLtmclj2fYfvYzxKqyHbZLku1f2r46S3l+yfbGjO2ttr+cjdhJvNdtT8xWPAAAUFhoDAAAcsr2ObZftv2+7SbbK22f3dU4EfFQREzOiBu2hx1pXhFxYUQsOtS4w5knIl6MiBFHmkub+Rbant8m/hkR8UI24gMAgMJTkusEAACFy/Zxkp6S9C1Jj0g6RtKXJH2cy7yyyXZJRKRynQcAAEBHuGIAAJBLp0lSRCyOiIMR8VFEPBsRv5Yk29ckVxD8OLmiYIPt89sLlIx9KXm8Itldb3uf7cvbGV9s+4e2d9l+S9JX2xzPvE1hmO3lSQ67bD/c0Ty2J9rebnuu7QZJ97fua5PC2bbfsL3b9v22+7V9Hhm5RJLDtZJmSJqTzPdkcvz/b02w3df2nbbfSX7utN03Odaa2022d9reYfvrh/xXAgAAvRqNAQBALm2SdND2ItsX2j6hnTFjJb0lqUzSbZKW2i7tLGhETEge1kTEwIh4uJ1h35R0saRaSaMlfa2TkH8r6VlJJ0iqlPTjQ8xTLqlU0h9JuraDmDMkfUXSqUo3SL7f2XNK5rtH0kOS/iGZ70/aGfbXksZJOlNSjaQxbWKXSxokqULSNyT9pIO/dwAAUCBoDAAAciYi9ko6R1JI+pmkRttP2B6SMWynpDsjojl5471RbT7dP0KXJXG3RUSTpL/rZGyz0m/yh0bEgYh4qZOxktQi6baI+DgiPupgzF0Zc/9A0pVdfQIdmCFpXkTsjIhGSX8j6aqM483J8eaI+IWkfZKysv4BAADITzQGAAA5FRHrI+KaiKiUVC1pqKQ7M4b8LiIiY/s3yZjPaqikbW3idmSOJEt6JfkGgD8/ROzGiDhwiDFt587Gc1ISJ/O5tI39Xps1D/ZLGpiluQEAQB6iMQAA6DEiYoOkhUo3CFpV2HbG9smS3snCdDskndQmbkd5NUTENyNiqKS/kPTTQ3wTQXRyrFXbuVuf04eSBrQesF3exdjvKH11Q3uxAQAAPoXGAAAgZ2yPTBbCq0y2T1L6kvr/yRh2oqTv2O5je7qkUZJ+cRjh35X0+U6OP5LErUzusb+lkzynt+YoabfSb84PHuY8Hbk+mbtU0vckta5PUC/pDNtnJgsS3t7mvEPNt1jS920Ptl0m6VZJDx5BfgAAoEDQGAAA5NIHSi8uuMr2h0o3BNZJuiljzCpJwyXtUvpe/K9FxHuHEft2SYts77F9WTvHfybpGaXfiK+RtLSTWGcnOe6T9ISkGyLi7cOcpyP/qvSChm8lP/MlKSI2SZon6T8lbZbUdj2DeyWdnsz3eDtx50t6VdKvJa1Nntv8LuQFAAAKjH//tk0AAHoO29dImhUR5+Q6FwAAgN6KKwYAAAAAAChgNAYAAAAAAChg3EoAAAAAAEAB44oBAAAAAAAKGI0BAAAAAAAKWEl3BLXLQqrqjtAAAABAXhowan2uUwCyYv/6/bsiYnCu80D2dEtjIN0UeLV7QgMAAAB5aOSDdblOAciKNXVrfpPrHJBd3EoAAAAAAEABozEAAAAAAEABozEAAAAAAEAB66Y1BgAAAAAA6LlWr159YklJyQJJ1erdH5q3SFqXSqVm1dXV7WxvAI0BAAAAAEDBKSkpWVBeXj5q8ODBu4uKiiLX+XSXlpYWNzY2nt7Q0LBA0pT2xvTmrggAAAAAAB2pHjx48N7e3BSQpKKiohg8ePD7Sl8Z0f6Yo5gPAAAAAAA9RVFvbwq0Sp5nh+//uZUAAAAAAICjrKGhoXjixIkjJGnXrl19ioqKorS0NCVJr7322vp+/fp12LRYsWLFgPvuu+8PFy5cuC0buRyyMWD7PkkXS9oZER1eegAAAAAAQL6yVZfNeBFa3dnx8vLygxs2bHhDkmbPnj104MCBB+fNm/du6/Hm5mb16dOn3XMnTJiwf8KECfuzlevh3EqwUNIF2ZoQAAAAAAB82rRp06pmzZpVOXbs2NOuu+66ymXLlg2ora0dOWrUqNNra2tH1tfX95Wkp5566tjzzjtvmJRuKkyfPr1qzJgxIyorK78wf/78E7s67yGvGIiIFbaruvyMAAAAAABAl7z55pv9Vq5cuamkpERNTU1Fr7zyyoY+ffro8ccfP3bOnDmVzzzzzJttz9myZUu/l19+eeOePXuKR40aVX3zzTc39u3b97DXT8jaGgO2r5V0bXrr5GyFBQAAAACgYEydOnV3SUn6rXpTU1Px5ZdffsrWrVv72Y7m5ma3d87kyZP39O/fP/r3758qLS1t3r59e8mpp57afLhzZu1bCSLinogYHRGjpcHZCgsAAAAAQMEYOHBgS+vjuXPnVpx77rkfbN68+fUnn3xyyyeffNLue/jMqwOKi4uVSqXabSB0hK8rBAAAAACgB9q7d29xZWXlJ5J09913l3XXPDQGAAAAAADogebOndtw++23V5511lkjDx482G3zOKLz9QhsL5Y0UVKZpHcl3RYR93Z+zuiQXs1WjgAAAEDeO2t1Vr8JDciZNXVrVqdvIc9v9fX1W2tqanblOo+jpb6+vqympqaqvWOH860EV2Y9IwAAAAAA0CNwKwEAAAAAAAWMxgAAAAAAAAWMxgAAAAAAAAWMxgAAAAAAAAWMxgAAAAAAAAWMxgAAAAAAAEfZmDFjRixZsuS4zH3z5s07cebMmSd3NH7FihUDJOncc88dtmvXruK2Y2bPnj301ltvHdLVXA75dYUAAAAAAPR2dWvq6rIZb/VZq1d3dnz69OnvLV68uHTatGl7W/ctWbKk9I477th+qNjLly/fko0cW3HFAAAAAAAAR9lVV121+/nnnx/00UcfWZI2btx4zM6dO/s88MADpdXV1aOGDRt2xo033ji0vXMrKiq+sGPHjhJJmjt3bnlVVVX1+PHjT9u8eXPfI8mlm64YWL1P8sbuiQ0cNWWSduU6CSALqGX0BtQx8t6a9GeR1DJ6gxG5TqA3KC8vP1hTU/PhkiVLBs2cOXPPokWLSqdMmbJ73rx5O4YMGXIwlUpp/PjxI1atWtV/7NixH7UX48UXXxzw2GOPla5du/aN5uZmnXnmmafX1tbu72ou3XUrwcaIGN1NsYGjwvar1DF6A2oZvQF1jN6CWkZvYPvVXOfQW1x22WVNDz/88AkzZ87cs3Tp0tIFCxZsXbRoUenChQvLUqmUGxsb+9TX1/frqDGwbNmygRdddNGeY489tkWSJk+evOdI8uBWAgAAAAAAcmDGjBl7Vq5cedxLL7004MCBA0VlZWWpu+66a8jy5cs3bdq06Y1Jkya9f+DAgU7ft9v+zHnQGAAAAAAAIAcGDRrUMm7cuA9mzZpVNXXq1Kbdu3cX9+/fv6W0tPTgtm3bSl544YVBnZ0/adKkfU8//fTx+/bt8+7du4uee+65448kj+66leCebooLHE3UMXoLahm9AXWM3oJaRm9AHWfRFVdc0XT11Vefunjx4rdqa2sPVFdX7x8+fPgZJ5988sd1dXX7Ojv3nHPO2X/ppZc2VVdXn1FRUfHxmDFjOh3fEUfEkWUPAAAAAECeqq+v31pTU1Mwi4HW19eX1dTUVLV3jFsJAAAAAAAoYFltDNi+wPZG21ts35LN2EA22T7J9jLb622/bvuGZH+p7edsb07+PCHjnO8mtb3R9ldylz3wabaLbf/K9lPJNrWMvGL7eNuP2t6Q/G7+Y+oY+cj2jclri3W2F9vuRy0jH9i+z/ZO2+sy9nW5dm3X2V6bHPsnZ2NlPHS7rDUGbBdL+omkCyWdLulK26dnKz6QZSlJN0XEKEnjJF2f1Ostkp6PiOGSnk+2lRy7QtIZki6Q9NOk5oGe4gZJ6zO2qWXkmx9J+o+IGCmpRul6po6RV2xXSPqOpNERUS2pWOlapZaRDxYqXYeZjqR2/1nStZKGJz9tY6IHyuYVA2MkbYmItyLiE0k/l3RJFuMDWRMROyJiTfL4A6VfgFYoXbOLkmGLJP1p8vgSST+PiI8j4m1JW5SueSDnbFdK+qqkBRm7qWXkDdvHSZog6V5JiohPImKPqGPkpxJJ/W2XSBog6R1Ry8gDEbFCUlOb3V2qXdufk3RcRPx3pBez+5eMc3qilpaWloK4oiF5ni0dHc9mY6BC0raM7e3JPqBHs10lqVbSKklDImKHlG4eSDoxGUZ9oye7U9Ic/f4ve2oZ+eTzkhol3Z/cErPA9h+IOkaeiYjfSfqhpN9K2iHp/Yh4VtQy8ldXa7ciedx2f0+1rrGxcVBvbw60tLS4sbFxkKR1HY3J5tcVtveXyVceoEezPVDSEkl/FRF7O7kFivpGj2T7Ykk7I2K17YmHc0o7+6hl5FqJpLMkfTsiVtn+kZLLVTtAHaNHSu6/vkTSKZL2SPo32zM7O6WdfdQy8kFHtZtXNZ1KpWY1NDQsaGhoqFbvXpi/RdK6VCo1q6MB2WwMbJd0UsZ2pdKXTgE9ku0+SjcFHoqIpcnud21/LiJ2JJdC7Uz2U9/oqb4oaYrtiyT1k3Sc7QdFLSO/bJe0PSJWJduPKt0YoI6Rb74s6e2IaJQk20sljRe1jPzV1drdnjxuu79Hqqur2ylpSq7z6Amy2RX5X0nDbZ9i+xilF6N4IovxgaxJVke9V9L6iPjHjENPSLo6eXy1pH/P2H+F7b62T1F6IZVXjla+QEci4rsRURkRVUr/3v2viJgpahl5JCIaJG2zPSLZdb6kN0QdI//8VtI42wOS1xrnK72OEbWMfNWl2k1uN/jA9rjkv4E/yzgHPVjWrhiIiJTtv5T0jNIrsN4XEa9nKz6QZV+UdJWktbZfS/Z9T9LfS3rE9jeU/p/7dEmKiNdtP6L0C9WUpOsj4uBRzxo4fNQy8s23JT2UfLjwlqSvK/0BBnWMvJHcCvOopDVK1+avJN0jaaCoZfRwthdLmiipzPZ2SbfpyF5PfEvpbzjoL+mXyQ96OKcXiwQAAAAAAIWoNy+wAAAAAAAADoHGAAAAAAAABYzGAAAAAAAABYzGAAAAAAAABYzGAAAAAAAABYzGAAAAAAAABYzGAAAAAAAABYzGAAAAAAAABez/AG2Acz29qTlOAAAAAElFTkSuQmCC
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXAAAAD4CAYAAAD1jb0+AAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjMuMiwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy8vihELAAAACXBIWXMAAAsTAAALEwEAmpwYAAASTklEQVR4nO3df6zddX3H8ecbrJZBw49yqZ2lXDTEACWW5tqydSIb00A3BExMRhatGaYaJJHgzIomW43/4JholkxnFUq3UBcTBRrXbjJ0UQx2a5sLlBSGmCJXurZUkF9ho/jeH+d72eX0nHvOvefn5/b5SG7O93y/33O+737O6et+7+d8zucbmYkkqTzHDboASdLsGOCSVCgDXJIKZYBLUqEMcEkq1Jv6ebDTTz89R0dH+3lISSrerl27nsnMkfr1fQ3w0dFRdu7c2c9DSlLxIuLJRuvtQpGkQhngklQoA1ySCtXXPnBppl599VUmJiZ45ZVXBl1KV8yfP58lS5Ywb968QZeiOcAA11CbmJhgwYIFjI6OEhGDLqcjmcnhw4eZmJjg7LPPHnQ5mgPsQtFQe+WVV1i4cGHx4Q0QESxcuHDO/DWhwTPANfTmQnhPmkv/Fg2eAS5JhbIPXEUZXf/PXX2+fTf/UVeeZ82aNWzZsoVTTjmlK88ntcMAlzqQmWQm27ZtG3QpGrD6k4tunRxMxy4UqYVbb72VZcuWsWzZMr7yla+wb98+zj33XK677jpWrFjBU089xejoKM8888ygS9UxxjNwaRq7du1i06ZN7Nixg8xk1apVvPe97+Wxxx5j06ZNfPWrXx10iTqGGeDSNO6//36uvvpqTjzxRAA++MEP8uMf/5izzjqLiy66aMDV6VhnF4o0jWYX/Z4MdGmQDHBpGhdffDF33303L7/8Mi+99BJ33XUX73nPewZdlgTYhaLC9OOT/alWrFjBRz/6UVauXAnAxz72MU499dS+1iA1Y4BLLdx4443ceOONb1i3Z8+eN9zft29fHyuSauxCkaRCtQzwiJgfEf8REQ9GxCMR8flq/WkRcW9EPF7d+nelJPVRO2fg/wP8QWa+C1gOXBYRFwHrgfsy8xzgvuq+JKlPWgZ41rxY3Z1X/SRwJbC5Wr8ZuKoXBUqSGmurDzwijo+IceAgcG9m7gAWZeZ+gOr2jJ5VKUk6SlsBnpmvZeZyYAmwMiKWtXuAiFgXETsjYuehQ4dmWeYxasPJg65A0hCb0TDCzHwuIv4duAw4EBGLM3N/RCymdnbe6DEbgY0AY2Njjb/WJrWr27/UNvx62s3PPfccW7Zs4brrrgPgM5/5DNu2bWPNmjXccsst3a1FmqF2RqGMRMQp1fIJwB8CjwJbgbXVbmuBe3pUozQwzz333BsmrPr617/O7t27DW8NhXbOwBcDmyPieGqB/+3M/F5EPAB8OyKuBX4BfKiHdUoDsX79ep544gmWL1/OyMgIL730EqtWreKmm25i+/btnHDCCTz66KM8+eSTbNq0ic2bN/PAAw+watUq7rjjjkGXrzmuZYBn5kPAhQ3WHwYu7UVR0rC4+eab2bNnD+Pj4wCcdNJJry9v376dZ599lh/84Ads3bqVK664gp/85Cd885vf5N3vfjfj4+MsX758YLVr7vObmFIHrrjiCiKCCy64gEWLFnHBBRdw3HHHcf755/v1evWcc6FIHXjLW94CwHHHHff68uT9I0eODKqsvhvE5cTkGbg0rQULFvDCCy8MugypIc/AVZYWw/66beHChaxevZply5Zx+eWX9/XYUisGuNTCli1bXl+eOnxw6iiT0dHRN0wx6wgU9YNdKJJUKANckgplgGvoNbuwcInm0r9Fg2cfeDdtOLnvH7LNdfPnz+fw4cMsXLiQiBh0OR3JTA4fPsz8+fMHXcoxb+qwx5KHPBrgGmpLlixhYmKCuTKT5fz581myZMmgy9AcYYBrqM2bN4+zzz570GVIQ8k+cEkqlAEuSYUywCWpUPaBd2LqqJPJK8XMZiSKo1c0hJygavh5Bi5JhTLAJalQBrgkFcoAl6RCGeCSVCgDXJIKZYD3y4aT/3+oYbv7S9I0DHBJKpQBLkmFahngEXFmRPwwIvZGxCMR8alq/YaI+GVEjFc/a3pfriRpUjtfpT8CfDozd0fEAmBXRNxbbftyZv5N78qTJDXTMsAzcz+wv1p+ISL2Am/rdWGSpOnNaDKriBgFLgR2AKuB6yPiI8BOamfpzzZ4zDpgHcDSpUs7rffYMHUEyuuTZDnZVTfMlUtplWQuTYo1bP+Wtj/EjIiTgO8AN2Tm88DXgHcAy6mdoX+p0eMyc2NmjmXm2MjISOcVS5KANgM8IuZRC+87M/O7AJl5IDNfy8zfAN8AVvauTElSvXZGoQRwG7A3M2+dsn7xlN2uBvZ0vzxJUjPt9IGvBj4MPBwR49W6zwLXRMRyIIF9wMd7UJ8kqYl2RqHcD0SDTdu6X44kqV1z65JqzS5N5kiOog3bJ//DaLrRNb1qv/rnVf/5VXpJKpQBLkmFMsAlqVAGuCQVygCXpEIZ4JJUKAO8mX5f0sxLqEmaIQNckgplgEtSoQxwSSqUAS5JhTLAJalQZU5m1WzSql4+fvIx3ZgYq/65JGY2OVSvJqRyorCyeAYuSYUywCWpUAa4JBXKAJekQhngklQoA1ySClXmMMJG6ofkzXSo4NTHe+3MoTaToW9et1G9NOj3l2fgklQoA1ySCtUywCPizIj4YUTsjYhHIuJT1frTIuLeiHi8uj219+VKkia1cwZ+BPh0Zp4LXAR8MiLOA9YD92XmOcB91X1JUp+0DPDM3J+Zu6vlF4C9wNuAK4HN1W6bgat6VKMkqYEZjUKJiFHgQmAHsCgz90Mt5CPijCaPWQesA1i6dGlHxQ6Vdieiqh8N4wRWQ2O60SytRrpM3T6TCaCcPGp6rUZ1tDviaBjatR+vddsfYkbEScB3gBsy8/l2H5eZGzNzLDPHRkZGZlOjJKmBtgI8IuZRC+87M/O71eoDEbG42r4YONibEiVJjbQzCiWA24C9mXnrlE1bgbXV8lrgnu6XJ0lqpp0+8NXAh4GHI2K8WvdZ4Gbg2xFxLfAL4EM9qVCS1FDLAM/M+4FosvnS7pYjSWqX38SUpELNncmsGun02pndOL6KMd0QttluG4bhbPUGPQFTJ8PrBl37sPEMXJIKZYBLUqEMcEkqlAEuSYUywCWpUHN7FEq9Ti6z1ui+NCDDPhpj2OqbbT3D9u+o5xm4JBXKAJekQhngklQoA1ySCmWAS1KhDHBJKlRZwwibDePrdHhft4cLOvywr4btWohzVa+G1A16qF7J1yn1DFySCmWAS1KhDHBJKpQBLkmFMsAlqVBljUJpR79HfMz2eI5M6YlBj2ioN2z1tFJavcc6z8AlqVAGuCQVygCXpEK1DPCIuD0iDkbEninrNkTELyNivPpZ09syJUn12jkDvwO4rMH6L2fm8upnW3fLkiS10jLAM/NHwK/6UIskaQY6GUZ4fUR8BNgJfDozn220U0SsA9YBLF26tIPDdcnk8L3Xb2dwjUxJRehkOGRJQyln+yHm14B3AMuB/cCXmu2YmRszcywzx0ZGRmZ5OElSvVkFeGYeyMzXMvM3wDeAld0tS5LUyqwCPCIWT7l7NbCn2b6SpN5o2QceEd8CLgFOj4gJ4K+ASyJiOZDAPuDjvStRktRIywDPzGsarL6tB7VIkmag3G9iOhmUpGNcuQEuScc4A1ySCmWAS1KhDHBJKpQBLkmFMsAlqVBz75qYMzVMwxGHqRYVq6TJmNQZz8AlqVAGuCQVygCXpEIZ4JJUKANckgpV9igUR21IOoZ5Bi5JhTLAJalQBrgkFcoAl6RCGeCSVCgDXJIKVfYwQs1ZTsgkteYZuCQVygCXpEK1DPCIuD0iDkbEninrTouIeyPi8er21N6WKUmq184Z+B3AZXXr1gP3ZeY5wH3VfUlSH7UM8Mz8EfCrutVXApur5c3AVd0tS5LUymz7wBdl5n6A6vaMZjtGxLqI2BkROw8dOjTLwzH7iauc8ErSHNXzDzEzc2NmjmXm2MjISK8PJ0nHjNkG+IGIWAxQ3R7sXkmSpHbMNsC3Amur5bXAPd0pR5LUrnaGEX4LeAB4Z0RMRMS1wM3A+yLiceB91X1JUh+1/Cp9Zl7TZNOlXa5FkjQDfhNTkgplgEtSoQxwSSqUAS5JhTLAJalQBrgkFcoAl6RCeUk1aYC8dJw64Rm4JBXKAJekQhngklQoA1ySCmWAS1KhDHBJKpQBLkmFMsAlqVAGuCQVygCXpEIZ4JJUKANckgplgEtSoQxwSSqUAS5JhepoPvCI2Ae8ALwGHMnMsW4UJUlqrRsXdPj9zHymC88jSZoBu1AkqVCdBngC34+IXRGxrtEOEbEuInZGxM5Dhw51eDhJ0qROA3x1Zq4ALgc+GREX1++QmRszcywzx0ZGRjo8nCRpUkcBnplPV7cHgbuAld0oSpLU2qwDPCJOjIgFk8vA+4E93SpMkjS9TkahLALuiojJ59mSmf/SlaokSS3NOsAz8+fAu7pYiyRpBhxGKEmFMsAlqVAGuCQVygCXpEIZ4JJUKANckgplgEtSoQxwSSqUAS5JhTLAJalQBrgkFcoAl6RCGeCSVCgDXJIKZYBLUqEMcEkqlAEuSYUywCWpUAa4JBXKAJekQhngklQoA1ySCmWAS1KhDHBJKlRHAR4Rl0XEYxHxs4hY362iJEmtzTrAI+J44O+Ay4HzgGsi4rxuFSZJml4nZ+ArgZ9l5s8z83+BfwKu7E5ZkqRW3tTBY98GPDXl/gSwqn6niFgHrKvuvhgRj1XLpwPPdHD8QRhczZ+PTh5tW/eHNfdPcXXHFzuq+axGKzsJ8EaJkketyNwIbDzqwRE7M3Osg+P3XYk1Q5l1W3N/lFgzlFl3L2rupAtlAjhzyv0lwNOdlSNJalcnAf6fwDkRcXZEvBn4E2Brd8qSJLUy6y6UzDwSEdcD/wocD9yemY/M4CmO6lYpQIk1Q5l1W3N/lFgzlFl312uOzKO6rSVJBfCbmJJUKANckgrVtwCPiFsi4tGIeCgi7oqIU5rsty8iHo6I8YjY2a/66mqYdoqAqPnbavtDEbFiEHVOqefMiPhhROyNiEci4lMN9rkkIn5dtet4RPzlIGqt1+r1HsK2fueUNhyPiOcj4oa6fQbe1hFxe0QcjIg9U9adFhH3RsTj1e2pTR47kCkymtQ89LnRpO4NEfHLKe+BNU0e21lbZ2ZffoD3A2+qlr8IfLHJfvuA0/tVV4PjHw88AbwdeDPwIHBe3T5rgO3UxsJfBOwYVL1VPYuBFdXyAuC/GtR8CfC9QdY5m9d72Nq6wXvlv4Gzhq2tgYuBFcCeKev+GlhfLa9v9H+wnfd/n2se+txoUvcG4M/beP901NZ9OwPPzO9n5pHq7k+pjRsfRu1MEXAl8A9Z81PglIhY3O9CJ2Xm/szcXS2/AOyl9k3ZuWCo2rrOpcATmfnkoAupl5k/An5Vt/pKYHO1vBm4qsFDBzZFRqOaS8iNJm3djo7belB94H9G7ayqkQS+HxG7qq/h91ujKQLqw7CdfQYiIkaBC4EdDTb/TkQ8GBHbI+L8/lbWVKvXe2jbmtp3H77VZNswtvWizNwPtV/6wBkN9hnm9h7m3Gjk+qrr5/Ym3VUdt3UnX6U/SkT8G/DWBps+l5n3VPt8DjgC3NnkaVZn5tMRcQZwb0Q8Wv2G65d2pghoaxqBfouIk4DvADdk5vN1m3dT+1P/xao/7m7gnD6X2Eir13tY2/rNwAeAmxpsHta2bsewtvew50a9rwFfoNZ2XwC+RO0X0FQdt3VXz8Az8w8zc1mDn8nwXgv8MfCnWXUCNXiOp6vbg8Bd1P7M6Kd2pggYumkEImIetfC+MzO/W789M5/PzBer5W3AvIg4vc9lHqWN13vo2rpyObA7Mw/UbxjWtgYOTHY/VbcHG+wzdO1dSG7U13MgM1/LzN8A32hST8dt3c9RKJcBfwF8IDNfbrLPiRGxYHKZ2gcYexrt20PtTBGwFfhINULiIuDXk3+aDkJEBHAbsDczb22yz1ur/YiIldRe+8P9q7JhTe283kPV1lNcQ5Puk2Fs68pWYG21vBa4p8E+QzVFRkG5UV/T1M9prqZxPZ23dR8/qf0Ztf6e8ern76v1vw1sq5bfTu2T2AeBR6h1vQziU+U11EZyPDFZA/AJ4BPVclC7mMUTwMPA2CDqnFLv71H70+uhKe27pq7m66s2fZDah0G/O8iap3u9h7mtq5p+i1ognzxl3VC1NbVfLvuBV6md6V0LLATuAx6vbk+r9n39/2B1/6j3/wBrHvrcaFL3P1bv14eohfLiXrS1X6WXpEL5TUxJKpQBLkmFMsAlqVAGuCQVygCXpEIZ4JJUKANckgr1fzbgHmYbngiYAAAAAElFTkSuQmCC
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">beta</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocess</span><span class="p">(</span><span class="n">YeoJohnshon</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">beta</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocess</span><span class="p">(</span><span class="n">Quantile</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">,</span> <span class="mf">1e-1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">tsai.data.external</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">X</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">splits</span> <span class="o">=</span> <span class="n">get_regression_data</span><span class="p">(</span><span class="s1">&#39;AppliancesEnergy&#39;</span><span class="p">,</span> <span class="n">split_data</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">std_tfm</span> <span class="o">=</span> <span class="n">Preprocess</span><span class="p">(</span><span class="n">StandardScaler</span><span class="p">)</span>
<span class="n">std_tfm</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">std_tfm</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">tfms</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">TSRegression</span><span class="p">()]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">get_ts_dls</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">y_tfm</span><span class="p">,</span><span class="n">splits</span><span class="o">=</span><span class="n">splits</span><span class="p">,</span> <span class="n">tfms</span><span class="o">=</span><span class="n">tfms</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">512</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span><span class="n">yb</span><span class="o">=</span><span class="n">first</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">)</span>
<span class="n">yb</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">yb</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">yb</span><span class="o">.</span><span class="n">numpy</span><span class="p">(),</span> <span class="mi">30</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">std_tfm</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

