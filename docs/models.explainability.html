---

title: Model explainability


keywords: fastai
sidebar: home_sidebar

summary: "Functionality to help with both global and local explainability."
description: "Functionality to help with both global and local explainability."
nb_path: "nbs/100c_models.explainability.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/100c_models.explainability.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">tsai.data.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">tsai.models.XCM</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">dsid</span> <span class="o">=</span> <span class="s1">&#39;NATOPS&#39;</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">splits</span> <span class="o">=</span> <span class="n">get_UCR_data</span><span class="p">(</span><span class="n">dsid</span><span class="p">,</span> <span class="n">split_data</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">tfms</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Categorize</span><span class="p">()]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">get_ts_dls</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">splits</span><span class="p">,</span> <span class="n">tfms</span><span class="o">=</span><span class="n">tfms</span><span class="p">)</span>
<span class="n">model</span> <span class="o">=</span>  <span class="n">XCM</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">vars</span><span class="p">,</span> <span class="n">dls</span><span class="o">.</span><span class="n">c</span><span class="p">,</span> <span class="n">dls</span><span class="o">.</span><span class="n">len</span><span class="p">)</span>
<span class="n">learn</span> <span class="o">=</span> <span class="n">Learner</span><span class="p">(</span><span class="n">dls</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">metrics</span><span class="o">=</span><span class="n">accuracy</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="n">dls</span><span class="o">.</span><span class="n">one_batch</span><span class="p">()</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">xb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">model</span><span class="o">.</span><span class="n">eval</span><span class="p">()</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">device</span><span class="p">)(</span><span class="n">xb</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>torch.Size([64, 6])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_acts_and_grads" class="doc_header"><code>get_acts_and_grads</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/models/explainability.py#L12" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_acts_and_grads</code>(<strong><code>model</code></strong>, <strong><code>modules</code></strong>, <strong><code>x</code></strong>, <strong><code>y</code></strong>=<em><code>None</code></em>, <strong><code>detach</code></strong>=<em><code>True</code></em>, <strong><code>cpu</code></strong>=<em><code>False</code></em>)</p>
</blockquote>
<p>Returns activations and gradients for given modules in a model and a single input or a batch.
Gradients require y value(s). If they rae not provided, it will use the predicttions.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_attribution_map" class="doc_header"><code>get_attribution_map</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/models/explainability.py#L30" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_attribution_map</code>(<strong><code>model</code></strong>, <strong><code>modules</code></strong>, <strong><code>x</code></strong>, <strong><code>y</code></strong>=<em><code>None</code></em>, <strong><code>detach</code></strong>=<em><code>True</code></em>, <strong><code>cpu</code></strong>=<em><code>False</code></em>, <strong><code>apply_relu</code></strong>=<em><code>True</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">acts</span><span class="p">,</span> <span class="n">grads</span> <span class="o">=</span> <span class="n">get_acts_and_grads</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">conv2dblock</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="n">acts</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">grads</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/nacho/opt/anaconda3/envs/py36/lib/python3.6/site-packages/torch/nn/modules/module.py:974: UserWarning: Using a non-full backward hook when the forward contains multiple autograd Nodes is deprecated and will be removed in future versions. This hook will be missing some grad_input. Please use register_full_backward_hook to get the documented behavior.
  warnings.warn(&#34;Using a non-full backward hook when the forward contains multiple autograd Nodes &#34;
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(torch.Size([1, 128, 24, 51]), torch.Size([1, 128, 24, 51]))</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">acts</span><span class="p">,</span> <span class="n">grads</span> <span class="o">=</span> <span class="n">get_acts_and_grads</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">conv2dblock</span><span class="p">,</span> <span class="n">xb</span><span class="p">)</span>
<span class="n">acts</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">grads</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(torch.Size([64, 128, 24, 51]), torch.Size([64, 128, 24, 51]))</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">acts</span><span class="p">,</span> <span class="n">grads</span> <span class="o">=</span> <span class="n">get_acts_and_grads</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">conv2dblock</span><span class="p">,</span> <span class="n">xb</span><span class="p">,</span> <span class="n">yb</span><span class="p">)</span>
<span class="n">acts</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">grads</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(torch.Size([64, 128, 24, 51]), torch.Size([64, 128, 24, 51]))</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">acts</span><span class="p">,</span> <span class="n">grads</span> <span class="o">=</span> <span class="n">get_acts_and_grads</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">conv1dblock</span><span class="p">,</span> <span class="n">xb</span><span class="p">)</span>
<span class="n">acts</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">grads</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(torch.Size([64, 128, 51]), torch.Size([64, 128, 51]))</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">acts</span><span class="p">,</span> <span class="n">grads</span> <span class="o">=</span> <span class="n">get_acts_and_grads</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="p">[</span><span class="n">model</span><span class="o">.</span><span class="n">conv2dblock</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">conv1dblock</span><span class="p">],</span> <span class="n">xb</span><span class="p">,</span> <span class="n">yb</span><span class="p">)</span>
<span class="p">[</span><span class="n">act</span><span class="o">.</span><span class="n">shape</span> <span class="k">for</span> <span class="n">act</span> <span class="ow">in</span> <span class="n">acts</span><span class="p">],</span> <span class="p">[</span><span class="n">grad</span><span class="o">.</span><span class="n">shape</span> <span class="k">for</span> <span class="n">grad</span> <span class="ow">in</span> <span class="n">grads</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>([torch.Size([64, 128, 24, 51]), torch.Size([64, 128, 51])],
 [torch.Size([64, 128, 24, 51]), torch.Size([64, 128, 51])])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">att_maps</span> <span class="o">=</span> <span class="n">get_attribution_map</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">conv2dblock</span><span class="p">,</span> <span class="n">xb</span><span class="p">,</span> <span class="n">yb</span><span class="p">)</span>
<span class="n">att_maps</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>torch.Size([64, 24, 51])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">att_maps</span> <span class="o">=</span> <span class="n">get_attribution_map</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">conv1dblock</span><span class="p">,</span> <span class="n">xb</span><span class="p">)</span>
<span class="n">att_maps</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>torch.Size([64, 24, 51])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">att_maps</span> <span class="o">=</span> <span class="n">get_attribution_map</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="p">[</span><span class="n">model</span><span class="o">.</span><span class="n">conv2dblock</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">conv1dblock</span><span class="p">],</span> <span class="n">xb</span><span class="p">)</span>
<span class="p">[</span><span class="n">am</span><span class="o">.</span><span class="n">shape</span> <span class="k">for</span> <span class="n">am</span> <span class="ow">in</span> <span class="n">att_maps</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[torch.Size([64, 24, 51]), torch.Size([64, 24, 51])]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">acts</span><span class="p">,</span> <span class="n">grads</span> <span class="o">=</span> <span class="n">get_acts_and_grads</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="p">[</span><span class="n">model</span><span class="o">.</span><span class="n">conv2dblock</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">conv1dblock</span><span class="p">],</span> <span class="n">xb</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">yb</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">detach</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cpu</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">acts</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">grads</span><span class="p">),</span> <span class="n">acts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">grads</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">acts</span><span class="p">,</span> <span class="n">grads</span> <span class="o">=</span> <span class="n">get_acts_and_grads</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">conv2dblock</span><span class="p">,</span> <span class="n">xb</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">detach</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cpu</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">acts</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">grads</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>2 2 torch.Size([1, 128, 24, 51]) torch.Size([1, 128, 24, 51])
torch.Size([1, 128, 24, 51]) torch.Size([1, 128, 24, 51])
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">att_maps</span> <span class="o">=</span> <span class="n">get_attribution_map</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">conv2dblock</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="n">att_maps</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>torch.Size([24, 51])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">att_maps</span> <span class="o">=</span> <span class="n">get_attribution_map</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">conv1dblock</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="n">att_maps</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>torch.Size([24, 51])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">att_maps</span> <span class="o">=</span> <span class="n">get_attribution_map</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="p">[</span><span class="n">model</span><span class="o">.</span><span class="n">conv2dblock</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">conv1dblock</span><span class="p">],</span> <span class="n">x</span><span class="p">)</span>
<span class="p">[</span><span class="n">am</span><span class="o">.</span><span class="n">shape</span> <span class="k">for</span> <span class="n">am</span> <span class="ow">in</span> <span class="n">att_maps</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[torch.Size([24, 51]), torch.Size([24, 51])]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">att_maps</span> <span class="o">=</span> <span class="n">get_attribution_map</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="p">[</span><span class="n">model</span><span class="o">.</span><span class="n">conv2dblock</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">conv1dblock</span><span class="p">],</span> <span class="n">x</span><span class="p">)</span>
<span class="n">att_maps</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">att_maps</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">att_maps</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">())</span> <span class="o">/</span> <span class="p">(</span><span class="n">att_maps</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">att_maps</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>
<span class="n">att_maps</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">att_maps</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">att_maps</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">())</span> <span class="o">/</span> <span class="p">(</span><span class="n">att_maps</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">att_maps</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Observed variables&#39;</span><span class="p">)</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">att_maps</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;inferno&#39;</span><span class="p">)</span>
<span class="n">cax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">([</span><span class="n">ax</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span><span class="o">.</span><span class="n">x1</span><span class="o">+</span><span class="mf">0.01</span><span class="p">,</span><span class="n">ax</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span><span class="o">.</span><span class="n">y0</span><span class="p">,</span><span class="mf">0.02</span><span class="p">,</span><span class="n">ax</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span><span class="o">.</span><span class="n">height</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">im</span><span class="p">,</span> <span class="n">cax</span><span class="o">=</span><span class="n">cax</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Time&#39;</span><span class="p">)</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">att_maps</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;inferno&#39;</span><span class="p">)</span>
<span class="n">cax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">([</span><span class="n">ax</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span><span class="o">.</span><span class="n">x1</span><span class="o">+</span><span class="mf">0.01</span><span class="p">,</span><span class="n">ax</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span><span class="o">.</span><span class="n">y0</span><span class="p">,</span><span class="mf">0.02</span><span class="p">,</span><span class="n">ax</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span><span class="o">.</span><span class="n">height</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">im</span><span class="p">,</span> <span class="n">cax</span><span class="o">=</span><span class="n">cax</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnwAAAE1CAYAAAB9Uj1vAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjMuNCwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy8QVMy6AAAACXBIWXMAAAsTAAALEwEAmpwYAAApyklEQVR4nO3deZzddX3v8fd7lmQmC4QQ1oRNRBYXFhG0WKHiEq1XrFoFxYvWlrZX+tBWW6m9Vev2UGv1entxSSsFNxAXNFVQEVBA2YIgJGELECAhEAJJSCaZmcycz/3j/KKHOMvnd5KTmfPL68njPJhzznu+5zvzmznzzff7+/4+jggBAACgujomugMAAABoLQZ8AAAAFceADwAAoOIY8AEAAFQcAz4AAICKY8AHAABQcQz4gF2c7Q/b/vpE96MM22+3fd1Oeq0P2P7PZPYC2x8b4/mw/cwd1zsAyGHAB1RcMTi6w/Ym24/a/qLtWRPdr3YREZ+IiD+f6H4AwPZgwAdUmO33SvqUpL+XtLukF0o6SNIVtqfsxH507azX2pHatd8AsC0GfEBF2d5N0r9I+puI+HFEbImI5ZLeJOlgSWc2xHtsf8v2Btu/tn10Qzvvt72yeO5u26cWj3fYPtf2fbafsH2J7dnFcwcXy5fvtP2QpKtsX277nG36+Bvbry8+PsL2FbafLF7nTQ25PW0vtP2U7ZskHTrG1z3e63ze9sNFW7fY/sOG3Idtf8f2120/Jent2y552/52MVO63vY1tp+9TRfmFF/HBtu/sH3QKP2cavszth+y/ZjtL9nuLZ6bY/uHttcV349rbfN+DaBpvIEA1fUHknokfa/xwYjYKOkySS9vePg0Sd+WNFvSNyV933a37cMlnSPpBRExU9IrJS0vPudvJL1O0smS9pe0VtJ52/ThZElHFp93kaQztj5h+yjVZxt/ZHu6pCuK195b0umSvlBkVLTbL2k/SX9W3EYz6usUD90s6ZiGr/Xbtnu2+V58R9IsSd8Yof3LJR1W9PPXI2TeKumjkuZIum2UNiTpk5KeVfTlmZLmSvpg8dx7Ja2QtJekfSR9QBJ1MAE0jQEfUF1zJK2JiKERnltVPL/VLRHxnYjYIumzqg8UXyhpWNJUSUfZ7o6I5RFxX/E5fyXpnyJiRUQMSPqwpDduswz64Yjoi4jNki6VdEzDjNdbJX2v+NzXSFoeEf8VEUMRcauk70r6U9udkt4g6YNFW4slXTjG1z3W6ygivh4RTxSv82/F13d4w+dfHxHfj4ha0e+niYjzI2JDw9d8tO3dGyI/iohriuf/SdKLbB/Q2IZtSzpb0t9GxJMRsUHSJ1Qf6ErSFtUHtwcVM7PXBoXPAWwHBnxAda1RfXlxpPPQ9iue3+rhrR9ERE312aX9I2KZpPeoPrBZbfti2/sX0YMkXVosO66TdKfqA8R9Rml3g+qzbFsHNWfod7NfB0k6cWtbRXtvlbSv6rNcXY1tSXpwtC96nNeR7ffZvrNYkl2n+rmNjYPfxtd5Gtudtj9ZLGM/pd/Ndo74+cVs6pOqz4A22kvSNEm3NHy9Py4el6R/lbRM0k9t32/73NH6BAAZDPiA6rpe0oCk1zc+aHuGpFdJurLh4QManu+QNE/SI5IUEd+MiBerPigL1TeBSPWBzasiYlbDrSciVja0u+2s1EWSzrD9ItVnEa9uaOsX27Q1IyL+WtLjkoYa+yjpwHG+9hFfpzhf7x9UP49xj4iYJWm9JI/R50ZvUX3J92WqDxQPLh5v/PzG7+UM1ZeOH9mmnTWSNkt6dsPXu3tEzJDqg9aIeG9EPEPSayX93dZzJwGgGQz4gIqKiPWqb9r4d9vzi3PyDpZ0ieozeF9riD/f9uuL2cD3qD5QvMH24bZfanuq6ufQbZZUKz7nS5I+vnXp1PZetk8bp1uXqT5w/IikbxWziZL0Q0nPsv22op/dtl9g+8iIGFb9PMQP255WnJN3VpOvM1P1wePjkrpsf1DSbuO01Wim6t+bJ1SfofvECJlX236x67ugPyrphoh42qxh0Z//kPQ523tLku25tl9ZfPwa288sln7Xqz5zWhMANIkBH1BhEfFp1U/4/4ykpyTdqPps2qlbz2kr/EDSm1XfePE2Sa8vzuebqvrmgjWSHlV9o8I/Fp/zeUkLVV923CDpBkknjtOfAdUHby9TfcPE1sc3SHqF6suwjxSv9ani9aX6xpEZxeMXSPqvZl5H0k9UXzq9R/Vl4X6NsYQ7gq8Wn7dS0lLVv+ZtfVPSh1Rfyn2+nr4butH7VV+2vaFYHv6Zfncu4WHF/Y2qz9R+ISKuHrEVAEgw5wEDAABUGzN8AAAAFceADwAAYBKxfb7t1bYXj/K8bf9f28ts3277uPHaZMAHAAAwuVwgaf4Yz79K9XN9D1P9mp5fHK9BBnwAAACTSERco/rGr9GcJumrUXeDpFm29xurzZ1aGNw2O0RapszYnas7lOfxI4Xujunp7FCtP53t6uhNZ6PEMY4SFbuGa4PpbP2KIjkd7k7lemNaus3pXfnfiYHh/PegzJvYgEYqcjKy3uT3QJKeqm1IZ4d/v1jIqKZ2zEpnuyP/56O7I38shkpsJOztyP+MDdTy7W5S/ntWxpZaXzJZ3T+V3R0z0tlpyr/ndZR4v9kcW9LZ/traNRGx10jPvXL+8+KJNRvTbTW65ZYHlqh+lYCtFkTEghJNzNXTrzCwonhs1WifsFMHfHWdO/8ldwEdzg8yapF908Hv5H9u5/SOeyrFb60ZuCed3bfnuensYGxKZ7eUGBA8NfBQOttZYoA6vXvE99Pf85w4Pt3m8bOmjh8qLO8rMegt8bf4ntqj6exzusb8x/nT/HTw5+ns+s1L09mDek9JZ/ev7Z3O7jUlfyzWbckPko/YLT9Ifqgv/4+gm2q3p7Mu8Y/tR/p+lUwOp9tsN2XeH0/oeF4621Ni8L94y2Pp7JJNl4xa1eeJNRt146KPpttq1OUz+yNKvKHtABMw4AMAAGhvoVCtNmGD85V6evWhecVjo9quc/iKq/ffXewSodYjAADYRYQihpq67QALJf3PYrfuCyWtj4hRl3Ol7Zjhs90p6TxJL1d97fhm2wsjIr9+AAAA0I5Cqld+3PFsXyTpFElzbK9QvXpPtyRFxJdULx/5atWr9WyS9I7x2tyeJd0TJC2LiPuLzl2s+q4RBnwAAKDSQqHajpmt+/22I84Y5/mQ9K4ybW7PgG+kHSK/V0fT9tmqXyMGAACgImJHLc/uFC3ftFFsM14gcVkWAABQFbvOgK/0DhEAAIBKiFDUdo0B382SDrN9iOoDvdMlvWWH9AoAAGCy2xVm+CJiyPY5kn6i+lVpz4+IJTusZwAAAJPWrrOkq4i4TPWtwZhgHR096WxtmEob5eW33v+Paceks/9dogdv2u2IdHZlvtCG1m3Jf22LevJvGRH5ygYnd70wlfvnE/KVSY64/A3prD/zvnQ2avkr+l/7g1emsyfNvyidfe1n3pjOXlniwglv22tuOvtnJ/0ynd37Jfk+bF42J52d9qlPp7NDn/6rdPZL/3lmOjujO1+m6xMP5cqK3d93ebrNdvOW3Y9OZz/2119LZ7uOzPfhso+/Op097daxng2plj/+E41KGwAAACVF7EIzfAAAALumkHaRTRsAAAC7pmDABwAAUH0s6QIAAFSXFTIzfAAAABXGki4AAEDVMeADAACouJA5hw8AAKDCQlItf+H6icaADwAAoLT22rThiNh5L2ZHvewuUF37TT8pnX28/6509sCeE9LZjXoind08vDad3TS4Op0tY4/eZ6ZyR8dx6Tb/9ID8v7yXrO9NZ4dLvGUu35j/Y3DwjPy/vy/ZeEM6u6bvlnT2mdP/OJ09YcpB6eyMrnw5ujKePWsgnV2ybmo6+7NN96ezs2p7pLPLIncsnuq/O91muynz/viaEmUq9+3Jl3K8bk2+HNrVm798S0QcP9Jzxz1vj7h24anpthrNOOS7o7bbKszwAQAAlMUuXQAAgOoz5/ABAABUWASbNgAAAKqOGT4AAIBKY4YPAACg0hzBDB8AAEDlMeADAACoMGb4AAAAdgFtNODrmOgOAAAAoLUorbYLmtX7nHT21O6XpLMHTc/34eFN+exePfmyTJtKXPT8q2u/ms7WahvyDVdYV+ee6ezQ8Lp09sTet6Zyu7sn3eZyr0pn7+n773QWwK5keNQSaM8/anpc/9VnN9Xq1BfcTGk1AACASS/UVku6DPgAAABK4zp8AAAAleeoTXQX0hjwAQAAlEUtXQAAgF1AjRk+AACA6opgwAcAAFB1VNoAAACoNGb4AAAAqi3EgA8AAKDamOHDJLdu8+J09hcdU/Ptrr4/nR0aXpvOan0+itYaGn6iJe3euDlX5m5q9/7pNr9+5Cnp7KzeP0lnj3v+rensnl9Yns52de6Rzpb6/amwjx78V+nsPy//Ugt7gla48eRXprObBvN/q1Zt2C2dfcviC0d/kkobAAAA1WaFzAwfAABAxTHgAwAAqDA2bQAAAFQdmzYAAACqLSTVYqJ7kdYx0R0AAABoS7Vac7dx2J5v+27by2yfO8LzB9q+2vattm+3/erx2mSGDwAAoLTWLOna7pR0nqSXS1oh6WbbCyNiaUPsf0u6JCK+aPsoSZdJOnisdhnwAQAAlNW6Jd0TJC2LiPslyfbFkk6T1DjgC0lbLyi4u6RHxmuUAR8AAEAzoukZvjm2FzXcXxARC4qP50p6uOG5FZJO3ObzPyzpp7b/RtJ0SS8b7wUZ8AEAAJQW2zPDtyYijt+OFz9D0gUR8W+2XyTpa7afEzH6CJQBH8a0pu+Wie5C25k+9dB0dvPgo+nsXtOem86G8v/q7BvKl0vr37ImnbXze8Kmde+dyh3pbf+RO7qbnpiRzt61Pl9qqWPpq9LZE3v70tljZ85MZ3/Qd1s6+9imfPbI3vnp7FHd+6Sz+/Y6ne0vUalqZtdgOvve/f9XOnvlunzpuo7If22Lt1yVyg0O5d8X2s28Gaeks5+/Pf9eOmtK/jj8asOT6eyYWreku1LSAQ335xWPNXqnpPmSFBHX2+6RNEfS6tEaZZcuAABAM2rR3G1sN0s6zPYhtqdIOl3Swm0yD0k6VZJsHympR9LjYzW6XTN8tpdL2iBpWNLQdk5PAgAAtIWI7TmFb6x2Y8j2OZJ+IqlT0vkRscT2RyQtioiFkt4r6T9s/63qc41vj4gxR5I7Ykn3jyIiv84DAABQBS268HJEXKb6pVYaH/tgw8dLJZ1Upk3O4QMAACgrpBKnS0+47T2HL1TfFnyL7bNHCtg+2/aibbYfAwAAtLdak7cJsL0zfC+OiJW295Z0he27IuKaxkBxXZkFkmS7fYrOAQAAjKWNRjXbNcMXESuL/6+WdKnqV4cGAACotpCi5qZuE6HpAZ/t6bZnbv1Y0iskLd5RHQMAAJjUdpEl3X0kXWp7azvfjIgf75BeAQAATHYTNFvXjKYHfEVR36N3YF8AAADaQ7Gk2y64LEtldJbIlqhdhNJ6u2alswND+RI/nepOZwe1Kd+u828DLpFtxbpFrcQZ0gPD+TfiDrfmTXuzB9LZ1f3T09lNtXzpr1r0p7MbO9ans09umV2iD/mf3b7h/PtTT+eUdPbhvvzP45qOVelsZ4k/o0MD+VJ7VTUY+fem9Vvyx6wW+TPUNjvfh7F515jhAwAA2KWVqKU80RjwAQAAlMWSLgAAwC6gtr31K3YeBnwAAABlBefwAQAAVF600Tl87TMXCQAAgKYwwwcAANAMzuEDAACormCXLgAAQNWxaQMAAKDy2mnTBgO+yqBc2mTRrZ6WtNvhfPm8qOVLEkWJEmgRQy1pt6sj9z2bpd50m3OnbUln+4bypb+G89XdtGbTtHS2tzN/LlBtMP+1lXlv6I6p6eyMzvyfj1lT8n8Upw7nf87n9uZ/Hp8azPe3ZyBf5m5q5H/fO5wrBbfjixJOHmVKRM6ekv9ZmJWvsqdZA7vnw2MJcQ4fAABA1XEOHwAAQKWZJV0AAIBKY0kXAACg+ljSBQAAqLAQu3QBAACqLcySLgAAQNWxpAsAAFBxLOkCAABUGUu6AAAA1ceSLiZAmR+6ErWhUNrj/Xels7XaYDq7uky7kS+9VaZcWq3Wl86WsXbznancdd1r023es/pZ6eyG2uPpbBkDtY3p7F0Du6WzfQOPNNOdcT2w+bp0dmVXvjxV95Z8SbyhGEhnrxzcN519akv+e9a/ZXU6W0ZEf0vabSePbbotnf3B8Jp0trs/X8bwqS0r0tmxsEsXAACg6oIZPgAAgIqzIjiHDwAAoNqY4QMAAKg2zuEDAACoMs7hAwAAqLbgHD4AAIDqY4YPAACgyoJz+AAAACqPAR8AAEDFsaQ7qg51eHoqOXvaEelWe50v8bN6IF+eanDoyXS2TMmcninz0tn+wWwJmOqWS+udcmA6O2fKM9PZhzde1Ux3xjU0/ERL2h0cak1ZszJm9T4nnd20JV8W6c27vSGV22NKukk9sHE4nV2uPdLZxZsuTWdD+bJ1ZY6uXeIbUcJwbX06u3mwRLZFpR83DSwv0S5apzOdPLJ3fjq7ZNN309mDZ7wynX1i6NZ0dixs2gAAAKg6LssCAABQfe10Dl/7zEUCAABMIhFu6jYe2/Nt3217me1zR8m8yfZS20tsf3O8NpnhAwAAKCvckiVd252SzpP0ckkrJN1se2FELG3IHCbpHyWdFBFrbe89XrsM+AAAAEoKtWxJ9wRJyyLifkmyfbGk0yQtbcj8haTzImKtJEXE6vEaZUkXAACgCREdTd0kzbG9qOF2dkOzcyU93HB/RfFYo2dJepbtX9q+wfa425+Z4QMAAGhCrfkZvjURcfx2vHSXpMMknSJpnqRrbD83ItaN9QkAAAAoo0Xn8ElaKemAhvvziscarZB0Y0RskfSA7XtUHwDePFqjLOkCAACUtPUcvhbs0r1Z0mG2D3H9KuunS1q4Teb7qs/uyfYc1Zd47x+rUWb4AAAAmtCKTRsRMWT7HEk/Ub2MyfkRscT2RyQtioiFxXOvsL1U0rCkv4+IMcs8OWLnleSyHWVKsGAyyB8vlyifVKbkFLBVV+ee6ewret6Yzm6q5X8e5/b0pLPfWHteOovyDp9+Wjp7d9+2EyRjqW6pynbyimlnjx8qdHfkFyw3Ded/36/e/OVbRjvX7jmzZsZ3Xvz8dFuNjvzRL0Ztt1WY4QMAACgrrFob1dIdt6e2z7e92vbihsdm277C9r3F//OVxwEAALBTZYamF0ja9vou50q6MiIOk3RlcR8AAGCXEJKi5qZuE2HcAV9EXCPpyW0ePk3ShcXHF0p63Y7tFgAAwOTWqlq6rdDsOXz7RMSq4uNHJe0zWrC4enT+zEsAAIA2MFGDt2Zs96aNiIj67ttRn18gaYG0dZcuAABAm4vtqrSx0zU74HvM9n4Rscr2fpLGLdoLAABQFaGJW55tRrP7iRdKOqv4+CxJP9gx3QEAAGgPlTqHz/ZFqpfvmGN7haQPSfqkpEtsv1PSg5Le1MpOAgAATDaVWtKNiDNGeerUHdwXAACAttFOS7pU2sA4htNJduS0Voen58POn60RsaVEtj/fhxKl9rJnl9RiMN3iL4Z+ls4Ox0A6W9uQL8tU5phN7c6Xjds8+HA6W+43M19Ksbtrdr7VjqnpbK1EmbsVQ4vHDxV6psxNZ4dr+Z+H4eFN6Wwt+tLZqipTHvH62tX5hmv56MaBMr8/o4tgwAcAAFBxrtaSLgAAAH4fM3wAAAAVx4APAACgwkIV26ULAACAbbBpAwAAoOrYtAEAAFBpoXp5tXbBgA8AAKAJLOkCAABUHEu6mABlfuioidFKs6cdnc4+NfBQOrtnz+Hp7EBtYzo7WCLbv+WJdFaRv/R975R9U7nDO05Mt3nS7nuksw/1lbhMfwkPDD+Zzh7Sma9ccVVHvorIhv5709l5M/4wnX3G8KHp7OyuKels33C+us+zZnans8v78u3+Ou5IZ7ucryKysu/GVK7KFTlm9+R/bl7g49LZmV356kK3dq5MZ+/u+94Yz5oZPgAAgCqLYIYPAACg8pjhAwAAqLgau3QBAACqK8QMHwAAQMVx4WUAAIDKY4YPAACgwkJSay7o1BoM+AAAAMoKZvgAAAAqj3P4AAAAKi64LAt2Npco7xPR38Ke4EUdL0pnr+3OH4uXdOXLDK0azLe7sXNzOnuvbkpny3h+xymp3NmHDqbbfPMHvpLOLv9WvhxerdaZzv70rqPS2Zcccmc6+8B1+Z+F25UvrfbKnmens6cf+kg6e9hBy9PZdWtnpbPPfsf16ez9F+W/Z5+/6dh0drfufKnKC2MglVvV98t0m+3m5K7j09mPveS2dHbP/R9LZ79+5UvT2fcsG/25YJcuAABA9dXaqDQ9Az4AAIAmsKQLAABQYSE2bQAAAFRbSMGSLgAAQLXVWNIFAACorhAXXgYAAKg4LssCAABQeW10Ch8DPgAAgLLabZdux0R3AAAAAK3FDF9VxNBE96Di8v+KuzWWpLMDwxvS2ZuG70ln+zs25vtQK5EdejKdjails7dNuS6V++J9f5Bu8873vyOdvW9D/vgOl1jDWT6YP77Xrc6XYVteuzLfiRJ+1n93OvvQHc9IZ/e8e790tm8o/3NzxNIj09l7n8ofuEUlfoe7lC9r+djm29PZqvrF0KJ09v0/f346u3t3fv5qUf+j6ex48j+tE48BHwAAQBPaaZcuS7oAAAAlRdTP4WvmNh7b823fbXuZ7XPHyL3Bdtg+frw2GfABAAA0IZq8jcV2p6TzJL1K0lGSzrD9e+d82J4p6d2Sbsz0lQEfAABAE1o0w3eCpGURcX9EDEq6WNJpI+Q+KulTkvozfWXABwAAUFKovmmjmZukObYXNdzObmh6rqSHG+6vKB77LdvHSTogIn6U7S+bNgAAAErz9mzaWBMR4553N+Kr2h2SPivp7WU+jwEfAABAE1p0WZaVkg5ouD+veGyrmZKeI+nntiVpX0kLbb82Ika97g0DPgAAgJJCLbssy82SDrN9iOoDvdMlveW3rxuxXtKcrfdt/1zS+8Ya7EkM+AAAAJpSa0Ex3YgYsn2OpJ9I6pR0fkQssf0RSYsiYmEz7TLgAwAAaEILxnv1diMuk3TZNo99cJTsKZk2KzHg6+zYPZ0drq1vYU9yujr3SGeHhtelcqF8aTW7J53dd1q+tM2c2D+dfTjuTGendeS/X3vGvunsHZu+nc6W+bV+pO/aEu3mPbjlkZa0W8bsaUens5uH1qazfzrjZalcZ4nVkx89kS8Dt8L5snVr+m7Jd6KEmzfns/aUdLajY2Y6++DGq/NZ/Syd1aZ8tIz/zlcFxCSxusTvz/d1Uzo7tTv/92dgB72Xbr3wcruoxIAPAABgZ6OWLgAAQMVVqpau7fNtr7a9uOGxD9teafu24vbq1nYTAABg8tjOCy/vdJlKGxdImj/C45+LiGOK22UjPA8AAFBZEc3dJsK4S7oRcY3tg3dCXwAAANpGTRVa0h3DObZvL5Z8R91GafvsrbXituO1AAAAJo1Q/Tp8zdwmQrMDvi9KOlTSMZJWSfq30YIRsSAijm+2ZhwAAMBkVKkl3ZFExGNbP7b9H5J+uMN6BAAAMOm5+ku6tvdruPsnkhaPlgUAAKicJmf3Ju0Mn+2LJJ0iaY7tFZI+JOkU28eovoS9XNJftq6LAAAAk8vWy7K0C8dOHGrajnodYLSLrs4909larT+fjb5muoNdXO+UA9PZjx0w0tWkRjalI/+2fdy++bJMJ12bv2JVz5R56Wz/4Ip0tsrOmv2udPbCJ89rYU/QCucf+fZ0dvNwfmyxcSifff/9X7xltD0I+03ZJ96+z5vTbTX65Ip/H7XdVqHSBgAAQBMmaHW2KQz4AAAASqpflqV9Nm0w4AMAAGjCRG3AaAYDPgAAgCa006YNBnwAAAAlhZjhAwAAqDxm+AAAAKpsAuviNoMBHwAAQEkhLssCAABQeczwAQAAVBybNlAZQ8NPTHQX2s60qQens5sH82W6pnTNaaI346vFlnR2aGhtOhulFjtypz7P7N433eJNa/Jvb3dvyX9dX1m5ezp70IyXpbN7D++Xzt7W9eN0dsvQ4+lsmfJuB3Yfm87Ore2TzvYr//NYxim970xnb/eidHaqZ6Szj22+PZWr1Tak22w3u/celc5e/OCUdLa3M18u7Tdxfzo7lnarpcuADwAAoAks6QIAAFRcG433GPABAACUVa+lO9G9yGPABwAAUFawaQMAAKDy2mnTRsdEdwAAAACtxQwfAABASZzDBwAAsAtoo/EeAz4AAIBmMMMHAABQcezSBSrG7klnh4b78+2qO53dd2q+JNGjA0vT2dlTD01nHx++I53t7Mh/zzo7pqZy+8Yh6TY3DA2ns92Rfysc8GA62yo9XbPS2TLl8PboPiid7Y582asy5dI2elM6u27LtHy7Gkhny9hcW5/O1mobW9KHdhKR/71cq83p7Kah/Hvpxo416exYKK0GAACwC6i10RQfAz4AAIAmtM9wjwEfAABAaRFs2gAAAKi4ULTRHB8DPgAAgJK48DIAAMAugF26AAAAFRfs0gUAAKgursMHAACwC2inGb6Oie4AAABAO6o1eRuP7fm277a9zPa5Izz/d7aX2r7d9pW2xy2TwwxfRXR0zExna7UNLexJNUXky6W9vOd16ezPBhams38y8/B09tfD+RJZZdYkNkx5NJ2d0bV3Onucjk3l3nFovjTV6778y3R244X5cl4bntw9nb3+zmensyc+68509i8uPyWdvVL3prOvn3FMOvu2w+9LZ4849sZ0ds2D+6ezB/3ldensiq/k2/1/vzopnd1zar5U2L+vzv3srOrL/+y2m9OmvSyd/dSrf57O7nlM/uf82xe8OZ09c/FNoz5X36W742f4bHdKOk/SyyWtkHSz7YUR0Vgz81ZJx0fEJtt/LenTksb8wpjhAwAAaEI0+d84TpC0LCLuj4hBSRdLOu1prxtxdURs/ZfqDZLmjdcoM3wAAABN2I5NG3NsL2q4vyAiFhQfz5X0cMNzKySdOEZb75R0+XgvyIAPAACgpFCo1nyljTURcfz29sH2mZKOl3TyeFkGfAAAAGVFa87hk7RS0gEN9+cVjz2N7ZdJ+idJJ0fEwHiNMuADAABoQotq6d4s6TDbh6g+0Dtd0lsaA7aPlfRlSfMjYnWmUQZ8AAAAJdUvvLzjB3wRMWT7HEk/kdQp6fyIWGL7I5IWRcRCSf8qaYakb9uWpIci4rVjtcuADwAAoAmtGPBJUkRcJumybR77YMPH+evbFBjwAQAAlJa6xMqkwYAPAACgpFYt6bYKAz4AAICyLNW8HVfi28kY8FUE5dJarTOdvKGWLyM1NNyXzl6/Ln+M79Ki8UOFPToPGD9U6B94Ip0drg2mszd1j3tFAUnS1Af+IN3mijPz2Qf7utPZjUPpqO7uy5ds+9mqsa6r+nT3dSzLd0JOJ6/a+Eg6u/o3z0hn97vn0HR2ff7HRkfdfkw6u3Rd/hhfO3B/Otsb09LZxweWjh+quKsHl6Sz//zjU9LZPa8e9zJ0v3XzkyV+yMbBDB8AAECFRXHp5XYxbi1d2wfYvtr2UttLbL+7eHy27Sts31v8f4/WdxcAAGByqBXVNsreJsK4Az5JQ5LeGxFHSXqhpHfZPkrSuZKujIjDJF1Z3AcAANgl1Fxr6jYRxl3SjYhVklYVH2+wfafqhX1Pk3RKEbtQ0s8lvb8lvQQAAJhE6gu67bOkW+ocPtsHSzpW0o2S9ikGg5L0qKR9dmzXAAAAJq9KDvhsz5D0XUnviYinilIekqSICNsjLkrbPlvS2dvbUQAAgMmjvTZtpAZ8trtVH+x9IyK+Vzz8mO39ImKV7f0kjVi8NyIWSFpQtNM++5cBAABGEWqv6/Bldula0lck3RkRn214aqGks4qPz5L0gx3fPQAAgMmofg5fM/9NhMwM30mS3ibpDtu3FY99QNInJV1i+52SHpT0ppb0EAAAYBIKDU90F9Iyu3Sv0+iXaj91x3YHAABg8mu3XbqO2Hmn1dXP4cuXqEJrTOnaN509ecpr09n9e8qUp8r/3E3rypeG6s5cWbLwjfWXprMDW/Ilp1DeATNemsrtUdsr3eay4XyJu00Dy9NZALuS4Vsi4viRnpnauXvsNy1fwrHRgxt/PGq7rVLizyMAAADaEbV0AQAASotqncMHAACApwtV9MLLAAAA+J3KXXgZAAAAjUI1lnQBAACqK8QMHwAAQMWFasEMHwAAQKUxwwcAAFBpXJYFAACg0kJSLZjhwyQ2OPRoOnvF0IJ8w5ua6Awg6eGNV+WCyRJsknT5Mc9NZzcMvCCdnTd7TTp7zBXXpLMetWT57wsNpbPtxu5JZ98/98/S2U+u+EIz3cEEWjz/Jens1KkD6eyvlh2ezp615L/GeDZY0gUAAKi0kIJNGwAAANVVn99jhg8AAKDSgnP4AAAAqoxdugAAAJXHDB8AAEClsUsXAACg0kLs0gUAAKi4YEkXAACg6ljSBQAAqLJg0wYmRL4sU/3MA5ST//6+oPfMdPauuCGdndG5dzrb5anp7GP9S9PZoeEN6WyZyxV0dkxP5Q4cPijd5qLHutPZezfks30P5I/DH/Uems4ePjN/zC7e8It0dt3mJensnOnHpbMn6Ph09sDp+T81M7vz70+9nfk/tq+YdnY6u8wPp7NdJf6M3tt3eSpX5dJ5s6cdnc5+blG+POJgiXHXtYPL8uExsWkDAACg0ti0AQAAUHkhMcMHAABQbZzDBwAAUGmcwwcAALALYMAHAABQbSzpAgAAVFl7Lel2THQHAAAA2lOtydvYbM+3fbftZbbPHeH5qba/VTx/o+2Dx2uTAR8AAEAzIpq7jcF2p6TzJL1K0lGSzrB91Daxd0paGxHPlPQ5SZ8ar6sM+AAAAEqLpv8bxwmSlkXE/RExKOliSadtkzlN0oXFx9+RdKrtMUtCOcYZae5Ith+X9OA2D8+RtGandQI7Cset/XDM2hPHrf1wzNrPaMfsoIjYa6RPsP3j4vOa0SOpv+H+gohYULT7RknzI+LPi/tvk3RiRJzT8NqLi8yK4v59RWbUn7udumljpG+a7UURkS/KiEmB49Z+OGbtiePWfjhm7aeZYxYR81vVn1ZgSRcAAGDyWCnpgIb784rHRszY7pK0u6QnxmqUAR8AAMDkcbOkw2wfYnuKpNMlLdwms1DSWcXHb5R0VYxzjt5kuA7fgonuAJrCcWs/HLP2xHFrPxyz9jNpjllEDNk+R9JPJHVKOj8iltj+iKRFEbFQ0lckfc32MklPqj4oHNNO3bQBAACAnY8lXQAAgIpjwAcAAFBxEzrgG690CCYH2+fbXl1c92frY7NtX2H73uL/e0xkH/F0tg+wfbXtpbaX2H538TjHbZKy3WP7Jtu/KY7ZvxSPH1KUTlpWlFKaMtF9xdPZ7rR9q+0fFvc5ZpOc7eW277B9m+1FxWOVfn+csAFfsnQIJocLJG17vaFzJV0ZEYdJurK4j8ljSNJ7I+IoSS+U9K7i94vjNnkNSHppRBwt6RhJ822/UPWSSZ8rSiitVb2kEiaXd0u6s+E+x6w9/FFEHNNw/b1Kvz9O5AxfpnQIJoGIuEb1XUCNGsu6XCjpdTuzTxhbRKyKiF8XH29Q/Y/RXHHcJq2o21jc7S5uIemlqpdOkjhmk47teZL+WNJ/Fvctjlm7qvT740QO+OZKerjh/oriMbSHfSJiVfHxo5L2mcjOYHS2D5Z0rKQbxXGb1IqlwdskrZZ0haT7JK2LiKEiwvvk5PN/JP2DpFpxf09xzNpBSPqp7Vtsn108Vun3x8lwHT60uYgI21zfZxKyPUPSdyW9JyKeaqytzXGbfCJiWNIxtmdJulTSERPbI4zF9mskrY6IW2yfMsHdQTkvjoiVtveWdIXtuxqfrOL740TO8GVKh2Dyesz2fpJU/H/1BPcH27Ddrfpg7xsR8b3iYY5bG4iIdZKulvQiSbOK0kkS75OTzUmSXmt7ueqnJb1U0ufFMZv0ImJl8f/Vqv/j6gRV/P1xIgd8mdIhmLway7qcJekHE9gXbKM4j+grku6MiM82PMVxm6Rs71XM7Ml2r6SXq37u5dWql06SOGaTSkT8Y0TMi4iDVf8bdlVEvFUcs0nN9nTbM7d+LOkVkhar4u+PE1ppw/arVT//YWvpkI9PWGcwKtsXSTpF0hxJj0n6kKTvS7pE0oGSHpT0pojYdmMHJojtF0u6VtId+t25RR9Q/Tw+jtskZPt5qp8o3qn6P8YviYiP2H6G6rNHsyXdKunMiBiYuJ5iJMWS7vsi4jUcs8mtOD6XFne7JH0zIj5ue09V+P2R0moAAAAVR6UNAACAimPABwAAUHEM+AAAACqOAR8AAEDFMeADAACoOAZ8AAAAFceADwAAoOL+P67OHtjSGnfxAAAAAElFTkSuQmCC
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Color parts of a line based on its properties, e.g., slope.</span>
<span class="c1"># &#39;&#39;&#39;</span>

<span class="c1"># import numpy as np</span>
<span class="c1"># import matplotlib.pyplot as plt</span>
<span class="c1"># from matplotlib.collections import LineCollection</span>
<span class="c1"># from matplotlib.colors import ListedColormap, BoundaryNorm</span>

<span class="c1"># x = np.linspace(0, 3 * np.pi, 500)</span>
<span class="c1"># y = np.sin(x)</span>
<span class="c1"># z = np.cos(0.5 * (x[:-1] + x[1:]))  # first derivative</span>

<span class="c1"># # Create a colormap for red, green and blue and a norm to color</span>
<span class="c1"># # f&#39; &lt; -0.5 red, f&#39; &gt; 0.5 blue, and the rest green</span>
<span class="c1"># cmap = ListedColormap([&#39;r&#39;, &#39;g&#39;, &#39;b&#39;])</span>
<span class="c1"># norm = BoundaryNorm([-1, -0.5, 0.5, 1], cmap.N)</span>

<span class="c1"># # Create a set of line segments so that we can color them individually</span>
<span class="c1"># # This creates the points as a N x 1 x 2 array so that we can stack points</span>
<span class="c1"># # together easily to get the segments. The segments array for line collection</span>
<span class="c1"># # needs to be numlines x points per line x 2 (x and y)</span>
<span class="c1"># points = np.array([x, y]).T.reshape(-1, 1, 2)</span>
<span class="c1"># segments = np.concatenate([points[:-1], points[1:]], axis=1)</span>

<span class="c1"># # Create the line collection object, setting the colormapping parameters.</span>
<span class="c1"># # Have to set the actual values used for colormapping separately.</span>
<span class="c1"># lc = LineCollection(segments, cmap=cmap, norm=norm)</span>
<span class="c1"># lc.set_array(z)</span>
<span class="c1"># lc.set_linewidth(3)</span>

<span class="c1"># fig1 = plt.figure()</span>
<span class="c1"># plt.gca().add_collection(lc)</span>
<span class="c1"># plt.xlim(x.min(), x.max())</span>
<span class="c1"># plt.ylim(-1.1, 1.1)</span>

<span class="c1"># # Now do a second plot coloring the curve using a continuous colormap</span>
<span class="c1"># t = np.linspace(0, 10, 200)</span>
<span class="c1"># x = np.cos(np.pi * t)</span>
<span class="c1"># y = np.sin(t)</span>
<span class="c1"># points = np.array([x, y]).T.reshape(-1, 1, 2)</span>
<span class="c1"># segments = np.concatenate([points[:-1], points[1:]], axis=1)</span>

<span class="c1"># lc = LineCollection(segments, cmap=plt.get_cmap(&#39;copper&#39;), norm=plt.Normalize(0, 10))</span>
<span class="c1"># lc.set_array(t)</span>
<span class="c1"># lc.set_linewidth(3)</span>

<span class="c1"># fig2 = plt.figure()</span>
<span class="c1"># plt.gca().add_collection(lc)</span>
<span class="c1"># plt.xlim(-1, 1)</span>
<span class="c1"># plt.ylim(-1, 1)</span>
<span class="c1"># plt.show()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

